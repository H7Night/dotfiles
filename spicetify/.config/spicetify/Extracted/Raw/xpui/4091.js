"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4091],{3224:(e,a,i)=>{i.d(a,{e:()=>d});var t=i(30758),n=i(42772),o=i(1997),s=i(73737),r=i(86070);const l=t.memo((function({uri:e,size:a=n.M.md,className:i,onClick:l,showUpsell:d,canDownload:c,condensed:u}){const[m,g]=(0,s.A)(e),h=(0,o.W)(),p=(0,t.useCallback)((()=>{h({targetUri:e,intent:m?"remove-from-library":"add-to-library",type:"click"}),g(!m)}),[h,e,m,g]);return(0,r.jsx)(n.f,{className:i,isFollowing:m,onFollow:p,onClick:l,uri:e,size:a,showUpsell:d,canDownload:c,condensed:u})})),d=t.memo((function(e){return(0,r.jsx)(l,{...e})}))},6550:(e,a,i)=>{i.d(a,{v:()=>t.v});var t=i(59158)},26698:(e,a,i)=>{i.d(a,{C:()=>h});var t=i(30758),n=i(33100),o=i(1997),s=i(74929);const r=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,a){return e.filter((e=>e.label?e.label===a:e.width?r(e.width)===a:!!e.height&&r(e.height)===a))[0]}i(65748),i(30187);i(76082),i(66862);var d=i(32971);function c(e){const a=l(e,"standard"),i=l(e,"large"),t=l(e,"small"),n=l(e,"xlarge");return{image_url:a?.url,image_height:a?.height?.toString(),image_width:a?.width?.toString(),image_url_large:i?.url,image_height_large:i?.height?.toString(),image_width_large:i?.width?.toString(),image_url_small:t?.url,image_height_small:t?.height?.toString(),image_width_small:t?.width?.toString(),image_url_xlarge:n?.url,image_height_xlarge:n?.height?.toString(),image_width_xlarge:n?.width?.toString()}}var u=i(40354),m=i(67323),g=i(69479);function h(e,a){const i=(0,o.W)(),r=(0,u.z)(),{isPlaying:l,isActive:h}=(0,m.te)(e?.uri||""),{isActive:p}=(0,m.l_)(a?.uri||""),x=(0,n.NC)(s.pZ0),y=(0,t.useCallback)((t=>{if(!a||!e)return;const n=function(e,a,i=!1){const t=(e.coverArt?.sources||[]).sort(((e,a)=>(a.width||0)-(e.width||0))),n=function(e,a){const i=a.trailerV2?.data;return!(!i||!("uri"in i))&&e.uri===i.uri}(e,a),o=(s=a,0===s.showTypes?.length||n);var s;const r=e.mediaTypes&&e.mediaTypes.includes(d.Cx.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:a.name,type:"episode",album_uri:a.uri,album_title:a.name,artist_uri:a.uri,artist_name:a.name,...c(t),media_type:i?r:"audio",isTrailer:n,anonymousPlaybackAllowed:o}}(e,a,x);p&&!l&&h&&!t?r.resume({featureIdentifier:"anon-episode"}):p&&l&&!t?(i({type:"click",intent:"pause",targetUri:e.uri}),r.pause({featureIdentifier:"anon-episode"})):(i({type:"click",intent:"play",targetUri:e.uri}),r.play({uri:a.uri,pages:[{items:[{type:g.c.EPISODE,uri:e.uri,uid:null,metadata:n,provider:null}]}]},{referrerIdentifier:r.getReferrer(),featureIdentifier:"episode"},t))}),[a,e,x,p,l,h,r,i]);return y}},38976:(e,a,i)=>{i.d(a,{g:()=>t.g});var t=i(37063)},82832:(e,a,i)=>{i.d(a,{k:()=>de});var t=i(30758),n=i(97500),o=i.n(n),s=i(59082),r=i(12686),l=i(67380),d=i(39629),c=i(55530),u=i(24732),m=i(76082),g=i(87579),h=i(20837),p=i(60992),x=i(80902);const y="rFwxt8s8DYY8p1O7tYZW",v="sA2HogGQNi8R_zpCWei5",f="H92pPTuqDR5DcoTtjcb3";var b=i(86070);const k=({cardHeaderText:e,buttonText:a,buttonTarget:i,className:n})=>{const s=(0,t.useCallback)((e=>{e.stopPropagation()}),[]),r=(0,m.o_h)(i).toURLPath(!0);return(0,b.jsxs)("div",{className:o()(y,n),onClick:s,children:[(0,b.jsxs)("div",{className:v,children:[(0,b.jsx)(h.p,{className:f,size:"small",semanticColor:"textBase"}),(0,b.jsx)(d.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:e})]}),(0,b.jsx)(p.$,{size:"small",colorSet:"invertedLight",component:x.v,href:r,children:a})]})};var w=i(86855),j=i(3224),C=i(77663),_=i(67954),P=i(58977),T=i(61570),D=i(45806),N=i(38976),S=i(6550),I=i(35524),E=i(77078),M=i(52270),R=i(22087),U=i(85105);const B="T9iBYqbERZHdwDl0U2tC",L="DS4BYgmEO7Wy5RutUt60",z="N2Fkohxhgu1_QAWUDc4O",A="hGbRiYkIjjy4sJvor0A2",F="OgaF7O4ER8AvZfFd6JdJ",O="yajqMP67F0nOikjbvLX9",G="bdGDIiYj50H66Hx5uevz",H="kiT5NMttSzIDbtqBKc1J",V="TG1hsDPHeO5QUf4EQasO",W="_NdByrVnM0OS7aK_GfRn",Y="afJf_mGi7ghd5WYQwPLb",Z="UpgTvLnGW6GFjAUfaPXH",Q="kxVuYXZ4sVWn6XuJgFhX",q="UvdRnanMNuY384mjTf2l",J="fmu47VumZ84IoKgMK1yU",X={intent:"share",type:"click",itemIdSuffix:"contextmenu/episode/share"},K=t.memo((function({episodeUri:e,showUri:a,sharingInfo:i,size:n,canDownload:s,requestId:r,onMarkAsPlayed:l,onMoreButtonClick:d,name:c,fullyPlayed:u,index:m}){const h=(0,M.T)(e),{spec:p,logger:x}=(0,U.r)(w.d,{data:{uri:e,reason:r||"",position:m}}),y=n===I.E.LARGE?"medium":"small",v=(0,t.useMemo)((()=>(0,b.jsx)(j.e,{uri:e,size:y,className:o()({[F]:(0,E.X)(h)}),onClick:(a,i)=>{i===R.NV.ADD?x.logInteraction(p.downloadButtonFactory().hitDownload({itemToDownload:e})):R.NV.REMOVE&&x.logInteraction(p.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},canDownload:s,condensed:!0})),[e,h,p,x,y,s]),f=(0,t.useMemo)((()=>(0,b.jsx)(P.w,{uri:e,sharingInfo:i,interactionData:X,size:y,onClick:()=>{x.logInteraction(p.copyLinkFactory().hitShare({entityToBeShared:e,shareId:i?.shareId||""}))}})),[e,i,p,x,y]),k=(0,t.useMemo)((()=>(0,b.jsx)(_.b,{uri:e,size:y,className:F,onClick:a=>{a?x.logInteraction(p.saveToLibraryButtonFactory().hitLike({itemToBeLiked:e})):x.logInteraction(p.saveToLibraryButtonFactory().hitRemoveLike({itemNoLongerLiked:e}))},condensed:!0})),[e,p,x,y]),B=(0,S.v)(e),L=(0,t.useMemo)((()=>(0,b.jsx)(N.g,{size:y,uri:e,className:F})),[e,y]),z=(0,t.useMemo)((()=>(0,b.jsx)(T.b,{menu:(0,b.jsx)(D.b,{uri:e,showUri:a,isPlayed:u,onMarkAsPlayed:l}),children:(0,b.jsx)(C.e,{size:y,label:g.Ru.get("more.label.context",c),onClick:d})})),[e,u,c,l,d,a,y]);return(0,b.jsxs)(b.Fragment,{children:[B?L:k,v,f,z]})}));var $=i(79462),ee=i(20934),ae=i(47939),ie=i(4528),te=i(20924),ne=i(8065),oe=i(15652),se=i(69479),re=i(18487),le=i(66312);const de=t.memo(t.forwardRef((function({uri:e,name:a,showName:i,showUri:n,size:h,description:p,durationMs:x,images:y,badges:v,fullyPlayed:f,releaseDate:w,resumePositionMs:j,isCurrentlyPlaying:C,isPlaying:_,onContextMenu:P,onTouchStart:T,onTouchEnd:D,handlePlaybackClick:N,draggable:S,handleDragStart:E,handleClick:M,position:R,index:U,isPlayable:F,isPaywalled:X,isUserSubscribed:de,isCourseLesson:ce,episodeSharingInfo:ue,playButtonWrapper:me=null,highlightText:ge=e=>e,onMarkAsPlayed:he,contentInformation:pe,requestId:xe,mediaTypes:ye,onMoreButtonClick:ve},fe){const be=(0,te.g)(),ke=C&&_,we=h===I.E.LARGE,je=(0,m.o_h)(e).toURLPath(!0),Ce=(0,m.o_h)(n)?.toURLPath(!0),_e=(0,ee.hD)(e,w?.isoString,j,f),Pe=X&&!de,Te=ye?.includes(re.C.Video)??!1,De=Pe||F,Ne=g.Ru.get("tracklist.a11y.play",a,i),Se=g.Ru.get("tracklist.a11y.pause",a,i),Ie=(0,t.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),ce||(be(je),M&&M(e))}),[ce,M,be,je]),Ee=(0,t.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),Ce&&be(Ce)}),[Ce,be]),Me=(0,t.useCallback)((e=>{e.stopPropagation(),Pe||N(e)}),[N,Pe]),Re=(0,b.jsx)(ae.R,{size:"small",version:ae.H.secondary,onClick:Me,isPlaying:ke,disabled:!De,locked:Pe,ariaPlayLabel:Ne,ariaPauseLabel:Se}),Ue=me?me(Re):Re,Be=(0,b.jsxs)(s.d,{className:z,href:je,onClick:Ie,lineClamp:2,children:[_e&&(0,b.jsx)(ee.Tc,{}),ge(a)]}),Le=(0,b.jsxs)(r.j,{lineClamp:2,paddingBottom:we?l.v4:void 0,children:[Te&&(0,b.jsx)(ie.T,{className:Y}),i&&Ce&&(0,b.jsx)($.N,{to:Ce,onClick:Ee,children:(0,b.jsx)(d.E,{variant:"bodySmall",semanticColor:"textSubdued",children:ge(i)})})]}),ze=(0,b.jsxs)("div",{className:q,children:[(0,b.jsx)(c.v,{lineClamp:2,paddingBottom:we?l.vw:void 0,children:ge(p??"")}),(0,b.jsxs)("div",{className:G,children:[(0,b.jsx)("div",{className:Z,children:v}),(0,b.jsx)(le.j,{isPlaying:ke,fullyPlayed:f,durationMs:x,releaseDate:w,resumePositionMs:j,position:C?R:void 0})]})]}),Ae=(0,b.jsxs)("div",{className:Q,children:[(0,b.jsx)("div",{onClick:e=>{e.stopPropagation()},className:A,children:(0,b.jsx)(K,{episodeUri:e,showUri:n??"",sharingInfo:ue,size:h,canDownload:!X||X&&de,requestId:xe,index:U,name:a,fullyPlayed:f,onMarkAsPlayed:he,onMoreButtonClick:ve})}),(0,b.jsx)("div",{children:Ue})]}),Fe=(0,b.jsx)("div",{className:H,children:(0,b.jsx)(ne.b,{className:o()(V,{[W]:we}),type:se.c.EPISODE,size:(e=>{switch(e){case I.E.LARGE:return oe.Qe.SIZE_112;case I.E.MEDIUM:return oe.Qe.SIZE_64;default:return oe.Qe.SIZE_48}})(h),title:a,shape:ne.u.ROUNDED_CORNERS,images:y})});return(0,b.jsxs)("div",{className:o()(B,{[L]:C,[O]:ce}),"data-testid":`episode-${U}`,draggable:S&&!!E,onDragStart:E,onClick:Ie,onContextMenu:P,onTouchStart:T,onTouchEnd:D,children:[pe&&(0,b.jsx)(k,{className:J,cardHeaderText:pe.cardHeaderText,buttonText:pe.buttonText,buttonTarget:pe.buttonTarget}),(0,b.jsx)(u.v,{size:"xxl",ref:fe,media:Fe,title:Be,id:`episode-${U}`,subtitle:i&&Ce?Le:ze,body:i&&Ce?ze:void 0,variant:"naked",footer:Ae,hoverBackgroundColor:"backgroundHighlight",layout:we?"wide":"regular",horizontalGap:we?l.lT:l.CJ,verticalGap:l.v4,paddingBlockStart:l.CD,paddingBlockEnd:l.CD})]})})))}}]);
//# sourceMappingURL=4091.js.map