"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2391],{1233:(e,t,s)=>{s.d(t,{d:()=>n});var i=s(30758),l=s(84521);const n=()=>(0,i.useContext)(l.D)},5875:(e,t,s)=>{s.d(t,{K:()=>n});var i=s(18662),l=s(65891);function n(){return(0,l.N)(i.a)}},16018:(e,t,s)=>{s.r(t),s.d(t,{default:()=>sl});var i=s(30758),l=s(13932),n=s(36948),r=s(70447),a=s(29174),o=(s(54615),s(17369)),c=s(71274),d=s(17512),u=s(86070);function h({htmlString:e,children:t,htmlFor:s,semanticColor:l="textSubdued",variant:n="bodySmall",className:r,disabled:a,...h}){const{filter:g}=(0,i.useContext)(d.g);if(!t&&!e)return null;let x=t;return e&&(x=(0,u.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})),(0,u.jsx)(o.E,{as:"label",variant:n,semanticColor:l,htmlFor:s,className:r,style:a?{opacity:.8}:void 0,"data-testid":h["data-testid"],children:g.length>0?(0,u.jsx)(c.M,{searchWords:[g],textToHighlight:t||e||""}):x})}var g=s(97500),x=s.n(g),p=s(64528);const m=(e,t)=>"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,p.u)(e,t):"boolean"!=typeof e||e,j=(0,i.createContext)(void 0),f=({children:e})=>{const[t,s]=(0,i.useState)(!1),[l,n]=(0,i.useState)(new Set),r=(0,i.useCallback)(((e,t)=>{n((s=>{if(s.has(e)===t)return s;const i=new Set(s);return t?i.add(e):i.delete(e),i}))}),[]),a=l.size>0,o=(0,i.useMemo)((()=>({sectionMatch:t,setSectionMatch:s,sectionContainsMatch:a,setSectionFilterMatchQueryValue:r})),[a,t,r]);return(0,u.jsx)(j.Provider,{value:o,children:e})},y=()=>{const e=(0,i.useContext)(j);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e},b="x-settings-row",v=({children:e,filterMatchQuery:t,className:s})=>{const{filter:l}=(0,i.useContext)(d.g),{setSectionFilterMatchQueryValue:n,sectionMatch:r}=y(),a=m(l,t);return(0,i.useEffect)((()=>{n(t,a)}),[a,t,n]),r||a?(0,u.jsx)("div",{className:x()(b,s),children:e}):null},w="x-settings-secondColumn",k=({children:e})=>(0,u.jsx)("div",{className:w,children:e}),R="x-settings-firstColumn",S=({className:e,children:t})=>(0,u.jsx)("div",{className:x()(R,e),children:t}),C="x-settings-section",M="afyQ2L5zTtlSDtn9WPjd";function N({children:e,filterMatchQuery:t}){const{filter:s}=(0,i.useContext)(d.g),{setSectionMatch:l,sectionContainsMatch:n}=y(),r=m(s,t);(0,i.useEffect)((()=>{l(r)}),[r,l]);const a=!r&&!n;return(0,u.jsx)("div",{className:x()(C,{[M]:a}),children:e})}function F(e){return(0,u.jsx)(f,{children:(0,u.jsx)(N,{...e})})}function A({children:e,className:t,semanticColor:s="textBase",disabled:l}){const{filter:n}=(0,i.useContext)(d.g);return(0,u.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",semanticColor:s,className:t,style:l?{opacity:.8}:void 0,children:(0,u.jsx)(c.M,{searchWords:[n],textToHighlight:e})})}var Q=s(80022),E=s(39082);const I="ycD5EZ3ZQ05CuUV5ZMGN",_=()=>{const{openURLWithSessionTransfer:e}=(0,E.L)();return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("web-player.settings.account"),children:[(0,u.jsx)(A,{children:a.Ru.get("web-player.settings.account")}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("web-player.settings.edit-login-methods"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"web-player.settings.edit-login-methods-button",children:a.Ru.get("web-player.settings.edit-login-methods")})}),(0,u.jsx)(k,{children:(0,u.jsx)(n.n,{id:"web-player.settings.edit-login-methods-button",size:"small",className:I,onClick:()=>{e(Q.Oo)},iconTrailing:r.H,children:a.Ru.get("web-player.settings.edit-login-methods-button")})})]})]})};var O=s(62411),z=s(66610),L=s(85387);const T=e=>{const t=(0,L.zy)(),s=new URLSearchParams(t.search).get("highlight"),l=(0,i.useRef)(null);return(0,i.useEffect)((()=>{e&&s?.includes(e)&&l.current&&(l.current.focus(),l.current.scrollIntoView({behavior:"smooth",block:"center"}),document.documentElement.classList.remove("no-focus-outline"))}),[e,s]),(0,i.useCallback)((e=>{l.current=e}),[])};var q=s(99454),K=s(21661);const D="xpVsqMQfmc20cBLG04zw",B=({dsaModeEnabled:e,setDsaModeEnabled:t})=>{const s=(0,O.wA)(),i=T(q.a.DSA);return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("web-player.settings.personalized-recommendations"),children:[(0,u.jsxs)(S,{className:D,children:[(0,u.jsx)(h,{htmlFor:"settings.dsaMode",children:a.Ru.get("web-player.settings.personalized-recommendations")}),(0,u.jsx)(h,{htmlFor:"settings.dsaMode",variant:"marginal",children:a.Ru.get("web-player.settings.personalized-recommendations-body-text")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.dsaMode",value:!e,onSelected:e=>{e?t(!e):s(K.UU.actions.open({onConfirm:()=>t(!e)}))},ref:i})})]})};var P=s(69198),U=s(30675),H=s(35017),W=s(98418);const V=new(s(61179).l)("changeAttributes","mutation","ac50e9d82b3b8303c73512f297140e774a69eb0d6250769b5669e69b4be28886",null);var G=s(68007),Z=s(17643),Y=(s(3291),s(87841));const J=["personalizedRecommendations"],X=()=>{const{getGraphQLLoader:e}=(0,W.mv)(),t=e(),s=(0,P.jE)(),l=((0,Z.g)(),(0,O.wA)()),n=!(0,G.n)(),r="1"===(0,Y.$)("dsa-mode-enabled"),a="1"===(0,Y.$)("dsa-mode-available"),o=(0,i.useCallback)((async e=>{if(n)throw new Error("User has to be online");await async function(e,t){const s=await e(V,{input:{dsaModeEnabled:t,birthdate:null,filterAgeRestrictedContent:null,filterExplicitContent:null,lockFilterExplicitContent:null,optInTrialPremiumOnlyMarket:null}}),{errors:i,data:l}=s||{};if(!l?.changeUserAccountAttributes)throw i&&i.length>0?new Error(`GraphQL error: ${i[0].message}`):new Error("Unknown GraphQL error!");if("ChangeUserAccountAttributesResult"!==l.changeUserAccountAttributes.__typename||"ChangeUserAccountAttributesResult"===l.changeUserAccountAttributes.__typename&&!l.changeUserAccountAttributes.success)throw new Error("Couldn't successfully set new value")}(t,e)}),[n,t]),c=(0,i.useRef)(r);c.current=r;const{data:d}=(0,U.I)({queryKey:J,queryFn:()=>c.current});return[a??!1,d??!1,(0,H.n)({mutationFn:o,onMutate:async e=>{await s.cancelQueries({queryKey:J});const t=s.getQueryData(J);return s.setQueryData(J,e),{prevState:t,newState:e}},onError:(e,t,i)=>{s.setQueryData(J,i?.prevState),l(K.bL.actions.open())},onSuccess:()=>{0}}).mutate]},$=({sectionAbove:e})=>{const[t,s,i]=X();return t||e?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("web-player.settings.content-preferences"),children:[(0,u.jsx)(A,{children:a.Ru.get("web-player.settings.content-preferences")}),e,t&&(0,u.jsx)(B,{dsaModeEnabled:s,setDsaModeEnabled:i})]}):null};let ee=function(e){return e.LIBRARY_COMPACT_MODE="library-compact-mode",e.NOW_PLAYING_VIEW="now-playing-view",e.CANVAS_VIDEOS="canvas-videos",e.NORMALIZE_QUALITY="normalize-quality",e.PUBLISH_ACTIVITY="publish-activity",e.STREAMING_QUALITY="streaming-quality",e.SMART_SHUFFLE="smart-shuffle",e}({});var te=s(67776);const se=()=>{const{spec:e,logger:t}=(0,te.h)();return(0,i.useCallback)(((s,i,l)=>{l?t.logInteraction(e.settingsRowFactory({identifier:s}).hitUiReveal()):i?t.logInteraction(e.settingsRowFactory({identifier:s}).hitSettingEnable()):t.logInteraction(e.settingsRowFactory({identifier:s}).hitSettingDisable())}),[t,e])};var ie=s(48837);const le=()=>{const{itemsView:e,setItemsView:t}=(0,ie.t)(),s=se(),l=(0,i.useCallback)((e=>{s(ee.LIBRARY_COMPACT_MODE,e),t((e=>e===ie.X.LIST_DEFAULT?ie.X.LIST_COMPACT:ie.X.LIST_DEFAULT))}),[s,t]);return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("settings.library.compactMode"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.library.compact-mode",children:a.Ru.get("settings.library.compactMode")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.library.compact-mode",value:e===ie.X.LIST_COMPACT,onSelected:l})})]})},ne=({children:e})=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.library"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.library")}),e]})}),re="_czgnX6y44Or6X9pI6gc",ae=({children:e,outerRef:t})=>(0,u.jsx)(d.s,{uri:"spotify:internal:settings",children:(0,u.jsx)("div",{ref:t,className:re,"data-testid":"settings-page",children:e})});var oe=s(87327),ce=s(28515);const de="O2vRz41OsAH0O7xVA4La",ue="y4CT4_q630fWtqu7Zggt";function he({containerRef:e}){return(0,u.jsxs)("div",{className:de,children:[(0,u.jsx)(o.E,{as:"h1",variant:"titleMedium",className:ue,semanticColor:"textBase",paddingBottom:oe.CD,children:a.Ru.get("desktop.settings.settings")}),(0,u.jsx)("div",{children:(0,u.jsx)(ce.S,{placeholder:a.Ru.get("desktop.settings.search"),alwaysExpanded:!1,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:0})})]})}var ge=s(12624),xe=s(17013);const pe=()=>{const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.hardwareAcceleration);return navigator&&/^win/i.test(navigator.platform)?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.compatibility"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.compatibility")}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.enableHardwareAcceleration"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:a.Ru.get("desktop.settings.enableHardwareAcceleration")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.enableHardwareAcceleration",value:!!t,onSelected:s})})]})]}):null};var me=s(42620),je=s(49496),fe=(s(32807),s(7354),s(40638));function ye(e){return`${e>0?`+${e}`:e}dB`}var be=s(72056),ve=s(21757);function we(){const e=(0,ve.G)(),[t,s]=(0,i.useState)(e.getPreset()),l=(0,i.useCallback)((t=>{e.setPreset(t)}),[e]);return(0,i.useEffect)((()=>e.subscribeToPresetChange((e=>{s(e)})))),[t,l]}const ke="x-settings-equalizerPanelWrapper",Re="x-settings-equalizerPanelFilters",Se="x-settings-equalizerPanelFilter",Ce="x-settings-equalizerPanelInput",Me="x-settings-equalizerPanelLabel",Ne="x-settings-equalizerPanelGainLabel",Fe="x-settings-equalizerPanelGainLabelUp",Ae="x-settings-equalizerPanelGainLabelDown",Qe="x-settings-equalizerPanelCanvas";function Ee({filter:e,onChange:t,disabled:s}){const l=(0,ve.G)(),n=(0,i.useRef)(null),[r]=we();(0,i.useEffect)((()=>{const t=r.filters.find((t=>t.key===e.key));n.current&&t&&(n.current.value=`${t.gain}`)}),[r,e.key]),(0,i.useEffect)((()=>{n.current&&n.current.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",e.gain))}),[]);const o=(0,fe.YQ)(((e,t)=>{l.setFilterGain(e,t)}),100,{maxWait:200});return(0,u.jsxs)("div",{className:Se,children:[(0,u.jsx)("input",{"aria-label":a.Ru.get("equalizer.filterLabel",e.frequency),ref:n,type:"range",min:-be.Zs,max:be.Zs,step:.1,disabled:s,defaultValue:e.gain,className:Ce,onChange:s=>{const i=parseFloat(s.target.value);s.target.setAttribute("aria-valuetext",a.Ru.get("equalizer.filterA11yValueText",i)),o(e.key,i),t(i)}}),(0,u.jsx)("label",{className:Me,children:(c=e.frequency,c>=1e3?c/1e3+"KHz":`${c}Hz`)})]});var c}function Ie(e,t){e.moveTo(t[0],t[1]);for(let s=2;s<t.length-1;s+=2)e.lineTo(t[s],t[s+1])}s(88747);function _e(e){const t=.6,s=[],i=e.reduce(((e,t)=>(e.push(t.x),e.push(t.y),e)),[]);i.unshift(e[0].y),i.unshift(e[0].x),i.push(e[e.length-1].x),i.push(e[e.length-1].y);for(let e=2;e<i.length-4;e+=2)for(let l=0;l<=16;l++){const n=(i[e+2]-i[e-2])*t,r=(i[e+4]-i[e])*t,a=(i[e+3]-i[e-1])*t,o=(i[e+5]-i[e+1])*t,c=l/16,d=2*Math.pow(c,3)-3*Math.pow(c,2)+1,u=-2*Math.pow(c,3)+3*Math.pow(c,2),h=Math.pow(c,3)-2*Math.pow(c,2)+c,g=Math.pow(c,3)-Math.pow(c,2),x=d*i[e]+u*i[e+2]+h*n+g*r,p=d*i[e+1]+u*i[e+3]+h*a+g*o;s.push(x),s.push(p)}return s}s(89370);var Oe=s(66590);function ze(e,t,s=!1){const i=e.getContext("2d");i&&(i.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,s,i=!1){const l=t.clientWidth,n=t.clientHeight,r=l/s.length/2;e.beginPath();const a=e.createLinearGradient(l/2,0,l/2,n);i?(a.addColorStop(0,"rgba(179, 179, 179, 100%)"),a.addColorStop(1,"rgba(179, 179, 179, 0%)")):(a.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),a.addColorStop(1,"rgba(11%, 73%, 33%, 0%)")),e.fillStyle=a,Ie(e,_e(s)),e.lineTo(l-r,n),e.lineTo(r,n),e.fill()}(i,e,t,s),function(e,t,s=!1){e.beginPath(),e.strokeStyle=s?"rgb(179, 179, 179)":"rgb(11%, 73%, 33%)",e.lineWidth=4,Ie(e,_e(t)),e.stroke()}(i,t,s),function(e,t){e.fillStyle=Oe.ONy,t.forEach((t=>{e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(i,t))}function Le(e,t){const s=t.clientWidth/e.length;return e.map(((e,i)=>({x:i*s+s/2,y:t.clientHeight-(e+be.Zs+3)/(2*be.Zs+6)*t.clientHeight})))}var Te=s(92599);function qe(e,t){const s=(0,i.useRef)(null),l=(()=>{const[e,t]=(0,i.useState)(window.devicePixelRatio||1);return(0,i.useEffect)((()=>{const e=()=>{matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",(()=>{t(window.devicePixelRatio),e()}),{once:!0})};e()}),[]),e})(),n=(0,i.useCallback)((()=>{if(!s.current)return;const e=l,t=s.current.getBoundingClientRect();s.current.width=t.width*e,s.current.height=t.height*e,s.current.getContext("2d")?.scale(e,e)}),[l]),r=(0,i.useCallback)((()=>{if(!s.current||!e.current)return;const i=Le(e.current,s.current);ze(s.current,i,t)}),[e,t]),a=(0,i.useCallback)((i=>{if(!s.current||!e.current)return;const l=Le(e.current,s.current),n=Le(i,s.current);!function(e,t,s,i=!1){let l=0;const n=JSON.parse(JSON.stringify(t)),r=s.map(((e,s)=>e.y-t[s].y)),a=()=>{if(!(l>=18)){for(let e=0;e<n.length;e++){const i=t[e].y,a=r[e];n[e].y=(s=i,o=a,c=l,(c/=9)<1?o/2*Math.pow(c,3)+s:(c-=2,o/2*(Math.pow(c,3)+2)+s))}var s,o,c;ze(e,n,i),l++,window.requestAnimationFrame(a)}};window.requestAnimationFrame(a)}(s.current,l,n,t)}),[e,t]);return(0,i.useEffect)((()=>{n(),r()}),[n,r]),(0,Te.w)({refOrElement:s,onResize:()=>{n(),r()}}),{canvasRef:s,drawCanvas:r,animateCanvas:a}}function Ke(){const e=(0,ve.G)(),[t,s]=(0,i.useState)(!1),l=(0,i.useCallback)((t=>{e.setEnabledState(t)}),[e]);return(0,i.useEffect)((()=>e.subscribeToEnabledState(s)),[e]),[t,l]}function De(e){const{disabled:t=!1}=e,[s,l]=Ke(),[n,r]=we(),o=(0,i.useRef)(n.filters.map((e=>e.gain))),{canvasRef:c,drawCanvas:d,animateCanvas:h}=qe(o,t);return(0,i.useEffect)((()=>{const e=n.filters.map((e=>e.gain));"custom"!==n.key&&h(e),o.current=e}),[n,h]),(0,u.jsxs)("div",{className:ke,children:[(0,u.jsx)("canvas",{"aria-label":a.Ru.get("equalizer.equalizer"),role:"img",className:Qe,ref:c}),(0,u.jsx)("label",{className:x()(Ne,Fe),children:ye(be.Zs)}),(0,u.jsx)("label",{className:x()(Ne,Ae),children:ye(-be.Zs)}),(0,u.jsx)("div",{className:Re,dir:"ltr",children:n.filters.map(((e,i)=>(0,u.jsx)(Ee,{filter:e,disabled:t,onChange:e=>{o.current[i]=e,d(),s||l(!0),r((0,be.zP)(o.current))}},e.key)))})]})}var Be=s(36706);const Pe="x-settings-equalizerPresetsContainer",Ue="x-settings-equalizerPresetsLabel";function He(){const[e,t]=Ke(),[s,i]=we();return(0,u.jsxs)("div",{className:Pe,children:[(0,u.jsx)(o.E,{as:"label",variant:"bodySmall",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:Ue,children:a.Ru.get("equalizer.presets")}),(0,u.jsxs)(Be.C,{id:"desktop.equalizer.preset",value:s.key,onSelect:s=>{i(s),e||t(!0)},children:["custom"===s.key&&(0,u.jsx)("option",{value:s.key,children:s.displayName}),Object.entries(be.fG).map((([e,t])=>(0,u.jsx)("option",{value:e,children:t.displayName},e)))]})]})}function We(){const[e,t]=Ke(),[,s]=we();return(0,u.jsx)(n.n,{onClick:()=>{s(be.fG.flat.key),e||t(!0)},size:"small",children:a.Ru.get("equalizer.reset")})}function Ve(){const[e,t]=Ke();return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.equalizer",children:a.Ru.get("equalizer.equalizer")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.equalizer",value:e,onSelected:t})})]})}var Ge=s(77676),Ze=s(87961),Ye=s(81223),Je=s(43878),Xe=s(87612),$e=s(17154);const et="x-settings-equalizerSection",tt="TbaDPIllHqWUa2wY19l8",st="x-settings-equalizerWrapper",it="x-settings-equalizerResetButtonWrapper",lt="L1qvKGTZ3gTJuTMowxPQ",nt="PkwO5W6PkdBcHCKK_6NS",rt="TPJyLe1arBTuHtf_1Hy4",at=({className:e})=>{const{operatingSystem:t}=(0,W.mv)(),s=(0,Ye.e)(t),{downloadUrl:l}=(0,Je.z)(),{spec:n,logger:r}=(0,$e.r)(Ze.V1,{data:{identifier:"equalizer"}}),c=(0,Xe.t)(n),d=(0,i.useCallback)((()=>{r.logInteraction(n.downloadButtonFactory().hitDownloadFile())}),[r,n]);return(0,u.jsxs)("div",{className:e,ref:c,children:[(0,u.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:a.Ru.get("web-player.download-page.upsell-popover.title-equalizer",s)}),(0,u.jsxs)("div",{className:nt,children:[(0,u.jsx)(o.E,{variant:"bodyMedium",children:a.Ru.get("web-player.download-page.upsell-popover.description-equalizer")}),(0,u.jsx)("div",{className:rt,children:(0,u.jsx)(Ge.$,{href:l,target:"_blank",download:!0,onClick:d,children:a.Ru.get("web-player.download-page.download-button")})})]})]})};var ot=s(32040);function ct(){const e=(0,ve.G)(),t=(0,l.NC)(ot.AM,{loadingValue:!1}),s=(0,je.K)();return t&&e.isSupported()?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Ve,{}),(0,u.jsx)(v,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),children:(0,u.jsxs)("div",{className:et,children:[(0,u.jsx)(He,{}),(0,u.jsx)("div",{className:st,children:(0,u.jsx)(De,{})}),(0,u.jsx)("div",{className:it,children:(0,u.jsx)(We,{})})]})})]}):s?(0,u.jsx)(v,{filterMatchQuery:a.Ru.get("equalizer.equalizer"),className:x()(tt),children:(0,u.jsxs)("div",{className:et,children:[(0,u.jsx)("div",{className:st,children:(0,u.jsx)(De,{disabled:!0})}),(0,u.jsx)(at,{className:lt})]})}):null}const dt=()=>{const[e,t]=X(),s=(0,ge.t)(),[{data:l},{mutate:n}]=(0,xe.K)(s.playback.smartShuffle),r=se(),o=(0,i.useCallback)((e=>{r(ee.SMART_SHUFFLE,e),n(e)}),[r,n]);return(0,u.jsxs)(v,{filterMatchQuery:"test",children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.smartShuffle",disabled:t,children:t?a.Ru.get("web-player.settings.playback.smart-shuffle-dsa"):a.Ru.get("web-player.settings.playback.smart-shuffle")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.smartShuffle",value:l??!0,onSelected:o,disabled:t})})]})};var ut=s(8558);const ht="x-settings-crossFadeContainer",gt="R4qAisn3_n07n9xPJHIy",xt=12e3,pt=()=>{const e=(0,l.NC)(ut.tsC),t=(()=>{const e=(0,l.NC)(ot.gl,{loadingValue:!1}),t=(0,l.NC)(ot.kR,{loadingValue:!1});return e&&t})(),s=(0,ge.t)(),[{data:n},{mutate:r}]=(0,xe.K)(s.playback.audioCrossfade),[{data:c},{mutate:d}]=(0,xe.K)(s.playback.audioCrossfadeMs),[{data:g},{mutate:x}]=(0,xe.K)(s.playback.autoMix),[{data:p},{mutate:m}]=(0,xe.K)(s.playback.monoAudio),[{data:j},{mutate:f}]=(0,xe.K)(s.playback.loudnessBalancePodcasts),[y,b]=(0,i.useState)(-1),w=-1===y?Number(c):y,R=`${Math.round(w/1e3)} ${a.Ru.get("desktop.settings.sec")}`;return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.playback"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.playback")}),void 0!==n&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.crossfadeTracks"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.crossfadeTracks",children:a.Ru.get("desktop.settings.crossfadeTracks")}),n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:ht,children:(0,u.jsx)(me.z2,{value:w,max:xt,step:1e3,labelText:a.Ru.get("desktop.settings.crossfadeTracks"),onDragStart:e=>{b(e*xt)},onDragMove:e=>{b(e*xt)},onDragEnd:e=>{const t=Math.floor(e*xt);b(t),d(t)}})}),(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",className:gt,children:R})]})]}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.crossfadeTracks",value:n,onSelected:r})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.automixInfo"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.automixInfo",children:a.Ru.get("desktop.settings.automixInfo")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.automixInfo",value:!!g,onSelected:x})})]}),t&&(0,u.jsx)(dt,{}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.monoDownmixer"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.monoDownmixer",children:a.Ru.get("desktop.settings.monoDownmixer")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.monoDownmixer",value:!!p,onSelected:m})})]}),e&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.otfn"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.otfn",children:a.Ru.get("desktop.settings.otfn")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.otfn",value:!!j,onSelected:f})})]}),(0,u.jsx)(ct,{})]})};var mt=s(78239),jt=s(7617),ft=s(6999),yt=s(23164);const bt={get[mt.WZ.MINIMIZED](){return a.Ru.get("desktop.settings.autostartMinimized")},get[mt.WZ.NORMAL](){return a.Ru.get("desktop.settings.autostartNormal")},get[mt.WZ.OFF](){return a.Ru.get("desktop.settings.autostartOff")}},vt=(0,ft.D)()===yt.f.macOS,wt=()=>{const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.startupBehaviour.autoStartMode),[{data:i},{mutate:l}]=(0,xe.K)(e.startupBehaviour.closeToTray);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.startupAndWindowBehavior"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.startupAndWindowBehavior")}),void 0!==t&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.autostart"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.autostart",children:a.Ru.get("desktop.settings.autostart")})}),(0,u.jsx)(k,{children:(0,u.jsxs)(Be.C,{id:"desktop.settings.autostart",value:t,onSelect:e=>{const t=(0,jt.PF)(e);t&&s(t)},children:[(0,u.jsx)("option",{value:mt.WZ.MINIMIZED,children:bt[mt.WZ.MINIMIZED]}),(0,u.jsx)("option",{value:mt.WZ.NORMAL,children:bt[mt.WZ.NORMAL]}),(0,u.jsx)("option",{value:mt.WZ.OFF,children:bt[mt.WZ.OFF]})]})})]}),!vt&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.closeShouldMinimize"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.closeShouldMinimize",children:a.Ru.get("desktop.settings.closeShouldMinimize")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.closeShouldMinimize",value:!!i,onSelected:l})})]})]})},kt={"auto-detect":{label:()=>a.Ru.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>a.Ru.get("desktop.settings.proxy.noproxy")},http:{label:()=>a.Ru.get("desktop.settings.proxy.http")},socks4:{label:()=>a.Ru.get("desktop.settings.proxy.socks4")},socks5:{label:()=>a.Ru.get("desktop.settings.proxy.socks5")}},Rt=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}];var St=s(8937);const Ct="mpdBa62OP4Fr5wvCsa89",Mt="x-proxySettings-ProxySettings",Nt="x-proxySettings-fullWidth",Ft="x-settings-input",At="x-proxySettings-horizontalPair",Qt=({id:e,type:t,placeHolder:s,inputRef:i,handleOnChange:l})=>(0,u.jsx)("input",{type:t||"text",id:e,"data-testid":e,className:Ft,placeholder:s,ref:i,onChange:l}),Et=({children:e,label:t})=>(0,u.jsx)(St.g,{label:t,className:At,children:e}),It="wjxwX0Alq8DVfoBObi3R";function _t({onClick:e}){return(0,u.jsx)(n.n,{className:It,onClick:e,children:a.Ru.get("settings.restartApp")})}const Ot=(e,t,s)=>{let i=`${e}:${t}`;switch(s){case 2:i+="@http";break;case 3:i+="@socks4";break;case 4:i+="@socks5"}return i},zt=({addr:e,mode:t="0",pass:s,user:l,setAddr:n,setMode:r,setPass:o,setUser:c,restartContainer:d,fullWidth:h,onChange:g})=>{const p=(0,i.useRef)(null),m=(0,i.useRef)(null),j=(0,i.useRef)(null),f=(0,i.useRef)(null),y=Number(t),[b,v]=(0,i.useState)(""),[w,k]=(0,i.useState)(""),[R,S]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const[t="",s=""]=e?.split(/[:@]+/)||[];v(t),k(s),p.current&&(p.current.value=t),m.current&&(m.current.value=s)}),[e]),(0,i.useEffect)((()=>{f.current&&s&&(f.current.value=s.toString())}),[s]),(0,i.useEffect)((()=>{j.current&&l&&(j.current.value=l.toString())}),[l]);const C=0!==y&&1!==y,M=3!==y;return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.proxy.title"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.proxy.title")}),(0,u.jsxs)("div",{className:x()(Mt,h?Nt:null),children:[(0,u.jsx)(Et,{label:a.Ru.get("desktop.settings.proxy.type"),children:(0,u.jsx)(Be.C,{id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);r(t),S(!0);const s=Rt.find((e=>e.enumValue===t));s&&g?.(s.enumKey)},children:Rt.map((({enumKey:e,enumValue:t})=>(0,u.jsx)("option",{value:t,"data-testid":e,children:kt[e]?kt[e].label():""},e)))})}),C?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:Ct,children:[(0,u.jsx)(Et,{label:a.Ru.get("desktop.settings.proxy.host"),children:(0,u.jsx)(Qt,{id:"network.proxy.host",handleOnChange:({target:e})=>{const t=Ot(e.value,w,y);v(e.value),n(t),S(!0)},placeHolder:a.Ru.get("desktop.settings.proxy.host"),inputRef:p})}),(0,u.jsx)(Et,{label:a.Ru.get("desktop.settings.proxy.port"),children:(0,u.jsx)(Qt,{id:"network.proxy.port",type:"number",handleOnChange:({target:e})=>{const t=Ot(b,e.value,y);k(e.value),n(t),S(!0)},placeHolder:a.Ru.get("desktop.settings.proxy.port"),inputRef:m})})]}),(0,u.jsxs)("div",{className:M?Ct:void 0,children:[(0,u.jsx)(Et,{label:a.Ru.get("desktop.settings.proxy.user"),children:(0,u.jsx)(Qt,{id:"network.proxy.user",handleOnChange:({target:e})=>{c(e.value),S(!0)},placeHolder:a.Ru.get("desktop.settings.proxy.user"),inputRef:j})}),M?(0,u.jsx)(Et,{label:a.Ru.get("desktop.settings.proxy.pass"),children:(0,u.jsx)(Qt,{id:"network.proxy.pass",handleOnChange:({target:e})=>{o(e.value),S(!0)},placeHolder:a.Ru.get("desktop.settings.proxy.pass"),type:"password",inputRef:f})}):null]})]}):null,R&&(0,u.jsx)("div",{children:(0,u.jsx)(_t,{onClick:d})})]})]})};var Lt=s(56168),Tt=s(5875),qt=s(17564),Kt=s(68559);function Dt(){const e=(0,Kt.B)(),[t,s]=(0,i.useState)(null),[l,n]=(0,i.useState)(!0),[r,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const t=window.setInterval((()=>{!async function(){if(null===r){try{const t=await e.getStatistics();s(t)}catch(e){a(e instanceof Error?e:new Error("Error when fetching storage statistics."))}n(!1)}}()}),1500);return()=>clearInterval(t)}),[e,r]),[t,l,r]}const Bt="x-settings-button",Pt="x-settings-wordBreakAll",Ut=()=>{const e=(0,qt.A)(),t=(0,Tt.K)(),s=!(0,G.n)(),[l,r]=(0,i.useState)(!1),o=(0,ge.t)(),[{data:c},{mutate:d}]=(0,xe.K)(o.storage.storageLocation),g=(0,i.useCallback)((()=>{t.restart()}),[t]),[x,p,m]=Dt(),j=(0,O.wA)();let f="",y="",b=0;return p?(f=a.Ru.get("page.loading"),y=a.Ru.get("page.loading")):m||null===x?(f=a.Ru.get("error.generic"),y=a.Ru.get("error.generic")):(b=x.currentSizeMB-x.currentLockedSizeMB,f=` ${b} MB`,y=` ${x.currentLockedSizeMB} MB`),(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.storage"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.storage")}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.storage.downloads.heading"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.downloads.heading")}),(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",children:y})]}),(0,u.jsx)(h,{htmlFor:"desktop.settings.downloads",children:a.Ru.get("desktop.settings.storage.downloads.text")})]})}),(0,u.jsx)(k,{children:(0,u.jsx)(n.n,{id:"desktop.settings.downloads",size:"small",onClick:()=>{j((0,Lt.KB)())},disabled:s||!x||0===x.currentLockedSizeMB,className:Bt,children:a.Ru.get("desktop.settings.storage.downloads.button")})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.storage.cache.heading"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:a.Ru.get("desktop.settings.storage.cache.heading")}),(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",children:f})]}),(0,u.jsx)(h,{htmlFor:"desktop.settings.cache",children:a.Ru.get("desktop.settings.storage.cache.text")})]})}),(0,u.jsx)(k,{children:(0,u.jsx)(n.n,{id:"desktop.settings.cache",size:"small",onClick:()=>{j((0,Lt.cd)())},disabled:0===b,className:Bt,children:a.Ru.get("desktop.settings.storage.cache.button")})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.offlineStorageLocation"),children:[(0,u.jsx)(S,{children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:a.Ru.get("desktop.settings.offlineStorageLocation")})}),(0,u.jsx)(h,{htmlFor:"desktop.settings.offline-storage",className:Pt,children:c})]})}),(0,u.jsxs)(k,{children:[(0,u.jsx)(n.n,{id:"desktop.settings.offline-storage",size:"small",onClick:async()=>{const t=await e.browseForFolder();t.path&&(d(t.path),t.path!==c&&r(!0))},className:Bt,children:a.Ru.get("desktop.settings.offlineStorageChangeLocation")}),l&&(0,u.jsx)(_t,{onClick:g})]})]})]})},Ht=()=>{const e=(0,Tt.K)(),t=(0,i.useCallback)((()=>{e.restart()}),[e]),s=(0,ge.t)(),[{data:l},{mutate:n}]=(0,xe.K)(s.proxySettings.mode),[{data:r},{mutate:a}]=(0,xe.K)(s.proxySettings.address),[{data:o},{mutate:c}]=(0,xe.K)(s.proxySettings.username),[{data:d},{mutate:h}]=(0,xe.K)(s.proxySettings.password);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(pt,{}),(0,u.jsx)(wt,{}),(0,u.jsx)(Ut,{}),(0,u.jsx)(zt,{restartContainer:t,mode:l,setMode:n,addr:r,setAddr:a,user:o,setUser:c,pass:d,setPass:h}),(0,u.jsx)(pe,{})]})},Wt=()=>{const e="1"===(0,Y.$)("dsa-mode-enabled"),t=(0,ge.t)(),[{data:s},{mutate:i}]=(0,xe.K)(t.autoPlay);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.autoplay"),children:[(0,u.jsx)(A,{semanticColor:e?"textSubdued":void 0,disabled:e,children:a.Ru.get("desktop.settings.autoplay")}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.autoplayInfo"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"global.settings.autoplayInfo",disabled:e,children:e?a.Ru.get("web-player.settings.autoplay-dsa-enabled"):a.Ru.get("desktop.settings.autoplayInfo")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"global.settings.autoplayInfo",value:!!s,onSelected:e=>{i(e)},disabled:e})})]})]})};var Vt=s(615),Gt=s(65045),Zt=s(51185),Yt=s(20427),Jt=s(1133);const Xt=()=>{const[e,t]=(0,Yt.J)(),s=(0,Jt.j)(),l=se(),n=(0,i.useCallback)((e=>{l(ee.CANVAS_VIDEOS,e),t(e)}),[t,l]);return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("settings.canvasVideos"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.canvasVideos",children:a.Ru.get("settings.canvasVideos")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.canvasVideos",value:e,onSelected:n,disabled:s})})]})};var $t=s(81637);const es=()=>{const[e,t]=(0,$t.N)(),s=se(),l=(0,i.useCallback)((e=>{s(ee.NOW_PLAYING_VIEW,e),t(e)}),[t,s]);return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("settings.npv"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.npv",children:a.Ru.get("settings.npv")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.npv",value:e,onSelected:l})})]})};var ts=s(1233);const ss=()=>{const e=(0,Y.$)("catalogue"),t=void 0===e||"string"==typeof e&&"free"===e.toLowerCase(),s=(0,ge.t)(),[{data:i},{mutate:l}]=(0,xe.K)(s.display.newReleasesAnnoucements),[{data:n},{mutate:r}]=(0,xe.K)(s.display.nativeNotificationOnPlayerTransition),[{data:o},{mutate:c}]=(0,xe.K)(s.display.nativeOverlayOnMediaKeys),d=(0,ts.d)(),g=d?.client_capabilities?.can_show_system_media_controls,x=d?.client_capabilities?.can_show_track_notifications,{isActive:p,panelSend:m}=(0,Vt.AI)(Zt.Z.BuddyFeed,Zt.Z.BuddyFeedOverlay);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.display"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.display")}),(0,u.jsx)(es,{}),(0,u.jsx)(Xt,{}),!t&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("settings.showMusicAnnouncements"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showMusicAnnouncements",children:a.Ru.get("settings.showMusicAnnouncements")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.showMusicAnnouncements",value:!!i,onSelected:l})})]}),x&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("settings.showTrackNotifications"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.trackNotifications",children:a.Ru.get("settings.showTrackNotifications")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.trackNotifications",value:!!n,onSelected:r})})]}),g&&(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.showSystemMediaControls"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.systemMediaControlsEnabled",children:a.Ru.get("desktop.settings.showSystemMediaControls")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.systemMediaControlsEnabled",value:!!o,onSelected:c})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showFriendActivity",children:a.Ru.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.showFriendActivity",value:p,onSelected:()=>{m(Gt.$S.BUDDY_FEED_BUTTON_CLICK)}})})]})]})};var is=s(52914),ls=s(5082),ns=s(70501);const rs="m7e5wHq6US9u3BbLQXEX",as="ul4DB6lq_3qO_aCiEbcc",os=()=>{const e=(0,O.wA)(),{locale:t,user:s,overrides:l}=(0,O.d4)(ls.Ht),n=(0,i.useRef)(null),r=(0,i.useRef)(null),a=(0,i.useCallback)((t=>{n.current&&n.current.value&&e((0,ns.Rv)(t?n.current.value:""))}),[e]),c=(0,i.useCallback)((t=>{r.current&&r.current.value&&e((0,ns.zf)(t?r.current.value:""))}),[e]),d=l?.country||s?.country,h=l?.locale||t;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(v,{filterMatchQuery:d??"",children:[(0,u.jsx)(S,{children:(0,u.jsx)("div",{className:rs,children:(0,u.jsx)(is.c,{id:"overrides.country",onChange:e=>{const t=e.target.checked;a(t)},defaultChecked:!!l?.country,children:(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Country"})})})}),(0,u.jsx)(k,{children:(0,u.jsx)("input",{type:"text",id:"overrides.country.input",className:as,disabled:!l?.country,ref:n,defaultValue:d,onChange:()=>a(!0)})})]}),(0,u.jsxs)(v,{filterMatchQuery:l?.locale??"",children:[(0,u.jsx)(S,{children:(0,u.jsx)("div",{className:rs,children:(0,u.jsx)(is.c,{id:"overrides.locale",onChange:e=>{const t=e.target.checked;c(t)},defaultChecked:!!l?.locale,children:(0,u.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:"Language"})})})}),(0,u.jsx)(k,{children:(0,u.jsx)("input",{type:"text",id:"overrides.locale.input",className:as,disabled:!l?.locale,ref:r,defaultValue:h,onChange:()=>c(!0)})})]})]})},cs=()=>{const e=(0,ge.t)(),[{data:t}]=(0,xe.K)(e.employee.isEmployee),[{data:s},{mutate:l}]=(0,xe.K)(e.employee.developerMode),[{data:n},{mutate:r}]=(0,xe.K)(e.employee.showChromeToolbar),o=(0,Tt.K)(),[c,d]=(0,i.useState)(!1),g=(0,i.useCallback)((()=>{o.restart()}),[o]);return t?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.employee"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.employee")}),(0,u.jsx)(v,{filterMatchQuery:a.Ru.get("desktop.settings.language-override"),children:(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"",children:a.Ru.get("desktop.settings.language-override")})})}),(0,u.jsx)(os,{}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.enableDeveloperMode"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.developerMode",children:a.Ru.get("desktop.settings.enableDeveloperMode")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.developerMode",value:!!s,onSelected:e=>{l(e),d(!0)}})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.showChromeToolbar"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.chromiumToolbar",children:a.Ru.get("desktop.settings.showChromeToolbar")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.chromiumToolbar",value:!!n,onSelected:e=>{r(e),d(!0)}})})]}),c&&(0,u.jsx)("div",{children:(0,u.jsx)(_t,{onClick:g})})]}):null};var ds=s(78921);const us="X5KKPrghR25sRksDro6p";function hs({text:e}){return(0,u.jsxs)(o.E,{variant:"marginal",semanticColor:"textBase",className:us,children:[(0,u.jsx)(ds.p,{size:"small"}),e]})}var gs=s(2232);const xs="okmBgXxrf9ezztZvtLiY",ps="wRdi_8R3iT6u7fZcgrb9",ms=()=>{const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.contentPreferences.allowExplicitContent),[{data:i}]=(0,xe.K)(e.contentPreferences.explicitContentForceDisallowed),l=i?a.Ru.get("desktop.settings.explicitContentFilterSettingLocked"):a.Ru.get("desktop.settings.explicitContentFilterSetting");return(0,u.jsxs)(v,{filterMatchQuery:l,children:[(0,u.jsxs)(S,{className:xs,children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.explicitContentFilter",children:l}),(0,u.jsx)(o.E,{variant:"marginal",children:a.Ru.get("desktop.settings.explicitContentFilterSettingDetails1",(0,u.jsx)(gs.U,{}))}),(0,u.jsx)(o.E,{variant:"marginal",children:a.Ru.get("desktop.settings.explicitContentFilterSettingDetails2")}),(0,u.jsx)(hs,{text:a.Ru.get("desktop.settings.updateDelayNotice")})]}),(0,u.jsx)(k,{children:(0,u.jsx)("div",{className:ps,children:(0,u.jsx)(z.l,{id:"desktop.settings.explicitContentFilter",disabled:i,value:!!t,onSelected:s})})})]})},js=()=>(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.explicitContentFilter"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.explicitContentFilter")}),(0,u.jsx)(ms,{})]});var fs=s(21142);const ys=()=>{const e=(0,Tt.K)(),t=(0,ge.t)(),[{data:s},{mutate:l}]=(0,xe.K)(t.language),n=(0,i.useCallback)((()=>{e.restart()}),[e]);return void 0===s?null:(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.language"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.language")}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.selectLanguage"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.selectLanguage",children:a.Ru.get("desktop.settings.selectLanguage")})}),(0,u.jsx)(k,{children:(0,u.jsx)(Be.C,{dir:"auto",value:s,id:"desktop.settings.selectLanguage",onSelect:l,children:fs.J2.map((e=>(0,u.jsx)("option",{value:e,children:`${fs.IB[e].displayName} (${fs.IB[e].displayNameEn})`},e)))})})]}),a.Ru.getLocaleForTranslation()!==s?(0,u.jsx)(_t,{onClick:n}):null]})};var bs=s(22944);const vs=()=>{const[e,t]=(0,bs.y)();return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("settings.showLocalFiles"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"settings.showLocalFiles",children:a.Ru.get("settings.showLocalFiles")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"settings.showLocalFiles",value:e,onSelected:e=>{t(e)}})})]})};var ws=s(55218),ks=s(74945);const Rs=e=>void 0!==e.id;function Ss(e){let t;if(!Rs(e))return e.path;switch(e.id){case ks.kW.DOWNLOADS:t=a.Ru.get("local-files.source.downloads");break;case ks.kW.ITUNES:t=a.Ru.get("local-files.source.itunes");break;case ks.kW.MY_MUSIC:t=a.Ru.get("local-files.source.my_music");break;case ks.kW.WINDOWS_MUSIC_LIBRARY:t=a.Ru.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}const Cs=({source:e,onAddOrRemoveSource:t})=>{const[s,l]=(0,i.useState)(!Rs(e)||e.enabled),n=Rs(e)?String(e.id):e.path;return(0,u.jsxs)(v,{filterMatchQuery:Ss(e),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:`settings.local-files.${n}`,children:Ss(e)})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:`settings.local-files.${n}`,value:s,onSelected:s=>{l(s),t(e,s)}})})]})},Ms=()=>{const[e,t]=(0,i.useState)(),s=(0,qt.A)(),l=(0,ws.i)(),r=(0,i.useCallback)((async()=>t(await s.getSources())),[s]);(0,i.useEffect)((()=>{r()}),[r]);const o=(0,i.useCallback)((async()=>{const{path:e}=await s.browseForFolder();e&&(await s.addFolder({path:e}),r(),l.say(a.Ru.get("settings.localFilesFolderAdded",e)))}),[l,s,r]),c=(0,i.useCallback)(((e,t)=>{e.enabled=t,s.mutateDefaultSource(e)}),[s]),d=(0,i.useCallback)(((e,t)=>{t?s.addFolder(e):s.removeFolder(e)}),[s]);return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("settings.showSongsFrom"),children:[(0,u.jsx)(A,{children:a.Ru.get("settings.showSongsFrom")}),e?.defaultSources.map((e=>(0,u.jsx)(Cs,{source:e,onAddOrRemoveSource:c},String(e.id)))),e?.folders.map((e=>(0,u.jsx)(Cs,{source:e,onAddOrRemoveSource:d},e.path))),(0,u.jsx)("div",{children:(0,u.jsx)(n.n,{size:"small","aria-label":a.Ru.get("settings.addASource"),onClick:()=>{o()},children:a.Ru.get("settings.addASource")})})]})},Ns=()=>null;var Fs=s(54861),As=s(66699),Qs=s(68443);const Es="x-settings-tooltip",Is="x-settings-tooltipIconWrapper",_s="x-settings-tooltipIcon",Os=({message:e,placement:t="top",messageClassName:s,iconClassName:i,iconSize:l="small"})=>(0,u.jsx)("div",{className:Es,children:(0,u.jsx)(Qs.Zp,{showDelay:0,label:e,placement:t,labelClassName:s,children:(0,u.jsx)("div",{className:x()(Is,i),"aria-label":e,"aria-describedby":Qs.WO,tabIndex:0,children:(0,u.jsx)(As.N,{size:l,className:_s})})})});function zs(){const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.quality.autoAdjustQuality);return void 0===t?null:(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.automatic-downgrade.title"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.automatic-downgrade",children:a.Ru.get("desktop.settings.automatic-downgrade.title")}),(0,u.jsx)(Os,{message:a.Ru.get("desktop.settings.automatic-downgrade.info")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.automatic-downgrade",value:t,onSelected:s})})]})}function Ls(){const e=(0,ge.t)();return(0,U.I)({queryKey:["settings-formats"],queryFn:()=>e.quality.getFormats(),gcTime:36e5,staleTime:6e5}).data}var Ts=s(34529);const qs={get[mt.a1.AUTOMATIC](){return a.Ru.get("desktop.settings.streamingQualityAutomatic")},get[mt.a1.LOW](){return a.Ru.get("desktop.settings.streamingQualityLow")},get[mt.a1.MEDIUM](){return a.Ru.get("desktop.settings.streamingQualityNormal")},get[mt.a1.HIGH](){return a.Ru.get("desktop.settings.streamingQualityHigh")},get[mt.a1.VERY_HIGH](){return a.Ru.get("desktop.settings.streamingQualityVeryHigh")},get[mt.a1.LOSSLESS](){return a.Ru.get("web-player.pigeon.audio-quality.lossless")}};function Ks({formats:e}){return(0,u.jsx)(u.Fragment,{children:e.map((({quality:e})=>(0,u.jsx)("option",{value:e.toString(),children:qs[e]},e)))})}var Ds=s(30024),Bs=s(49358),Ps=s(65906),Us=s(23528),Hs=s(19293),Ws=s(61919);const Vs="uEM0fNRCKdQPJyv0aWNQ",Gs=({currentQuality:e,formats:t,onSelect:s})=>(0,u.jsx)(Hs.W,{children:t.map((({quality:t})=>{const i=e===t,{title:l,subtitles:n}=(e=>{switch(e){case mt.a1.LOSSLESS:return{title:a.Ru.get("web-player.pigeon.audio-quality.lossless"),subtitles:[a.Ru.get("web-player.pigeon.audio-quality.lossless-24.bitrate-details-1"),a.Ru.get("web-player.pigeon.audio-quality.lossless-24.bitrate-details-2")]};case mt.a1.VERY_HIGH:return{title:a.Ru.get("web-player.pigeon.audio-quality.very-high.label"),subtitles:[a.Ru.get("web-player.pigeon.audio-quality.very-high.bitrate-details.subtitle")]};case mt.a1.HIGH:return{title:a.Ru.get("web-player.pigeon.audio-quality.high.label"),subtitles:[a.Ru.get("web-player.pigeon.audio-quality.high.bitrate-details.subtitle")]};case mt.a1.MEDIUM:return{title:a.Ru.get("web-player.pigeon.audio-quality.normal.label"),subtitles:[a.Ru.get("web-player.pigeon.audio-quality.normal.bitrate-details.subtitle")]};case mt.a1.LOW:return{title:a.Ru.get("web-player.pigeon.audio-quality.low.label"),subtitles:[a.Ru.get("web-player.pigeon.audio-quality.low.bitrate-details.subtitle")]};case mt.a1.AUTOMATIC:return{title:a.Ru.get("web-player.pigeon.audio-quality.automatic.label"),subtitles:[a.Ru.get("web-player.pigeon.audio-quality.automatic.details")]};default:return{title:a.Ru.get("web-player.pigeon.audio-quality.unknown.label"),subtitles:null}}})(t);return(0,u.jsx)(Ws.D,{role:"menuitemradio","aria-checked":i,onClick:()=>s(t),CheckedIcon:null,className:Vs,children:(0,u.jsx)(Ds.v,{size:"lg",id:"title",variant:"naked",title:(0,u.jsx)(Bs.d,{children:l}),subtitle:(0,u.jsx)(u.Fragment,{children:(n??[]).map(((e,s)=>(0,u.jsx)(Ps.j,{semanticColor:0===s&&t===mt.a1.LOSSLESS?"textAnnouncement":"textSubdued",children:e},s)))}),trailing:i?(0,u.jsx)(Us.i,{size:"small",semanticColor:"textSubdued"}):void 0})},t)}))});var Zs=s(24889);const Ys=({formats:e,currentQuality:t,setQuality:s,highlightKey:i})=>{const l=(0,Zs.j)(),n=T(i),r=(0,u.jsx)(Be.C,{id:"desktop.settings.streamingQuality",value:t.toString(),onSelect:e=>{const t=(0,jt.FB)(e);null!==t&&s(t)},preventMenu:l,ref:n,children:(0,u.jsx)(Ks,{formats:e})});return l?(0,u.jsx)(Ts.b,{menu:(0,u.jsx)(Gs,{formats:e,currentQuality:t,onSelect:s}),children:r}):r},Js=(e,t)=>{const s=t===mt.Qi.LOSSLESS,i=t>=mt.Qi.VERY_HIGH;return e.filter((({quality:e})=>{switch(e){case mt.a1.AUTOMATIC:return!s;case mt.a1.LOW:case mt.a1.MEDIUM:case mt.a1.HIGH:return!0;case mt.a1.VERY_HIGH:return i;case mt.a1.LOSSLESS:return s;default:return!1}}))};function Xs(){const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.quality.downloadAudioQuality),[{data:i}]=(0,xe.K)(e.quality.maxSupportedQuality),l=Ls();return void 0===t||void 0===i||void 0===l?null:(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.downloadQuality.title"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.downloadQuality",children:a.Ru.get("desktop.settings.downloadQuality.title")}),(0,u.jsx)(Os,{message:a.Ru.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(Ys,{formats:Js(l,i),currentQuality:t,setQuality:s})})]})}var $s=s(70337),ei=s(83416),ti=s(44298),si=s(29194);const ii=()=>{const e=(0,ti.N)(),{deviceFilterState:t}=(0,$s.j)(),[s,l]=(0,i.useState)((()=>e.isNormalizationOverriden())),n=s&&t.isOnboarded;return(0,si.G)(ei.n.NORMALIZATION_OVERRIDE_DISABLED,(()=>{l(!1)})),{isOverriden:n,disableOverride:()=>e.disableNormalizationOverride()}};var li=s(55852),ni=s(26188);let ri=function(e){return e[e["volume-increase"]=0]="volume-increase",e[e["normalization-turn-off"]=1]="normalization-turn-off",e[e["normalization-turn-on"]=2]="normalization-turn-on",e}({});const ai=({type:e,onClose:t,onConfirm:s})=>{const{disableOverride:i}=ii(),l="Normalisation";let n="";switch(e){case ri["volume-increase"]:n="Increasing the volume level while your headphones are optimized may cause occasional distortion.";break;case ri["normalization-turn-off"]:n="Turning off audio normalization while your headphones are optimized may cause audio distortion.";break;case ri["normalization-turn-on"]:n='We\'d recommend changing your volume level to "Quiet" after turning on audio normalization to avoid audio distortion (while your headphones are optimized).';break;default:(0,ni.k)(e)}return(0,u.jsx)(li.T,{onConfirm:()=>{i(),s(),t()},onClose:t,titleText:l,"aria-label":l,descriptionText:n,cancelText:"Cancel",confirmText:"Confirm"})},oi={get[mt.KR.QUIET](){return a.Ru.get("desktop.settings.loudnessQuiet")},get[mt.KR.NORMAL](){return a.Ru.get("desktop.settings.loudnessNormal")},get[mt.KR.LOUD](){return a.Ru.get("desktop.settings.loudnessLoud")}};function ci(){const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.quality.normalizeVolume),[{data:l},{mutate:n}]=(0,xe.K)(e.quality.volumeLevel),{dialog:r,setNormalizeValue:o,setVolumeLevel:c}=((e,t)=>{const{isOverriden:s}=ii(),[l,n]=(0,i.useState)(null),r=(0,i.useRef)(null);return{setNormalizeValue:(0,i.useCallback)((t=>{s?(n(t?ri["normalization-turn-on"]:ri["normalization-turn-off"]),r.current=()=>{e(t)}):e(t)}),[s,e]),setVolumeLevel:(0,i.useCallback)((e=>{s&&e!==mt.KR.QUIET?(n(ri["volume-increase"]),r.current=()=>{t(e)}):t(e)}),[s,t]),dialog:null!==l?(0,u.jsx)(ai,{type:l,onClose:()=>{n(null)},onConfirm:()=>{r.current?.()}}):null}})(s,n),{isOverriden:d}=ii();if(void 0===t)return null;const g=d?mt.KR.QUIET:l;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.normalize"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.normalize",children:a.Ru.get("desktop.settings.normalize")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.normalize",value:!!t,onSelected:o})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.loudnessEnvironment",children:a.Ru.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,u.jsx)(k,{children:(0,u.jsxs)(Be.C,{id:"desktop.settings.loudnessEnvironment",disabled:!t,value:g,onSelect:e=>{const t=(0,jt.dt)(e);null!==t&&c(t)},children:[(0,u.jsx)("option",{value:mt.KR.QUIET,children:oi[mt.KR.QUIET]}),(0,u.jsx)("option",{value:mt.KR.NORMAL,children:oi[mt.KR.NORMAL]}),(0,u.jsx)("option",{value:mt.KR.LOUD,children:oi[mt.KR.LOUD]})]})})]}),r]})}var di=s(9322);const ui="IQTDayGMRO125hB3uQeA",hi="T59zindSZipsQAAuma6r",gi="w9g8iS1Zw8ntxowOsVbj",xi="DsnNpp6rrkBQXXqR0Cdt",pi=(0,i.forwardRef)((({onClose:e,isOpen:t,onConfirm:s},i)=>(0,u.jsx)(di.A,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!0,overlayClassName:hi,onRequestClose:e,contentLabel:a.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.title"),isOpen:t,children:(0,u.jsxs)("div",{ref:i,className:x()("encore-light-theme",ui),children:[(0,u.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:a.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.title")}),(0,u.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:"textBase","data-testid":"confirm-dialog-description",children:a.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.description")}),(0,u.jsxs)("div",{className:gi,children:[(0,u.jsx)(n.n,{size:"small",semanticColor:"textBase",onClick:s,className:xi,children:a.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.confirm")}),(0,u.jsx)(n.n,{size:"small",semanticColor:"textBase",onClick:e,className:xi,children:a.Ru.get("web-player.settings.quality.streaming-quality.lossless-confirm-dialog.cancel")})]})]})})));function mi(){const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.quality.streamingQuality),[{data:l}]=(0,xe.K)(e.quality.maxSupportedQuality),n=Ls(),[r,o]=(0,i.useState)(!1),c=(0,Zs.j)();return void 0===t||void 0===l||void 0===n?null:(0,u.jsxs)(u.Fragment,{children:[c?(0,u.jsx)(hs,{text:a.Ru.get("web-player.settings.quality.streaming-quality.info-text")}):null,(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.streamingQuality"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.streamingQuality",children:a.Ru.get("desktop.settings.streamingQuality")})}),(0,u.jsx)(k,{children:(0,u.jsx)(Ys,{highlightKey:q.a.AUDIO_QUALITY_STEAMING,formats:Js(n,l),currentQuality:t,setQuality:e=>{c&&e===mt.a1.LOSSLESS?o(!0):s(e)}})}),(0,u.jsx)(pi,{isOpen:r,onClose:()=>{o(!1)},onConfirm:()=>{s(mt.a1.LOSSLESS),o(!1)}})]})]})}const ji=()=>{const e=(0,Fs.P)();return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.musicQuality"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.musicQuality")}),e&&(0,u.jsx)(i.Suspense,{fallback:null,children:(0,u.jsx)(Ns,{})}),(0,u.jsx)(mi,{}),(0,u.jsx)(Xs,{}),(0,u.jsx)(zs,{}),(0,u.jsx)(ci,{})]})};var fi=s(26930),yi=s(7865),bi=s(27908),vi=s(30816);const wi=()=>{const[e,t]=(()=>{const e=(0,P.jE)(),{user:t}=(0,O.d4)(ls.Ht),s=t?.uri??"",{enqueueSnackbar:l}=(0,fi.d)(),{data:n,queryKey:r}=(0,vi.Z)(bi.kp,[{uri:s}]),o=(0,i.useCallback)((async({showFollows:e})=>{await(0,bi.gN)(yi.n.getInstance(),{uri:s,showFollows:e})}),[s]),c=(0,H.n)({mutationFn:o,onMutate:async t=>{await e.cancelQueries({queryKey:r});const s=e.getQueryData(r);return e.setQueryData(r,t),{prevState:s,newState:t}},onError:(t,s,i)=>{e.setQueryData(r,i?.prevState),l(a.Ru.get("error.generic"))},onSettled:()=>{e.invalidateQueries({queryKey:r})}});return[n?.showFollows??!0,c.mutate]})();return(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.showFollows"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.showFollows",children:a.Ru.get("desktop.settings.showFollows")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.showFollows",value:e,onSelected:e=>t({showFollows:e})})})]})},ki=()=>{const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.social.autoPublishPlaylist),[{data:i},{mutate:l}]=(0,xe.K)(e.social.shareListeningActivity),[{data:n},{mutate:r}]=(0,xe.K)(e.social.privateSession),[{data:o},{mutate:c}]=(0,xe.K)(e.social.showMyTopArtists);return void 0!==t&&void 0!==n?(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("desktop.settings.social"),children:[(0,u.jsx)(A,{children:a.Ru.get("desktop.settings.social")}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.newPlaylistsPublic"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.newPlaylistsPublic",children:a.Ru.get("desktop.settings.newPlaylistsPublic")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.newPlaylistsPublic",value:t,onSelected:s})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.privateSession"),children:[(0,u.jsxs)(S,{children:[(0,u.jsx)(h,{htmlFor:"desktop.settings.privateSession",children:a.Ru.get("desktop.settings.privateSession")}),(0,u.jsx)(Os,{message:a.Ru.get("desktop.settings.privateSession.tooltip")})]}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.privateSession",value:n,onSelected:r})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.publishActivity"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.publishActivity",children:a.Ru.get("desktop.settings.publishActivity")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.publishActivity",disabled:n,value:!n&&!!i,onSelected:l})})]}),(0,u.jsxs)(v,{filterMatchQuery:a.Ru.get("desktop.settings.publishTopArtists"),children:[(0,u.jsx)(S,{children:(0,u.jsx)(h,{htmlFor:"desktop.settings.publishTopArtists",children:a.Ru.get("desktop.settings.publishTopArtists")})}),(0,u.jsx)(k,{children:(0,u.jsx)(z.l,{id:"desktop.settings.publishTopArtists",disabled:n,value:!n&&!!o,onSelected:c})})]}),(0,u.jsx)(wi,{})]}):null};var Ri=s(34834),Si=s(60561),Ci=s(92930),Mi=s(14377);const Ni=(e,t)=>{if(((e,t)=>e.includes(t))(e,t))return t;const s=[...e].sort(((e,t)=>e-t));let i=s[0];for(const e of s){if(t<i)return i;if(t>i&&t<e)return t-i<e-t?i:e;t>e&&(i=e)}return i};var Fi=s(37536),Ai=s(82390);const Qi=()=>{const e=(0,ge.t)(),[{data:t},{mutate:s}]=(0,xe.K)(e.viewportZoom),l=(0,i.useCallback)((e=>{s((0,Ai.o)(e))}),[s]);return[(0,i.useMemo)((()=>Ni(Fi.Gu,(0,Ai.I)(t??0))),[t]),l]},Ei=({className:e,isSelected:t})=>{const s="currentColor";return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 76 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26767)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26767)",children:[(0,u.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"2",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"20.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"39",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"57.5",y:"2",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"2",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"20.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"39",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"57.5",y:"10",width:"16.5",height:"6",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"2",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"21",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"39",y:"22",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"57",y:"22",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"2",y:"42.3333",width:"17",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"21",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"39",y:"42.3333",width:"16",height:"19",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"57",y:"42.3333",width:"17",height:"19",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26767",x:"0",y:"0",width:"76",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-2"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26767"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26767",children:(0,u.jsx)("rect",{width:"76",height:"59",rx:"2",fill:"white"})})]})]})},Ii=({className:e,isSelected:t})=>{const s="currentColor";return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 74 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26795)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26795)",children:[(0,u.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"1",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"19.25",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"37.5",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"55.75",y:"2",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"1",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"19.25",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"37.5",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"55.75",y:"7",width:"17.25",height:"4",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"1",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"13",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"26.4",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"39.8",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"1",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"15.6001",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"30.2002",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"44.7998",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"59.3999",y:"53.2",width:"13.6",height:"12.4",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26795",x:"0",y:"0",width:"74",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-1"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26795"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26795",children:(0,u.jsx)("rect",{width:"74",height:"59",rx:"2",fill:"white"})})]})]})},_i=({className:e,isSelected:t})=>{const s="currentColor";return(0,u.jsxs)("svg",{className:e,width:"78",height:"59",viewBox:"0 0 78 59",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-selected":t,children:[(0,u.jsx)("g",{filter:"url(#filter0_i_37_26744)",children:(0,u.jsxs)("g",{clipPath:"url(#clip0_37_26744)",children:[(0,u.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"black"}),(0,u.jsx)("rect",{x:"3",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"3",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"10.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"18",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"40.479",y:"25.5",width:"34.4789",height:"4.5",rx:"1",fill:s}),(0,u.jsx)("rect",{x:"3",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"28",y:"37",width:"22",height:"23",rx:"2",fill:s}),(0,u.jsx)("rect",{x:"53",y:"37",width:"22",height:"23",rx:"2",fill:s})]})}),(0,u.jsxs)("defs",{children:[(0,u.jsxs)("filter",{id:"filter0_i_37_26744",x:"0",y:"0",width:"78",height:"59",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,u.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,u.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,u.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,u.jsx)("feOffset",{dy:"-3"}),(0,u.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,u.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),(0,u.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_37_26744"})]}),(0,u.jsx)("clipPath",{id:"clip0_37_26744",children:(0,u.jsx)("rect",{width:"78",height:"59",rx:"2",fill:"white"})})]})]})},Oi="daF_Uu6SkaxFXuW1tXC1",zi="EYnXJxDlzNk5RKfeaA6l",Li="l4pZe9TZNs0_CkdbbHql",Ti="bY4mttCZiFb6AXdiyTWl",qi="CJ2H1F8hfES_5qDGSRIR",Ki="qltNPvInlw2koZA_iXAw",Di="WYdlm2QyNWvODlPu8axP",Bi="jCTF4D1f_LLhhvyZGNVe",Pi="NsjPzTxR4LC_CYOnhiOA",Ui="U0PJm5wLwGsOlehID1n1",Hi="C8YxC7zborN_tF5zBizw",Wi="KTeqYcBoudbD8TLrozf3",Vi="p4RY7s9OaURHFyGHjayV",Gi=({isSelected:e,isFocused:t})=>(0,u.jsx)("div",{className:x()(Ui,{[Hi]:e,[Wi]:t})}),Zi=({isSelected:e,isFocused:t,percentage:s})=>{const i=el(s);return(0,u.jsxs)("div",{className:Ti,children:[(0,u.jsx)(Gi,{isSelected:!!e,isFocused:!!t}),(0,u.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",children:i})]})},Yi=({isSelected:e,label:t,children:s})=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:x()(Di,{[Pi]:e}),children:s}),(0,u.jsx)(tl,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),Ji=({onClick:e,children:t})=>(0,u.jsx)("button",{className:zi,onClick:e,tabIndex:-1,children:t}),Xi=({value:e,Image:t,label:s,onClick:i})=>{const[l]=Qi(),n=l===e;return(0,u.jsx)(Ji,{onClick:()=>i(e),children:(0,u.jsx)(Yi,{isSelected:n,label:s,children:(0,u.jsx)(t,{className:x()(Bi,{selected:n}),isSelected:n})})})},$i=()=>{const[e,t]=Qi(),{logSelectZoomLevel:s,logReset:l}=(()=>{const{spec:e,logger:t}=(0,$e.r)(Mi.T,{});return{logReset:(0,i.useCallback)((()=>{const s=e.resetButtonFactory().hitSetSettingField();t.logInteraction(s)}),[t,e]),logSelectZoomLevel:(0,i.useCallback)((s=>{const i=e.zoomLevelRadioButtonFactory({identifier:s.toString()}).hitSetSettingField();t.logInteraction(i)}),[t,e])}})(),r=(0,i.useCallback)((e=>{const i=Ni(Fi.Gu,"number"==typeof e?e:parseInt(e,10));s(i),t(i)}),[s,t]),c=(0,i.useCallback)((()=>{l(),t(100)}),[l,t]),d=a.Ru.get("web-player.settings.zoom.shortcut-description",(0,u.jsxs)("span",{className:Vi,children:[(0,u.jsx)(Ci.U,{children:"mod"}),(0,u.jsx)(Ci.U,{children:"-"})]}),(0,u.jsxs)("span",{className:Vi,children:[(0,u.jsx)(Ci.U,{children:"mod"}),(0,u.jsx)(Ci.U,{children:"+"})]}));return(0,u.jsxs)(F,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.title"),children:[(0,u.jsx)(A,{children:a.Ru.get("web-player.settings.zoom.title")}),(0,u.jsx)(v,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.description"),children:(0,u.jsx)(o.E,{semanticColor:"textSubdued",variant:"bodySmall",children:a.Ru.get("web-player.settings.zoom.description")})}),(0,u.jsx)(v,{filterMatchQuery:a.Ru.get("web-player.settings.zoom.shortcut-description"),children:(0,u.jsx)(o.E,{semanticColor:"textSubdued",variant:"bodySmall",children:d})}),(0,u.jsxs)("div",{className:Li,children:[(0,u.jsxs)("div",{className:Ki,children:[(0,u.jsx)(Xi,{Image:Ii,value:70,label:a.Ru.get("web-player.settings.zoom.compact-label"),onClick:r}),(0,u.jsx)(Xi,{Image:Ei,value:100,label:a.Ru.get("web-player.settings.zoom.balanced-label"),onClick:r}),(0,u.jsx)(Xi,{Image:_i,value:130,label:a.Ru.get("web-player.settings.zoom.larger-label"),onClick:r})]}),(0,u.jsx)(Si.z6,{className:Oi,orientation:"horizontal",value:e.toString(),onChange:r,"aria-label":a.Ru.get("web-player.settings.zoom.zoom-level-radio-button-label"),children:Fi.Gu.map((t=>(0,u.jsx)(Si.sx,{className:Ti,value:t.toString(),"aria-label":el(t),children:({isFocusVisible:s})=>(0,u.jsx)(Zi,{percentage:t,isSelected:e===t,isFocused:s})},t)))})]}),(0,u.jsx)("div",{className:qi,children:(0,u.jsx)(n.n,{id:"web-player.settings.zoom.reset-button",size:"small",onClick:c,children:a.Ru.get("web-player.settings.zoom.reset-button-label")})})]})};function el(e){return a.Ru.formatNumber(e,{unit:"percent",unitDisplay:"narrow",style:"unit"})}var tl=(0,Ri.Ay)(o.E).withConfig({displayName:"ZoomLevelSettings___StyledText",componentId:"sc-1mlb5iy-0"})({textAlign:"center"});const sl=()=>{const e=(0,i.useRef)(null),[t]=(0,bs.y)(),s=(0,l.NC)(ut.YSK);return(0,u.jsxs)(ae,{outerRef:e,children:[(0,u.jsx)(he,{containerRef:e}),(0,u.jsx)(_,{}),(0,u.jsx)(ys,{}),s?(0,u.jsx)($,{sectionAbove:(0,u.jsx)(ms,{})}):(0,u.jsx)(js,{}),(0,u.jsx)(Wt,{}),(0,u.jsx)(ji,{}),(0,u.jsxs)(ne,{children:[(0,u.jsx)(le,{}),(0,u.jsx)(vs,{})]}),t?(0,u.jsx)(Ms,{}):null,(0,u.jsx)(ss,{}),(0,u.jsx)($i,{}),(0,u.jsx)(ki,{}),(0,u.jsx)(Ht,{}),(0,u.jsx)(cs,{})]})}},22944:(e,t,s)=>{s.d(t,{y:()=>n});var i=s(30758),l=s(17564);function n(){const e=(0,l.A)(),[t,s]=(0,i.useState)(e.getIsEnabled());(0,i.useEffect)((()=>{const t=e.subscribeIsEnabled(s);return()=>t()}),[e]);return[t,(0,i.useCallback)((t=>e.setIsEnabled(t)),[e])]}},36706:(e,t,s)=>{s.d(t,{C:()=>d});var i=s(30758),l=s(97500),n=s.n(l),r=s(48573);const a="main-dropDown-dropDown",o="main-dropDown-isSafari";var c=s(86070);const d=(0,i.forwardRef)((({value:e,id:t,children:s,disabled:i,onClick:l,preventMenu:d=!1,onSelect:u,className:h,dir:g},x)=>(0,c.jsx)("span",{className:h,children:(0,c.jsx)("select",{ref:x,className:n()(a,{[o]:(0,r.n)()}),value:e?.toString(),id:t,disabled:i,onClick:l,onBlur:()=>{},onChange:e=>{u(e.target.value)},onPointerDown:e=>{d&&e.preventDefault()},onKeyDown:e=>{("Space"===e.code||"ArrowDown"===e.code||"ArrowUp"===e.code)&&(d&&e.preventDefault(),l?.(e))},dir:g,children:s})})))},54861:(e,t,s)=>{s.d(t,{P:()=>i});const i=()=>!1},66610:(e,t,s)=>{s.d(t,{l:()=>h});var i=s(30758),l=s(97500),n=s.n(l);const r="x-toggle-wrapper",a="x-toggle-indicator",o="JCFCfOY_6UEZZSOO2xrl",c="x-toggle-indicatorWrapper",d="x-toggle-input";var u=s(86070);const h=(0,i.forwardRef)((({value:e,disabled:t,onSelected:s,onClick:i,id:l,className:h,condensed:g=!1},x)=>(0,u.jsxs)("label",{className:n()(r,h),onClick:i,children:[(0,u.jsx)("input",{id:l,className:d,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;s(t)},ref:x}),(0,u.jsx)("span",{className:n()(c,{[o]:g}),children:(0,u.jsx)("span",{className:n()(a,{[o]:g})})})]})))},99454:(e,t,s)=>{s.d(t,{a:()=>i});let i=function(e){return e.AUDIO_QUALITY_STEAMING="audio_quality_streaming",e.DSA="dsa",e}({})}}]);
//# sourceMappingURL=xpui-routes-desktop-settings.js.map