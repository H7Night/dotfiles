"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8606],{3287:(e,a,s)=>{s.d(a,{M:()=>E});var t=s(30758),i=s(97500),r=s.n(i),n=s(62411),o=s(17369),l=s(64617),c=s(43520),d=s(13932),u=s(29174),m=s(56168),h=s(30883),p=s(88376),g=s(90367),x=s(59488),y=s(38440),b=s(96535),v=s(93677),j=s(83080),f=s(92866),C=s(54179),k=s(8558),P=s(31500);const S="udGpsOceE80fzjUaGxkU",w="wMX24UZ671wvuRJkkUOC";var R=s(86070);const N=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,R.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,I=({signifierText:e})=>e?(0,R.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,E=({name:e,uri:a,images:s,authorName:i,authors:P,isHero:E,className:A,onClick:_,testId:B,index:M,requestId:F,isLocked:T=!1,isPlayable:D=!1,color:L,signifierText:U,isPreRelease:O=!1,publishDate:z,variant:V,consumptionCapExplanation:H,logCardImpressions:q=!1,role:G})=>{const{playUri:W,playOptions:K}=(0,C.J)(a),$=(0,n.wA)(),Q=(0,d.NC)(k.HJU),X=!!H,Y=(0,R.jsx)(f.O,{authorName:i,authors:P}),J=(0,t.useCallback)((()=>{X&&$((0,m._3)())}),[$,X]);let Z;return Z=E?(0,R.jsx)(x.A,{className:A,index:M,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:K,onPlay:X?J:void 0,delegatePlayback:X,isPlayable:(D||X)&&Q,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:j.fl.AUDIOBOOKS,renderCardImage:()=>(0,R.jsx)(p.M,{isHero:!0,images:s,color:L,FallbackComponent:e=>(0,R.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.t,{children:u.Ru.get("card.tag.audiobook")}),(0,R.jsx)(o.E,{variant:"bodySmall",children:Y})]}),getSignifierContent:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(N,{isPreRelease:O,publishDate:z}),(0,R.jsx)(I,{signifierText:U})]}),testId:B,requestId:F,logCardImpressions:q}):(0,R.jsx)(h.Z,{className:A,variant:V,index:M,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,role:G,playUri:W,onPlay:X?J:void 0,delegatePlayback:X,playOptions:K,isPlayable:(D||X)&&Q,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:j.fl.AUDIOBOOKS,renderCardImage:()=>(0,R.jsx)(p.M,{images:s,color:L,FallbackComponent:e=>(0,R.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(g.c,{lineClamp:U?1:2,children:[T&&(0,R.jsx)(c.y,{size:"small",className:S}),(0,R.jsx)(N,{isPreRelease:O,publishDate:z}),(0,R.jsx)(o.E,{as:"span",variant:"bodySmall",className:r()({[w]:O&&i}),children:Y})]}),(0,R.jsx)(I,{signifierText:U})]}),testId:B,requestId:F,logCardImpressions:q}),(0,R.jsx)(b.h,{menu:(0,R.jsx)(v.p,{uri:a}),children:Z})}},7989:(e,a,s)=>{s.d(a,{r:()=>n});var t=s(61179),i=s(12074);const r=Spicetify.GraphQL.Definitions["similarAudiobooks"]=new t.l("similarAudiobooks","query","d62da1bbf5859e5a156da1f52ce21a73a642f925db717a179fd89626b27a80b8",null),n=(e,a)=>(0,i.I)(r,e,a)},9055:(e,a,s)=>{s.d(a,{a:()=>t});s(54615);const t=e=>(e||[]).filter((e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Audiobook"===e.__typename;var a})(e.data)))},10700:(e,a,s)=>{s.d(a,{s:()=>c});var t=s(85387),i=s(13932),r=s(28331),n=s(8558),o=s(72763),l=s(24552);const c=()=>{const e=(0,o.o)(l.P.SimilarAudiobooksComponent,(0,t.zy)()),a=(()=>{const e=(0,r.c)(),a=(0,i.NC)(n.S$t);return!!e&&a===n.LR0.Enabled})();return e||a}},11217:(e,a,s)=>{function t(e){const a=new Date;return(e instanceof Date?e:new Date(e)).getTime()-a.getTime()}s.d(a,{u:()=>t})},15440:(e,a,s)=>{s.d(a,{W:()=>i});var t=s(30758);const i=()=>{const[e,a]=(0,t.useState)(!1);return{isOpen:e,openModal:(0,t.useCallback)((()=>a(!0)),[]),closeModal:(0,t.useCallback)((()=>a(!1)),[])}}},20930:(e,a,s)=>{s.r(a),s.d(a,{default:()=>ai});var t=s(30758),i=s(85387),r=s(97364),n=s(39705),o=s(23736),l=s(29174),c=s(90658),d=s(37461),u=s(97500),m=s.n(u),h=s(62411),p=s(17369),g=s(13932),x=s(30865),y=s(62247),b=s(56168),v=s(35834),j=s(34529),f=s(36603),C=s(10700),k=s(76358),P=s(76541),S=s(98418),w=s(13185),R=s(8558),N=s(5028),I=s(5082),E=s(88012),A=s(6999);s(32807);var _=s(8335),B=s(3287),M=s(74297),F=s(79678),T=s(25201),D=s(7989);var L=s(9055),U=s(19492),O=s(86070);const z=({className:e,title:a,uri:s})=>{const{data:i}=(0,D.r)({uri:s}),r=i?.seoRecommendedAudiobook.items,n=i?.seoRecommendedAudiobook.totalCount,c=(0,L.a)(r),{ref:d,inView:u}=(0,_.Wx)({threshold:1}),m=(e=>{const a=(0,w.V)(),s=(0,S.vh)(),t=(0,g.NC)(R.S$t),i=(0,h.d4)(I.F6),r=(0,h.d4)(N.JJ);return()=>{const n={category:"audiobook_more_like_this_component_visible",action:"component_visible",variant:t,label:"dwp",os:(0,A.f)(),destination_url:e,country:i?r:"",sp_t:(0,E.v8)("sp_t")};a?s.send((0,P.r)(n)):s.send((0,k._)(n))}})(s);if((0,t.useEffect)((()=>{u&&m()}),[u,m]),0===n)return null;const p=(0,o.o_h)(s)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:r?.length,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${p}:more-like-this`,elementRef:d,children:c?.map((({data:e},a)=>{return(0,O.jsx)(B.M,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],authorName:(s=e.authorsV2,s.map((e=>e?.name)).join(l.Ru.getSeparator())??""),authors:e.authorsV2,index:a},e.name);var s}))})},V=e=>{const a=(0,F.D)({entityType:U.c.AUDIOBOOK,componentType:"shelf",uri:e.uri});return(0,O.jsx)(M.s,{onError:a,children:(0,O.jsx)(z,{...e})})};var H=s(68988),q=s(74220),G=s(89998),W=s(80120),K=s(27400),$=s(2232),Q=s(66408),X=s(40381),Y=s(48431),J=s(75825),Z=s(54947);const ee="Bns6t3CfzQaCA4DLRzPQ",ae="zGFcpmwFVhJxRDXUXoXA",se="_FLyhB96W9W0msGYNWUl",te="Si5iVyGLDY7mGWH_U2wA",ie="HLBtD6mJyIB9EeOzDtXE",re="DRO0ur1WXqpK9BelywtE",ne="vtlBEOtYFwv1cxC32ccc",oe="Pq_DZj9ECxwTsK8pBxe0",le="bu7LVUNyDPF_FcrKMv74",ce="bYP2npsc_CeChpMGcr6g",de="Ux7aVnDYlwojS4AmkSLg";let ue=function(e){return e.SMALL="small",e.LARGE="large",e}({});const me=({images:e,title:a,contentRating:s,duration:t,moreButton:i,onClick:r,onContextMenu:n,onTouchStart:o,onTouchEnd:l,isPlaying:c,isActive:d,size:u,className:h,label:p,isPlayable:g=!0})=>{const x=u===ue.LARGE?"medium":"small",{badges:y}=(0,Z.b)({contentRating:s});return(0,O.jsxs)("div",{"data-testid":"trailer-component",className:m()(ee,h,{[ae]:d}),onContextMenu:n,onTouchStart:o,onTouchEnd:l,children:[(0,O.jsxs)("div",{className:te,children:[(0,O.jsxs)("div",{className:oe,children:[(0,O.jsx)(Q.b,{type:U.c.EPISODE,title:a,className:m()(ne,{[de]:u===ue.SMALL,[ce]:u===ue.LARGE}),size:X.Qe.SIZE_56,images:e,shape:Q.u.ROUNDED_CORNERS}),(0,O.jsx)("div",{className:le,children:(0,O.jsx)(W.R,{"data-testid":"trailer-play-button",version:G.H4.transparent,size:x,isPlaying:c,onClick:r,disabled:!g})})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:ie,children:(0,O.jsx)(q.Z,{dir:"auto",className:se,variant:"balladBold",children:a})}),(0,O.jsxs)("div",{className:re,children:[(0,O.jsx)(K.E,{text:p}),y.explicit&&(0,O.jsx)($.U,{}),y.nineteen&&(0,O.jsx)(Y.q,{}),(0,O.jsx)(q.Z,{dir:"auto",variant:"mesto",children:(0,O.jsx)(J.d,{durationMs:t})})]})]})]}),i]})};var he=s(375),pe=s(43026);const ge=({htmlDescription:e,narrators:a,spec:s,isPreRelease:i})=>{const r=(0,pe.s)(),n=(0,t.useCallback)((e=>{const a=s.seeMoreButtonFactory();r.logInteraction(e?a.hitUiReveal():a.hitUiHide())}),[r,s]);return(0,O.jsxs)(O.Fragment,{children:[a.length?(0,O.jsx)(p.E,{as:"p",variant:"bodyMedium",children:l.Ru.get("web-player.audiobooks.narratedByX",a.join(l.Ru.getSeparator()))}):null,e&&(0,O.jsx)(he.N,{maxLines:4,content:e,htmlContent:e,onExpanded:n,isOpen:i||null})]})};var xe=s(93672),ye=s(14929),be=s(97077),ve=s(35655),je=s(40039),fe=s(93677),Ce=s(6670),ke=s(78497),Pe=s(31309),Se=s(23439);const we="e74TmRHu_W1yZHspTBmR",Re="rrcjfInomKt1lXRDRdR8",Ne="Wj9mxFJDtPdiMcUtS1te",Ie="SCwESjClY3m_9JlV2L7S",Ee="fgCxxxjc_7WRNVrA0QJH",Ae="s4XxbZsgf9j4glrHhFdM",_e="Yoa_yG2jhELT4w9wJpHf",Be="xsw253oiwmIAafVfjl1J",Me="JPqnsg5dgBTzsEoClLmD",Fe="bhuRgaz03VXMf0mOG3Q2",Te="GP_qgmZlmL0CJ9r22AD9",De="bilV2VquzmEnhV4d97Tc",Le="caqddwmUJf4ix6GI84NX",Ue="H3bD3wHovFQ2QWwQ5RCg",Oe=({explicit:e,durationMs:a,publishDate:s,preReleaseEndDateTime:t,isPreRelease:i,uri:r,isPlaying:n})=>{const o=(0,Pe.p)(r),{isMarkedAsFinished:c}=(0,ke.z)(r);let d;return i&&t?d=l.Ru.get("web-player.prerelease.releases_on",{date:l.Ru.formatDate(t)}):!i&&s&&(d=l.Ru.formatDate(s)),(0,O.jsxs)("div",{className:Fe,children:[e&&(0,O.jsx)($.U,{className:Le}),(0,O.jsxs)("div",{className:Te,children:[d&&(0,O.jsx)(p.E,{variant:"bodySmall",className:De,children:d}),a?(0,O.jsxs)(O.Fragment,{children:[o?.playPositionMilliseconds?(0,O.jsx)(p.E,{variant:"bodySmall",className:De,children:(0,O.jsx)(J.d,{durationMs:a})}):null,(0,O.jsx)(Se.j,{isPlaying:n,fullyPlayed:c,durationMs:a,position:o?.playPositionMilliseconds})]}):null]})]})};var ze=s(77676),Ve=s(45821);const He=(0,t.createContext)(null),qe=({children:e,isPreRelease:a})=>{const[s,i]=(0,t.useState)(!a),r=(0,t.useMemo)((()=>({isPreRelease:a,isCountdownFinished:s,setCountdownFinished:()=>i(!0)})),[a,s,i]);return(0,O.jsx)(He.Provider,{value:r,children:e})};function Ge(){const e=(0,t.useContext)(He);if(null===e)throw new Error("Trying to use 'PreRealeaseCountdownContext' without 'PreRealeaseCountdownProvider'!");return e}var We=s(71475);const Ke="nz8Wc80RAtdAb3yU9FxM",$e=({uri:e})=>{const{isCountdownFinished:a}=Ge(),{invalidateCache:s}=(0,We.W)(e);return(0,O.jsx)("div",{className:Ke,children:a?(0,O.jsx)(ze.$,{onClick:s,children:l.Ru.get("web-player.audiobooks.goToAudiobook")}):(0,O.jsx)(Ve.v,{uri:e,isBook:!0})})};var Qe=s(85625),Xe=s(40638),Ye=s(26930),Je=s(95234);const Ze="NQAShVY0o7RQ2bCTDSkw";function ea({uri:e,price:a,size:s,spec:t,logger:i,onPlayback:r}){const{enqueueSnackbar:n}=(0,Ye.d)(),o=(0,w.V)(),c=(0,h.d4)(I.Ly),d=0===a?.finalPrice?.amount,u=d?t.getButtonFactory({uri:e}):t.buyButtonFactory({uri:e}),m=(0,Xe.YQ)((async()=>{if(i.logInteraction(u.hitShowPaywall({paywalledItem:e})),o)r();else{try{a?.finalPrice?await(0,Je.S)({show_uri:e,currency:a.finalPrice.currency,price:a.finalPrice.amount}):n(l.Ru.get("error.generic"))}catch(e){n(l.Ru.get("error.generic"))}r()}}),2e3,{leading:!0,trailing:!1}),p=c?l.Ru.get("web-player.audiobooks.unlock"):l.Ru.get("web-player.audiobooks.buy");return(0,O.jsx)(ze.$,{size:s,className:Ze,style:{flexShrink:0},onClick:m,children:d?l.Ru.get("web-player.audiobooks.buyFree"):p})}const aa=({uri:e,isLocked:a,price:s,isPlaying:t,isConsumptionCapped:i,onPlayback:r,logger:n,spec:o,size:l="large"})=>a&&!i?(0,O.jsx)(ea,{size:l,uri:e,price:s,logger:n,spec:o,onPlayback:r}):(0,O.jsx)(Qe.D,{size:l,isPlaying:t,uri:e,onClick:r});var sa=s(9695),ta=s(54061),ia=s(68007),ra=s(38975),na=s(37760),oa=s(17154);const la="8px",ca=t.memo((function({backgroundColor:e,uri:a,name:s,isPlaying:i,togglePlay:r,isLocked:n,isSaved:o,isConsumptionCapped:c,price:d,spec:u,isExplicit:m,publishDate:p,preReleaseEndDateTime:g,duration:x}){const[y,f]=(0,ra.A)(a,o),C=!(0,ia.n)(),{isPreRelease:k}=Ge(),P=(0,h.wA)(),S=(0,pe.s)(),w=(0,sa.d$)(),{spec:R,logger:N}=(0,oa.r)(xe.e,{data:{uri:a}});(0,t.useEffect)((()=>{w&&N.logImpression(R.impression())}),[w,N,R]);const I=(0,t.useCallback)((()=>{const e=u.saveToLibraryButtonFactory();y?S.logInteraction(e.hitUnfollow({itemToBeUnfollowed:a})):(S.logInteraction(e.hitFollow({itemToBeFollowed:a})),w&&N.logInteraction(R.hitFollow({itemToBeFollowed:a}))),f(!y)}),[a,y,u,f,S,w,N,R]),E=(0,t.useCallback)(((e,s)=>{const t=u.downloadButtonFactory();c?P((0,b._3)()):s===na.NV.ADD?S.logInteraction(t.hitDownload({itemToDownload:a})):s===na.NV.REMOVE?S.logInteraction(t.hitRemoveDownload({itemToRemoveFromDownloads:a})):s!==na.NV.NO_PERMISSION&&s!==na.NV.NO_CAPABILITY||S.logInteraction(t.hitUiReveal())}),[c,P,S,u,a]),A=(0,t.useCallback)((()=>{const e=u.contextButtonFactory().hitUiReveal();S.logInteraction(e)}),[S,u]),_=(0,ta.j)(),B=!!c,M=!n&&!B;return(0,O.jsxs)(ye.E,{backgroundColor:e,style:{"--action-bar-padding-bottom":la},children:[(0,O.jsx)(be.S,{testId:"book-action-bar-metadata",children:(0,O.jsx)(Oe,{explicit:m,publishDate:p,preReleaseEndDateTime:g,durationMs:x,isPreRelease:k,uri:a,isPlaying:i})}),(0,O.jsxs)(be.S,{children:[k&&(0,O.jsx)($e,{uri:a}),!k&&(0,O.jsx)(aa,{uri:a,isLocked:n,isConsumptionCapped:B,price:d,isPlaying:i,onPlayback:r,logger:S,spec:u,size:_}),!k&&(0,O.jsx)(Ce.e,{children:(0,O.jsx)(ve.M,{isAdded:y,onClick:I,disabled:C,size:_,condensed:!0})},"follow-button"),(0,O.jsx)(je.I,{uri:a,onClick:E,size:_,canDownload:M}),(0,O.jsx)(j.b,{menu:(0,O.jsx)(fe.p,{uri:a,isPreRelease:k,price:d,isLocked:n,isCapped:B}),children:(0,O.jsx)(v.e,{label:l.Ru.get("more.label.context",s),onClick:A,size:_})})]})]})}));var da=s(96535),ua=s(79627),ma=s(83080),ha=s(6836),pa=s(9348),ga=s(72226),xa=s(22775),ya=s(11689),ba=s(74285),va=s(32539),ja=s(10082),fa=s(48796),Ca=s(92866),ka=s(23024),Pa=s(15440),Sa=s(28191),wa=s(28155);const Ra="BBK_i9SHovXTLVjas0kc",Na=t.memo((function({coverArt:e,name:a,authorName:s,authors:t,uri:i,backgroundColor:r,isPlaying:n,togglePlay:o,isLocked:c,price:d,isConsumptionCapped:u,logger:m,spec:h,preReleaseEndDateTime:g}){const x=(0,wa.y)(),y=x===Sa.E.SMALL||x===Sa.E.XSMALL,{isOpen:b,openModal:v,closeModal:j}=(0,Pa.W)(),{isPreRelease:f,setCountdownFinished:C}=Ge(),k=f&&y,P=(0,O.jsx)(fe.p,{uri:i,price:d,isLocked:c,isCapped:u}),S=(0,O.jsx)(Ca.O,{authorName:s,authors:t});return(0,O.jsxs)(ha.z,{backgroundColor:r,size:f?ha.K.XLARGE:ha.K.DEFAULT,children:[(0,O.jsxs)(xa.h,{children:[f&&(0,O.jsx)($e,{uri:i}),!f&&(0,O.jsx)(aa,{uri:i,isLocked:c,price:d,isPlaying:n,isConsumptionCapped:u,onPlayback:o,logger:m,spec:h,size:"medium"}),(0,O.jsx)(da.h,{menu:P,children:(0,O.jsx)(ya.X,{text:a,dragUri:i,dragLabel:a})})]}),!k&&(0,O.jsx)(da.h,{menu:P,children:(0,O.jsx)(pa.K,{images:e,name:a,dragUri:i,dragMimeType:ma.fl.AUDIOBOOKS,shape:Q.u.SQUARE,onClick:v,ariaLabel:l.Ru.get("web-player.audiobooks.open_cover_modal")})}),(0,O.jsxs)(ga.Y,{children:[(0,O.jsx)(va.B,{children:l.Ru.get("web-player.audiobooks.audiobook")}),(0,O.jsx)(da.h,{menu:P,children:(0,O.jsx)(fa.mm,{canEdit:!1,onClick:()=>{},scaleAtMinWidth:fa.tw,dragUri:i,dragMimeType:ma.fl.AUDIOBOOKS,dragLabel:a,children:a})}),f?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ba.X,{children:(0,O.jsx)(p.E,{className:Ra,variant:"bodySmallBold","data-testid":"entityAuthor",children:S})}),g&&(0,O.jsx)(ua.G,{targetDate:g,images:k?e:[],imageTitle:a,onComplete:C})]}):(0,O.jsx)(ja.g,{children:S})]}),(0,O.jsx)(ka.K,{images:e,isOpen:b,onClose:j,title:a})]})})),Ia="pwjwUMaZVoJ0wBcQlIDf",Ea=t.memo((({price:e})=>e.finalPrice&&e.finalListPrice?0===e.finalPrice.amount&&0===e.finalListPrice.amount?(0,O.jsxs)("div",{className:Ia,children:[(0,O.jsx)(p.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:l.Ru.get("audiobook.freePriceDescription")}),(0,O.jsx)(p.E,{variant:"bodySmall",children:l.Ru.get("audiobook.freePriceExplanation")})]}):(0,O.jsxs)("div",{className:Ia,children:[(0,O.jsx)(p.E,{variant:"titleSmall",semanticColor:"textBase",children:e.finalPrice.formattedPrice}),e.finalPrice.amount<e.finalListPrice.amount&&(0,O.jsx)(p.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("web-player.audiobooks.retailPrice",(0,O.jsx)("span",{style:{textDecoration:"line-through"},children:e.finalListPrice.formattedPrice}))})]}):null));var Aa=s(62895),_a=s(13003),Ba=s(49358),Ma=s(30024),Fa=s(98098),Ta=s(5956),Da=s(67715);const La="XzRW0BrBLoXKWET5f8m4",Ua="ooqITYCPJKua4e5yv8_9",Oa="zN8lTnSnAUSRAMPb7XYV",za="llVyicNXe8z0QAnoRur1",Va="fCrjgF2UgDUWjtqWls4Q",Ha="CLnKy_BRVtIluLfBWy5t",qa="RZa0qnXymlZCoGOdE03d",Ga="RFXE57hUzWvvK4_7GX13",Wa="ALQqkJiR2lZOSYvhHesh",Ka="BQwrI2BbKK4n451iu2QC",$a="VYLq_YaQVNISHPQOu2af",Qa=t.memo((function({name:e,duration:a,uri:s,bookName:i,usePlayContextItem:r,isChapterLocked:n,isPlayable:o,resumePositionMs:c,isFullyPlayed:d,isExplicit:u,is19PlusOnly:g,spec:x,index:y,isConsumptionCapped:C}){const k=(0,t.useRef)(c),{isPlaying:P,togglePlay:S,isActive:w}=r({uri:s}),R=(0,pe.s)(),N=(0,h.wA)(),I=(0,Ta.o)((e=>{if(e?.item?.uri===s){const a=(0,Da.s)(e)??0;return k.current=a,a}return 0})),E=(0,t.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),A=(0,t.useCallback)((e=>{if(E(e),C)return void N((0,b._3)());const a=x.chapterBlockFactory({position:y,uri:s}).playButtonFactory();if(n)R.logInteraction(a.hitShowPaywall({paywalledItem:s}));else{const e=(0,Fa.$I)({isPlaying:P,isActive:w,spec:a,logger:R,uri:s});S({loggingParams:e})}}),[C,N,y,w,n,P,R,x,E,S,s]),_=(0,t.useCallback)((()=>{const e=x.chapterBlockFactory({position:y,uri:s}).secondaryHitUiReveal();R.logInteraction(e)}),[y,R,x,s]),B=(0,t.useCallback)((e=>{E(e);const a=x.chapterBlockFactory({position:y,uri:s}).contextMenuFactory().hitUiReveal();R.logInteraction(a)}),[y,R,x,E,s]),M=!(n||C),F=(0,O.jsx)(Ba.d,{className:m()({[Ua]:w}),children:e}),T=(0,O.jsxs)("div",{className:Ha,children:[u&&(0,O.jsx)($.U,{fullText:!0}),g&&(0,O.jsx)(Y.q,{size:16}),(0,O.jsxs)("div",{className:qa,children:[k.current?(0,O.jsx)(p.E,{variant:"bodySmall",className:$a,children:(0,O.jsx)(J.d,{durationMs:a.milliseconds})}):null,(0,O.jsx)(Se.j,{isPlaying:P,fullyPlayed:d,durationMs:a.milliseconds,resumePositionMs:k.current,position:P?I:void 0})]})]}),D=(0,O.jsxs)("div",{className:Wa,"data-testid":`chapter-${y}`,children:[(0,O.jsx)("div",{className:Ka,children:M?(0,O.jsx)(j.b,{menu:(0,O.jsx)(f.r,{uri:s}),children:(0,O.jsx)(v.e,{className:Va,size:v.M.xs,label:l.Ru.get("more.label.context",e),onClick:B})}):null}),(0,O.jsx)("div",{className:Ga,children:(0,O.jsx)(W.R,{size:"small",version:W.H.secondary,onClick:A,isPlaying:P,ariaPlayLabel:l.Ru.get("tracklist.a11y.play",e,i),ariaPauseLabel:l.Ru.get("tracklist.a11y.pause",e,i),locked:n&&!C,disabled:!o&&!(n||C)})})]}),L=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{className:Oa,"aria-hidden":!0}),(0,O.jsx)(Ma.v,{id:`chapter-${y}`,title:F,body:T,footer:D,onDoubleClick:e=>{A(e)},className:La})]});return M?(0,O.jsx)(da.h,{menu:(0,O.jsx)(f.r,{uri:s}),onShow:_,children:(0,O.jsx)("div",{className:za,children:L})}):(0,O.jsx)("div",{className:za,children:L})}));var Xa=s(75082),Ya=s(66706),Ja=s(67913);var Za=s(3402);const es="LrH_3T2eS36fCP4M_9Wt",as="D8QrQAVF8Vwxp0zzAf2B",ss=({bookUri:e,bookName:a,sampleUri:s,isFinishedUnlockingJourney:i,usePlayContextItem:r,spec:n,isConsumptionCapped:o})=>{const c=function(e,a){const s=(0,Ja.T)();return(0,t.useCallback)((async(t,i)=>s.getBookContents(e,{offset:t,limit:i,doRefreshSubscription:a})),[a,s,e])}(e,i),{isMarkedAsFinished:d}=(0,ke.z)(e),u=(0,C.s)(),m=u?6:50,[h,g]=(0,t.useState)(m),x=(0,t.useCallback)((e=>e?.uri===s),[s]),y=(0,t.useCallback)((e=>(e=>null!==e)(e)&&!x(e)),[x]),b=(0,t.useCallback)((async(e,a)=>{const s=await c(e,a);return{items:s.items,totalLength:s.totalCount}}),[c]),{getItems:v,nrValidItems:j}=(0,Ya.E)({fetch:b,nrItems:m,limit:50}),f=(0,t.useCallback)((()=>{g((e=>e+m))}),[m]),k=u&&j>h,P=h-1;return(0,O.jsxs)("ul",{children:[(0,O.jsx)(Xa._,{onReachBottom:u?void 0:f,triggerOnInitialLoad:!0,children:v(0,P).map(((e,s)=>{if(!e||!y(e))return null;const{name:t,duration:i,uri:l,playability:{playable:c},playedState:{playPositionMilliseconds:u,state:m},isExplicit:h,is19PlusOnly:p}=e,g=m===Za._w.Completed||d,x=function(e){return!e.playability?.playable&&(e.playability?.reason===Za.Uk.PaymentRequired||e.playability?.reason===Za.Uk.Anonymous)}(e);return(0,O.jsx)(Qa,{name:t,duration:i,uri:l,bookName:a,usePlayContextItem:r,isPlayable:c,isChapterLocked:x,isConsumptionCapped:!!o,resumePositionMs:u,isFullyPlayed:g,isExplicit:h,is19PlusOnly:p,spec:n,index:s},`${l}/${s}`)}))}),k&&(0,O.jsx)("div",{className:es,children:(0,O.jsxs)(Aa.v,{onClick:()=>{f()},className:as,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("similar-audiobooks.load-more-chapters")}),(0,O.jsx)(_a.V,{size:"xsmall"})]})})]})};var ts=s(20063),is=s(56206),rs=s(22987),ns=s(95425),os=s(46458);const ls="_yl4tOZxcpoUt28k6B8I",cs="lcJflizNrSwDM9yPNk6h",ds="ret7iHkCxcJvsZU14oPY",us=({rating:e,className:a,onClick:s})=>{if(!e)return null;const t=Boolean(e.rating?.rating);return(0,O.jsxs)("button",{className:m()(ls,a),onClick:s,children:[(0,O.jsx)(q.Z,{dir:"auto",variant:"mestoBold",children:e.averageRating?.showAverage?l.Ru.formatNumber(e.averageRating.average,{maximumFractionDigits:1}):l.Ru.get("web-player.audiobooks.noRating")}),t?(0,O.jsx)(ns.j,{iconSize:16,className:m()(cs)}):(0,O.jsx)(os.a,{iconSize:16,className:m()(cs)}),e.averageRating?.showAverage&&(0,O.jsxs)(q.Z,{variant:"mesto",className:m()(ds),children:["(",l.Ru.formatNumberCompact(Number(e.averageRating.totalRatings)),")"]})]})};var ms=s(41045),hs=s(34939),ps=s(7344),gs=s(78476);const xs={shuffle:!1,repeat:ps.p.REPEAT_NONE},ys=t.memo((function({metadata:e}){const{uri:a,coverArt:s,name:r,htmlDescriptionPlain:o,authorName:d,authors:u,sample:_,narrators:B,rating:M,isExplicit:F,duration:T,copyrights:D,publishDate:L,price:z,isLocked:q,isSaved:G,isConsumptionCapped:W,signifierText:K,resumeEpisodeLink:$,topics:Q,isPreRelease:X,preReleaseEndDateTime:Y}=e,{search:J}=(0,i.zy)(),Z=!!new URLSearchParams(J).get("isUnlockingAudiobook"),ee=!(!(0,ms.Z)(Z)||Z),ae=(0,w.V)(),se=(0,is.H)(s[0]?.url),te=(0,h.wA)(),ie=(0,C.s)(),re=(e=>{const a=(0,w.V)(),s=(0,S.vh)(),t=(0,g.NC)(R.S$t),i=(0,h.d4)(I.F6),r=(0,h.d4)(N.JJ);return()=>{const n={category:"audiobook_show_page_exposure",action:"audiobook_show_page_visit",variant:t,label:"dwp",os:(0,A.f)(),destination_url:e,country:i?r:"",sp_t:(0,E.v8)("sp_t")};a?s.send((0,P.r)(n)):s.send((0,k._)(n))}})(a);(0,t.useEffect)((()=>{re()}),[re]);const ne=(0,g.NC)(R.NzS,{loadingValue:!1}),{spec:oe,logger:le}=(0,oa.r)(x.U,{data:{uri:a,identifier:n.$h.PODCAST_SHOW_AUDIOBOOK}}),{spec:ce,logger:de}=(0,oa.r)(x.U,{data:{uri:a,identifier:n.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),{spec:he,logger:pe}=(0,oa.r)(y.Y,{data:{uri:a}}),xe=(0,t.useMemo)((()=>oe.actionBarFactory()),[oe]),ye=(0,t.useMemo)((()=>ce.aboutSectionFactory()),[ce]),be=(0,t.useMemo)((()=>oe.chapterListFactory()),[oe]);(0,t.useEffect)((()=>{q&&pe.logImpression(he.impression())}),[he,pe,q]);const{isPlaying:ve,togglePlay:je,usePlayContextItem:fe,isActive:Ce,triggerPlay:ke}=(0,hs.P)({uri:a},{featureIdentifier:"audiobook"},xs),{togglePlay:Pe,isPlaying:Se,isActive:Fe}=(0,hs.P)({uri:_?.uri??"",pages:[{items:[{uri:_?.uri??"",uid:_?.uri??"",type:U.c.CHAPTER,provider:null,metadata:X?{is_pre_release:"true",type:"trailer"}:void 0}]}]},{featureIdentifier:"audiobook"},xs),Te=ve&&!Se,De=Ce&&!Fe,Le=(0,t.useCallback)((async()=>{const e=oe.actionBarFactory().playButtonFactory();if(W)return le.logInteraction(e.hitShowPaywall({paywalledItem:a})),void te((0,b._3)());if(!q||ae)if(ae)je();else{const s=(0,Fa.$I)({isPlaying:Te,isActive:De,spec:e,logger:le,uri:a});De?je({loggingParams:s}):ke({skipTo:$?{uri:$}:void 0,loggingParams:s})}}),[oe,W,ae,q,le,a,te,je,Te,De,ke,$]),Oe=(0,t.useCallback)((()=>{_?.uri&&Pe()}),[Pe,_?.uri]),ze=(0,t.useCallback)((()=>{const s=ye.ratingButtonFactory().hitUiReveal();de.logInteraction(s),te((0,b.eH)(a,e))}),[ye,te,e,de,a]),Ve=(0,wa.y)(),He=q&&!W&&z;return(0,O.jsx)("section",{children:(0,O.jsxs)(qe,{isPreRelease:X,children:[(0,O.jsx)(c.Q,{children:(0,gs.hV)({showOrAudiobookName:r,type:"Audiobook"})}),(0,O.jsx)(ts.c,{artistOrShow:d,title:r,uri:a,entityType:ts.p.AUDIOBOOK}),(0,O.jsx)(Na,{name:r,authorName:d,authors:u,uri:a,coverArt:s,backgroundColor:se,togglePlay:Le,isPlaying:Te,isLocked:q,price:z,logger:le,spec:oe.actionBarFactory(),preReleaseEndDateTime:Y,isConsumptionCapped:W}),(0,O.jsx)(ca,{name:r,backgroundColor:se,uri:a,togglePlay:Le,isPlaying:Te,isLocked:q,isSaved:G,isExplicit:F,duration:T,publishDate:L,preReleaseEndDateTime:Y,price:z,spec:xe,isConsumptionCapped:W}),(0,O.jsxs)("div",{className:m()(we,"contentSpacing",{[Re]:Ve===Sa.E.LARGE}),children:[(0,O.jsxs)("div",{className:Ne,children:[(0,O.jsxs)("div",{className:Me,children:[K&&(0,O.jsx)(p.E,{variant:"bodyMedium",as:"p",semanticColor:"textBrightAccent",children:K}),!K&&He&&(0,O.jsx)(Ea,{price:z})]}),(0,O.jsx)(ge,{htmlDescription:o,narrators:B,spec:ye,isPreRelease:X??!1})]}),(0,O.jsxs)("div",{className:Ie,children:[_?.isPlayable&&(0,O.jsx)(me,{label:l.Ru.get("audiobook.page.sample"),images:_.coverArt,title:_.name,duration:_.duration.milliseconds,moreButton:q?null:(0,O.jsx)(j.b,{menu:(0,O.jsx)(f.r,{uri:_.uri}),children:(0,O.jsx)(v.e,{})}),onClick:Oe,isPlaying:Se,isActive:Fe,size:ue.LARGE,contentRating:_.contentRating?.label,isPlayable:_.isPlayable}),(0,O.jsxs)("div",{className:_e,children:[!X&&(0,O.jsx)("div",{className:Ee,children:(0,O.jsx)(us,{rating:M,onClick:ze})}),Q.length>0&&(0,O.jsx)(H.N,{topics:Q,className:Ae})]})]}),(0,O.jsxs)("div",{className:Be,children:[!X&&(0,O.jsx)(ss,{bookUri:a,bookName:r,sampleUri:_?.uri,isFinishedUnlockingJourney:ee,usePlayContextItem:fe,spec:be},`${a}-${q}`),ne&&(0,O.jsx)(rs.Z,{copyrights:D})]}),ie&&(0,O.jsx)(V,{title:l.Ru.get("similar-audiobooks.more-audiobooks-like-this"),uri:a,className:Ue})]})]})})}));var bs=s(42980),vs=s(93993),js=s(95825);const fs=({uri:e,name:a,isSaved:s,backgroundColor:i,spec:r})=>{const n=(0,pe.s)(),o=!(0,ia.n)(),[c,d]=(0,ra.A)(e,s),u=(0,sa.d$)(),{spec:m,logger:h}=(0,oa.r)(xe.e,{data:{uri:e}});(0,t.useEffect)((()=>{u&&h.logImpression(m.impression())}),[u,h,m]);const p=(0,t.useCallback)((()=>{const a=r.followButtonFactory();n.logInteraction(c?a.hitUnfollow({itemToBeUnfollowed:e}):a.hitFollow({itemToBeFollowed:e})),!c&&u&&h.logInteraction(m.hitFollow({itemToBeFollowed:e})),d(!c)}),[e,c,r,n,d,u,h,m]),g=(0,t.useCallback)((()=>{n.logInteraction(r.contextButtonFactory().hitUiReveal())}),[n,r]),x=(0,ta.j)();return(0,O.jsx)(ye.E,{backgroundColor:i,children:(0,O.jsxs)(be.S,{children:[(0,O.jsx)(Ce.e,{children:(0,O.jsx)(js.W,{isFollowing:c,onClick:p,disabled:o})},"follow-button"),(0,O.jsx)(j.b,{menu:(0,O.jsx)(vs.H,{uri:e}),onShow:g,children:(0,O.jsx)(v.e,{label:l.Ru.get("more.label.context",a),size:x})})]})})};var Cs=s(34834),ks=s(17583),Ps=s(69229),Ss=s(36585),ws=s(97919),Rs=s(69262),Ns=s(39908),Is=s(70719);const Es="BknvXMyUnN3fQCz8mvLI",As="slMInsl3HL9_02zHT22R",_s="40px",Bs=({leavebehinds:e})=>{let a;return 1===e.length&&(a=(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser})),2===e.length&&(a=l.Ru.get("podcast-ads.recent_ads_just_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),e.length>2&&(a=l.Ru.get("podcast-ads.recent_ads_more_than_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),(0,O.jsxs)(p.E,{variant:"bodySmall",semanticColor:"textSubdued","data-testid":"show-leavebehinds-text",children:[l.Ru.get("podcast-ads.recent_ads_from"),a]})},Ms=({leavebehinds:e,uri:a,surface:s})=>{const i=(0,S.vh)();if((0,t.useEffect)((()=>{a&&e.length>0&&i.send((0,Ss.x)({leavebehind_request_id:e[0].requestId,event:"event_viewed",event_reason:`viewed_on_${(0,ws.Fh)(s).toLowerCase()}`,surface:(0,ws.Fh)(s),uri:a}))}),[i,e,a,s]),0===e.length)return null;const r=(0,o.o_h)(a)?.id,n=1===e.length?e[0].clickthroughUrl:(0,Rs.q)(r),c=Ns.Qd,d=e.length>c,u=e.length-(c-1),m=e.slice(0,d?c-1:c);return(0,O.jsx)(Is.N,{to:n,pathname:e.length>1?n:void 0,state:{uri:a},className:As,onClick:()=>i.send((0,Ss.x)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,ws.Fh)(s),uri:a})),"data-testid":"show-leavebehinds-container",children:(0,O.jsx)(Ma.v,{layout:"wide",variant:"tinted",size:"xl",id:"show-leavebehinds",title:(0,O.jsxs)("div",{className:Es,"data-testid":"show-leavebehinds-logos-container",children:[m.map((e=>(0,O.jsx)(ks.C,{"data-testid":"show-leavebehind-image",src:e.displayImage.src,alt:e.displayImage.alt,imageHeight:_s,imageWidth:_s},e.adId))),d?(0,O.jsx)(Fs,{"data-testid":"show-leavebehinds-more-count-indicator",variant:"tinted",minBlockSize:_s,borderRadius:"4px",padding:"6px",children:(0,O.jsx)(p.E,{variant:"bodyMedium","data-testid":"show-leavebehinds-more-count-indicator-text",children:l.Ru.get("podcast-ads.show_more_indicator",u)})}):null]}),body:(0,O.jsx)(Bs,{leavebehinds:e})})})};var Fs=(0,Cs.Ay)(Ps.a).withConfig({displayName:"LeavebehindsPreview___StyledBox",componentId:"sc-qakd80-0"})({backgroundColor:"#121212",width:"40px",display:"flex",alignItems:"center",justifyContent:"center"}),Ts=s(23379);const Ds=ws.ui.SHOW_PAGE;function Ls({uri:e}){const{data:a,error:s,getLeavebehinds:i}=(0,Ts.A)({surface:Ds,uri:e});(0,t.useEffect)((()=>{i()}),[i]);const r=(0,t.useMemo)((()=>a?(0,Ns.iT)(a,e):[]),[a?.requestId]);return s||a?.leavebehindAds&&a?.leavebehindAds?.length<1?null:(0,O.jsx)(Ms,{leavebehinds:r,uri:e,surface:Ds})}var Us=s(13016),Os=(s(54615),s(73688)),zs=s(81972),Vs=s(54184),Hs=s(2968);const qs=({className:e,title:a,uri:s})=>{const{data:t}=(0,zs.v)({uri:s},{gcTime:9e5,staleTime:3e5}),i=t?.seoRecommendedPodcast.totalCount;if(0===i)return null;const r=t?.seoRecommendedPodcast.items,n=function(e){return(e||[]).filter((e=>(0,Vs.K)(e.data)))}(r),c=(0,o.o_h)(s)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:i,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:n?.map((({data:e},a)=>(0,O.jsx)(Os.o,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,Hs.w)(e.mediaType),index:a},e.uri)))})},Gs=e=>{const a=(0,F.D)({entityType:U.c.SHOW,componentType:"shelf",uri:e.uri});return(0,O.jsx)(M.s,{onError:a,children:(0,O.jsx)(qs,{...e})})};var Ws=s(4113),Ks=s(63367),$s=s(8827),Qs=s(95173),Xs=s(88090);const Ys=(0,t.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),Js=t.memo((function({uri:e,children:a}){return(0,O.jsx)(Xs.E,{uri:e,defaultState:[],sortContext:Ys,localStorageKey:"showFilterParams-v2",children:a})}));s(24929);var Zs=s(26660);const et={field:Zs.WY.PUBLISH_DATE,order:Zs.AX.DESC},at={field:Zs.WY.PUBLISH_DATE,order:Zs.AX.ASC},st=at,tt={episodic:et,sequential:at,recent:et};function it(){return new Map([[et,{key:"newest-to-oldest",value:l.Ru.get("shows.sort.newest-to-oldest")}],[at,{key:"oldest-to-newest",value:l.Ru.get("shows.sort.oldest-to-newest")}]])}function rt(e){return tt[e]}const nt=(0,t.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:rt("recent")}),ot=e=>{const a=it();return Array.from(a.keys()).some((({field:a})=>a===e?.field))},lt=t.memo((function({uri:e,children:a,defaultSortParam:s}){return(0,O.jsx)(Xs.E,{uri:e,defaultState:s,sortContext:nt,localStorageKey:"showSortParam",validator:ot,children:a})}));var ct=s(28331),dt=s(88308);const ut="ysJC093hc_2ixGCy40_s",mt="mJP3Bamg3hN7S0p7XKfN",ht="clPqCj1L_KSfoVuTuP6x",pt="vqQmhCMZq7eUtTV7YYOQ",gt=t.memo((function({showMetadata:e,usePlayContextItem:a}){const{sortState:s}=(0,t.useContext)(nt),{sortState:i}=(0,t.useContext)(Ys),r=function(e,a,s){const t=(0,Ja.T)(),{canSort:i}=t.capabilities,r=(0,dt.U0)((async(i,r)=>t.getContents(e,{offset:i,limit:r,sort:a,filters:s})),[t,e,a,s]),n=(0,dt.U0)((async(a,s)=>t.getContents(e,{offset:a,limit:s})),[t,e]);return i?r:n}(e.uri,s,i),n=(0,ct.c)(),o=n?6:50,[c,d]=(0,t.useState)(o),u=(0,t.useCallback)((async(e,a)=>{const s=await r(e,a);return{items:s.items,totalLength:s.totalCount}}),[r]),{getItems:m,nrValidItems:h}=(0,Ya.E)({fetch:u,nrItems:o,limit:50}),g=(0,t.useCallback)((()=>{d((e=>e+o))}),[o]),x=n&&h>c;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)($s.R,{"aria-rowcount":h,"aria-colcount":6,firstInteractiveIsWrapper:!0,children:(0,O.jsx)(Xa._,{onReachBottom:n?void 0:g,children:m(0,c-1).map(((s,t)=>s&&(0,O.jsx)(Qs.W,{"aria-posinset":t+1,children:(0,O.jsxs)("div",{className:mt,children:[(0,O.jsx)("hr",{className:ut,"aria-hidden":!0}),(0,O.jsx)(Ks.q,{index:t,episode:s,showMetadata:e,usePlayContextItem:a},`${s.uri}/${t}`)]})},`${t}${s.uri}`)))})}),x&&(0,O.jsx)("div",{className:ht,children:(0,O.jsxs)(Aa.v,{onClick:()=>{g()},className:pt,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("internal-link-recommender.load-more-episodes")}),(0,O.jsx)(_a.V,{size:"xsmall"})]})})]})}));s(7354);var xt=s(22571);const yt={field:Zs.K$.ISPLAYED,operator:Zs.uj.EQUALS,value:!1},bt={field:Zs.K$.STARTEDPLAYING,operator:Zs.uj.GREATER_THAN,value:0};const vt="all-episodes",jt=({onFilter:e})=>{const{sortState:a,setSortState:s}=(0,t.useContext)(Ys),i=new Map([[yt,{key:"is-played",value:l.Ru.get("shows.filter.unplayed")}],[bt,{key:"started-playing",value:l.Ru.get("shows.filter.in-progress")}]]),r=Array.from(i.values());r.unshift({key:vt,value:l.Ru.get("mwp.podcast.all.episodes")});const n=Array.from(i.keys()),o=(0,t.useCallback)((a=>{if(a===vt)s([]);else{const e=n.find((e=>i.get(e)?.key===a));e&&s([e])}e()}),[e,s,n,i]);if(!i.size||!n)return null;let c=r[0];const d=Array.from(i.entries()).filter((e=>a?.some((a=>a.field===e[0].field&&a.operator===e[0].operator))));return d.length>0&&(c=d[0][1]),(0,O.jsx)(xt.g,{options:r,onSelect:e=>o(e),selected:c,variant:"bodyMediumBold",semanticColor:"textBase",heading:l.Ru.get("drop_down.filter_by")})},ft=({onSort:e})=>{const{sortState:a,setSortState:s}=(0,t.useContext)(nt),i=it(),r=Array.from(i.values()),n=Array.from(i.keys()),o=(0,t.useCallback)((a=>{const t=n.find((e=>i.get(e)?.key===a));t&&s(t),e()}),[n,e,i,s]);if(!i.size||!a)return null;const c=Array.from(i.keys()).find((e=>e.field===a.field&&e.order===a.order));if(!c)return null;const d=i.get(c);return d?(0,O.jsx)(xt.g,{options:r,onSelect:e=>o(e),selected:d,heading:l.Ru.get("drop_down.sort_by")}):null},Ct="jVWq1orbpiIK34UFHkFb",kt="gYTsg8kvcGmu41_lilIb",Pt="GMHh7OED_Nijo4zzSfrb",St="sNEwCEh44Lapg36PnVFw",wt="SoIsw3P_1RnUtFBHs_2d",Rt="OMG3QMzpwer8oWsiJpzs",Nt="r0yVSge7A1iSTNfudfyV",It="yP6EeRtQJeqKq10IsMxn",Et="MIaGJ1KyQ3JLblOjWL19",At="p8WHC1qBUrwrBwzp_vYY",_t="Uzyuaxpkm_Gwb6jOGbva",Bt="TSNj_F4gGzCuxrzx6n98",Mt="E4HX0M3aD0MY5dUCKSCb",Ft="CbSqM7wDwoLFnyIo1iKL",Tt="c0h80mSMc3PkNlHX0DYs",Dt="SGGetEMTKgQk1aJvG4k9",Lt="ne3ntrWAoMrE6_4A23Mf",Ut=({spec:e})=>{const a=(0,pe.s)(),{canSort:s,canFilter:i}=(0,Ja.T)().capabilities,r=(0,t.useCallback)((()=>{a.logInteraction(e.episodeListFactory().filterButtonFactory().hitFilter())}),[a,e]),n=(0,t.useCallback)((()=>{a.logInteraction(e.episodeListFactory().sortButtonFactory().hitSort())}),[a,e]);return(0,O.jsxs)("div",{className:It,children:[i&&(0,O.jsx)("div",{className:At,children:(0,O.jsx)(jt,{onFilter:r})}),!i&&(0,O.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:_t,children:l.Ru.get("mwp.podcast.all.episodes")}),s&&(0,O.jsx)("div",{className:Et,children:(0,O.jsx)(ft,{onSort:n})})]})};var Ot=s(94169),zt=s(42917),Vt=s(24010),Ht=s(5638),qt=s(17934);const Gt=({breakpoint:e,metadata:a,spec:s})=>{const{uri:i,trailer:n,topics:o,description:c,htmlDescription:d,rating:u}=a,g=(0,Ot.N)(i),x=(0,pe.s)(),{spec:y,logger:f}=(0,oa.r)(r.R,{data:{uri:i}}),C=(0,t.useMemo)((()=>y.aboutSectionFactory()),[y]),k=(0,t.useMemo)((()=>s.episodeListFactory()),[s]),P=(0,h.wA)(),S=(0,w.V)(),{sortState:R}=(0,t.useContext)(Ys),N=(0,Ja.T)(),I=(0,ct.c)(),{usePlayContextItem:E}=(0,hs.P)({uri:i,metadata:{[Ht.W.SORTING_CRITERIA]:N.getPlayerSort(st),[Ht.W.FILTERING_PREDICATE]:N.getPlayerFilter(R)}},{featureIdentifier:"show"}),{isActive:A,isPlaying:_,togglePlay:B}=E({uri:n?.uri||""}),M=(0,t.useCallback)((e=>{const a=s.aboutSectionFactory().seeMoreButtonFactory(),t=e?a.hitUiReveal():a.hitUiHide();x.logInteraction(t)}),[x,s]),F=(0,t.useCallback)(((e,a)=>{const t=s.aboutSectionFactory().topicFactory(a).hitUiNavigate({destination:a.uri});x.logInteraction(t)}),[x,s]),T=n?{name:n.name,uri:n.uri,audio:{items:n.audio.items.map((e=>({url:e.url})))}}:null,D=(0,Ks.B)(a),L=(0,zt.C)(T,D),U=(0,t.useCallback)((()=>{n?.uri&&(S?L():B())}),[L,S,B,n?.uri]),{ref:z,breakpoint:V}=(0,Vt.x)({[Sa.E.MEDIUM]:0,[Sa.E.LARGE]:600}),q=o.length>0,G=c||d,W=G||q;return(0,O.jsxs)("div",{className:m()(Ct,"contentSpacing",{[Pt]:e===Sa.E.LARGE}),ref:z,children:[(0,O.jsx)(Ws.q,{className:kt,gatedEntityCoverArt:a.gatedEntityCoverArt,gatedEntityRelations:a.gatedEntityRelations,upsellExplanation:a.upsellExplanation,hasAccess:a.hasGatedEntityRelationAccess,showCoverArt:!0}),(0,O.jsxs)("div",{className:St,children:[W&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:_t,children:l.Ru.get("artist.about")}),G&&(0,O.jsx)(he.N,{maxLines:4,content:(c||"").trim(),onExpanded:M,htmlContent:d||void 0}),n&&(0,O.jsx)(da.h,{menu:(0,O.jsx)(Us.b,{uri:n.uri,showUri:i,sharingInfo:n.sharingInfo}),children:(0,O.jsx)(me,{label:l.Ru.get("track-trailer"),className:Bt,images:n.coverArt,title:n.name,duration:n.duration.milliseconds,moreButton:(0,O.jsx)(j.b,{menu:(0,O.jsx)(Us.b,{uri:n.uri,sharingInfo:n.sharingInfo,showUri:i}),children:(0,O.jsx)(v.e,{})}),onClick:U,isPlaying:_,isActive:A,size:ue.LARGE,contentRating:n.contentRating?.label})}),(0,O.jsxs)("div",{className:Ft,children:[u&&!g&&(0,O.jsx)("div",{className:Tt,children:(0,O.jsx)(us,{rating:u,onClick:()=>{const e=C.ratingButtonFactory().hitUiReveal();f.logInteraction(e),P((0,b.eH)(i,a))}})}),q&&(0,O.jsx)(H.N,{topics:o,className:Dt,onClick:F})]})]}),(0,O.jsx)(Ls,{uri:i})]}),(0,O.jsx)(wa.o.Provider,{value:V,children:(0,O.jsxs)("div",{className:m()(Rt,{[Nt]:I}),"data-testid":"show-all-episode-list",children:[(0,O.jsx)(Ut,{spec:s}),(0,O.jsx)(qt.r,{spec:k,children:(0,O.jsx)(gt,{showMetadata:a,usePlayContextItem:E})})]})}),(0,O.jsx)(rs.Z,{copyrights:[]}),(0,O.jsx)("div",{className:wt,children:I&&(0,O.jsx)(Gs,{title:l.Ru.get("internal-link-recommender.more-podcasts-like-this"),uri:i,className:Lt})})]})},Wt=t.memo(Gt);var Kt=s(74187),$t=s(5736);const Qt=({reason:e})=>{const a=function(e){switch(e){case"OTP":return l.Ru.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.Ru.get("podcasts.subscriber-indicator.subscription");default:return""}}(e);return a?(0,O.jsx)(p.E,{variant:"bodySmall",semanticColor:"textBase",className:Mt,children:a}):null};const Xt=({metadata:e,backgroundColor:a})=>{const{uri:s,coverArt:t,name:i,podcastType:r,publisherName:n,gatedContentAccessReason:o}=e,c=(0,O.jsx)(vs.H,{uri:s});return(0,O.jsxs)(ha.z,{backgroundColor:a,children:[(0,O.jsx)(xa.h,{children:(0,O.jsx)(da.h,{menu:c,children:(0,O.jsx)(ya.X,{text:i,dragUri:s,dragLabel:i})})}),(0,O.jsx)(Kt.X,{children:(0,O.jsx)(da.h,{menu:c,children:(0,O.jsx)($t.b,{loading:"eager",name:i,images:t,placeholderType:"show",shape:$t.u.SQUARE})})}),(0,O.jsxs)(ga.Y,{children:[(0,O.jsxs)(va.B,{children:["SHOW"===r?l.Ru.get("type.show"):l.Ru.get("type.podcast"),o&&(0,O.jsx)(Qt,{reason:o})]}),(0,O.jsx)(da.h,{menu:c,children:(0,O.jsx)(fa.mm,{dragUri:s,dragLabel:i,scaleAtMinWidth:fa.tw,children:(0,O.jsx)("span",{"data-testid":"show-title",children:i})})}),(0,O.jsx)(ja.g,{children:n})]})]})};var Yt=s(85904),Jt=s(14862),Zt=s(91470);const ei=({metadata:e,showId:a})=>{const{coverArt:s,name:i,uri:n,isSaved:o}=e,{spec:l}=(0,oa.r)(r.R,{data:{uri:n}}),d=(0,t.useMemo)((()=>l.actionBarFactory()),[l]),u=(0,is.H)(s[0]?.url||null),m=(0,wa.y)();return(0,O.jsxs)("section",{children:[(0,O.jsx)(c.Q,{children:(0,gs.hV)({showOrAudiobookName:i,type:"Podcast"})}),(0,O.jsx)(ts.c,{artistOrShow:i,uri:n,entityType:ts.p.PODCAST}),(0,O.jsx)(Xt,{metadata:e,backgroundColor:u}),(0,O.jsx)(fs,{uri:n,name:i,isSaved:o,backgroundColor:u,spec:d}),(0,O.jsx)(Wt,{breakpoint:m,metadata:e,showId:a,spec:l})]})},ai=(0,t.memo)((function(){const{showId:e=""}=(0,i.g)(),a=`spotify:show:${e}`,{data:s,error:r,redirectUri:c}=(0,We.W)(a);if(c){const e=(0,o.Lce)(c);return(0,O.jsx)(bs.$,{to:e.toURLPath(!0)})}const u=s&&(0,Za.Go)(s);return!s||r?r instanceof Zt.W?(0,O.jsx)(d.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error-page.not-available-in-region.title")}):(0,O.jsx)(d.LoadingPage,{hasError:!!r,errorMessage:l.Ru.get("error.not_found.title.page")}):u?(0,O.jsx)(t.Suspense,{fallback:null,children:(0,O.jsx)(Yt.u,{pageId:n.$h.PODCAST_SHOW_AUDIOBOOK,uri:a,children:(0,O.jsx)(Jt.d,{dynamicColors:s.dynamicColors,children:(0,O.jsx)(ys,{metadata:s},`${!!s.isConsumptionCapped}`)})})}):(0,O.jsx)(t.Suspense,{fallback:null,children:(0,O.jsx)(Yt.u,{pageId:n.$h.PODCAST,uri:a,children:(0,O.jsx)(Js,{uri:s.uri,children:(0,O.jsx)(lt,{uri:s.uri,defaultSortParam:rt(s.consumptionOrder),children:(0,O.jsx)(Jt.d,{dynamicColors:s.dynamicColors,children:(0,O.jsx)(ei,{showId:e,metadata:s})})})})})})}))},22987:(e,a,s)=>{s.d(a,{Z:()=>n});s(32807);var t=s(74220);const i="rTMkDBDp47Eo12ZEQv4U";var r=s(86070);const n=({copyrights:e,courtesyLine:a})=>{const s=(e||[]).map(((e,a)=>{if(e.untyped)return(0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},a);const s=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${s}`},a)}));return a&&s.unshift((0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:a},s.length)),(0,r.jsx)("div",{className:i,children:s})}},23024:(e,a,s)=>{s.d(a,{K:()=>x});var t=s(30758),i=s(35638),r=s(29174),n=s(9322),o=s(70773),l=s(36237);const c="bhvAemcPYUmxOdBe1mVi",d="hmgHdasWrZaA9tiXVw_u",u="RmbxUFLb4j9KmgftJyk1",m="boNCdFnbh9y0PBweIDUt",h="LfQtKa295FPgk8VuZRfD",p="Oytey9nANMtSDKSmZpJ6";var g=s(86070);const x=t.memo((function(e){const{images:a,title:s,isOpen:x,onClose:y}=e,b=(0,t.useMemo)((()=>(0,l.g)(a,{desiredSize:1e4})),[a]);return b?(0,g.jsx)(n.A,{className:c,isOpen:x,onRequestClose:y,animation:{modal:{base:m,afterOpen:h,beforeClose:p}},animated:!0,children:(0,g.jsxs)("div",{style:{"--image-width":`${b.width}px`,"--image-height":`${b.height}px`},className:d,children:[(0,g.jsx)(o._,{loading:"eager",alt:s,src:b.url,className:u}),(0,g.jsx)(i.H,{onClick:y,semanticColor:"textBase",children:r.Ru.get("web-player.cover-art-modal.close")})]})}):null}))},23439:(e,a,s)=>{s.d(a,{j:()=>w});var t=s(31500);const i="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",n="pklLPOhfigdytL9bPoth",o="sb24Y8kdMZInJ8aI8dXT";var l=s(86070);function c({ariaValueText:e,max:a,current:s}){const t=a&&s?100*Math.min(1,s/a):0,c={transform:`translateX(-${100-t}%)`},d=e||`${Math.round(t)}%`;return(0,l.jsxs)("div",{className:i,role:"progressbar",tabIndex:0,"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":a,"aria-valuetext":d,children:[(0,l.jsx)("div",{className:r}),(0,l.jsx)("div",{className:n,children:(0,l.jsx)("div",{"data-testid":"progressBarFg",className:o,style:c})})]})}const d="qfYkuLpETFW3axnfMntO",u="_q93agegdE655O5zPz6l",m="z7Yl7CIT1AB0y91f_moh",h="iLIlkUcfIq56KncGtX7u",p="nV50yZ6BR_TIuWP3l7b1",g="qLjIx_SzBEpDRA_q7kxQ";var x=s(17369),y=s(23528),b=s(29174),v=s(97500),j=s.n(v),f=s(75825),C=s(976),k=s(61661);const P="xWm_uA0Co4SXVxaO7wlB",S=({durationMs:e,className:a,displaySeconds:s})=>{const{hours:t,minutes:i,seconds:r}=(0,C.S)(e);s=!1!==s&&!t&&r;const n=(0,k.j)({h:t,m:i,s:s?r:0});return n?(0,l.jsx)("span",{className:j()(P,a),children:b.Ru.get("time.left",n)}):null},w=e=>{const{resumePositionMs:a=0,releaseDate:s,isPlaying:i,fullyPlayed:r,durationMs:n,position:o=a,compactVariant:v=!1,className:C,progressBarClassName:k,progressStateClassName:P,releaseDateClassName:w}=e,R=s&&s.isoString?(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:u,children:(0,t.V2)((0,t.ad)(s.isoString),s.precision)}):null,N=(()=>{if(0===n)return null;if(r&&!i)return(0,l.jsxs)("div",{className:j()(h,P),children:[(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:m,children:b.Ru.get("episode.audiobook.chapter.finished")}),(0,l.jsx)(y.i,{size:"small",className:g,"aria-hidden":"true"})]});if(o>0||i){const e=Math.ceil(Math.max(n-o,0));return(0,l.jsx)("div",{className:j()(h,P),children:(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:m,children:(0,l.jsx)(S,{durationMs:e,displaySeconds:!v&&void 0})})})}return(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:j()(u,w),"data-testid":"episode-progress-not-played",children:(0,l.jsx)(f.d,{durationMs:n,displaySeconds:!v&&void 0})})})(),I=0===n?null:!r&&o>0||i?(0,l.jsx)("div",{className:j()(p,k),children:(0,l.jsx)(c,{current:o,max:n})}):null;return R||N||I?(0,l.jsxs)("div",{className:j()(d,C),children:[R,N,I]}):null}},45821:(e,a,s)=>{s.d(a,{v:()=>m});var t=s(36948),i=s(83352),r=s(77676),n=s(45353),o=s(29174),l=s(69118),c=s(51040),d=s(83534),u=s(86070);const m=({uri:e,isBook:a=!1})=>{const{isPreSaved:s,addPresave:m,removePresave:h}=(0,c.w)({uri:e,isBook:a});return s?(0,u.jsx)(t.n,{onClick:h,iconTrailing:i.k,children:o.Ru.get("web-player.prerelease.presaved")}):(0,u.jsx)(l.h,{uri:e,action:d.no.SAVE_PRERELEASE,children:(0,u.jsx)(r.$,{disabled:void 0===s,onClick:m,iconTrailing:n.P,children:o.Ru.get("web-player.prerelease.presave")})})}},51040:(e,a,s)=>{s.d(a,{w:()=>d});var t=s(30758),i=s(94703),r=s(29174),n=s(26930),o=s(4665),l=s(23514),c=s(17154);const d=({uri:e,isBook:a})=>{const{add:s,remove:d}=(0,l.p)("prerelease"),u=(0,o.o)("prerelease",[e]).at(0),{enqueueSnackbar:m}=(0,n.d)(),{spec:h,logger:p}=(0,c.r)(i.k,{data:{uri:e}});return{isPreSaved:u,addPresave:(0,t.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitPresave({prereleaseId:e,itemToBePresaved:e,contextUri:e})),await s(e),m(a?r.Ru.get("web-player.prerelease.audiobook_feedback_presaved"):r.Ru.get("web-player.prerelease.album_feedback_presaved"))}),[s,m,a,p,h,e]),removePresave:(0,t.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitRemovePresave({prereleaseId:e,itemToBeRemovedFromPresaved:e,contextUri:e})),await d(e)}),[p,d,h,e])}}},54184:(e,a,s)=>{s.d(a,{K:()=>t});const t=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Podcast"===e.__typename;var a}},63367:(e,a,s)=>{s.d(a,{B:()=>N,q:()=>E});var t=s(30758),i=s(62411),r=s(86855),n=s(23736),o=s(11028),l=s(59307),c=s(96535),d=s(13016),u=s(32873),m=s(81363),h=s(82277),p=s(41383),g=s(94169),x=s(94583),y=s(13185),b=s(28331),v=s(42917),j=s(28155),f=s(29042),C=s(26798),k=s(87612),P=s(17154),S=s(3256),w=s(54947),R=s(86070);function N(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const I=e=>`activation-trigger-mme-${e}`,E=t.memo((function({index:e=-1,showMetadata:a,episode:s,usePlayContextItem:E}){const A=(0,b.c)(),_=s.playedState.playPositionMilliseconds,B=s.uri,M=(0,t.useRef)(null),F=(0,g.N)(a.uri),{draggable:T,onDragStart:D}=(0,x.P)(),L=(0,y.V)(),U=(0,j.y)(),O=(0,i.wA)(),{UBIFragment:z,spec:V,logger:H}=(0,P.r)(r.d,{data:{uri:B,reason:s.requestId||"",position:e}}),q=(0,k.t)(V),{isActive:G,isPlaying:W,togglePlay:K}=E({uri:B}),[$]=(0,f.S)(1e4,(e=>e?.item?.uri===B)),{isFullyPlayed:Q,setIsFullyPlayed:X}=(0,C.e)({uri:B,durationMs:s.duration.milliseconds,episodePlaybackState:s.playedState?.state,isPlaying:W});(0,t.useEffect)((()=>{W&&(M.current=$)}),[W,$]),(0,t.useEffect)((()=>{!W&&M.current&&s.duration.milliseconds<=M.current&&X(!0)}),[W,s.duration.milliseconds,X]);const Y=(0,t.useCallback)((e=>{e||(M.current=0),X(e)}),[X]),J=N(a),Z=(0,v.C)({...s,coverArt:{sources:s.coverArt}},J),ee=(0,t.useCallback)((()=>{if(s.episodeType===S.I_.Episode&&A)m.h.set((()=>({triggerId:I(s.uri),triggerAction:null})));else if(L)Z();else{let e;e=W?V.playButtonFactory().hitPause({itemToBePaused:B}):G?V.playButtonFactory().hitResume({itemToBeResumed:B}):V.playButtonFactory().hitPlay({itemToBePlayed:B});const a=H.logInteraction(e);K({loggingParams:a})}}),[G,Z,K,B,W,L,s,A,H,V]),ae=(0,t.useCallback)((()=>{H.logInteraction(V.hitUiNavigate({destination:B}))}),[B,H,V]),se=s.podcastSubscription?.isPaywalled??!1,te=s.podcastSubscription?.isUserSubscribed??!1,ie=se&&!te,re=se&&L,{badges:ne}=(0,w.b)({contentRating:s.contentRating?.label,isPaywalled:se}),oe=(0,t.useCallback)((()=>O((0,o.Tf)(a.uri))),[a.uri,O]),le=(0,t.useCallback)((e=>{let t=e;return(ie||re)&&(t=(0,R.jsx)(h.N,{enabled:!0,showUri:s.podcast?.uri||a.uri,renderInline:!1,children:t})),!s.playability.playable&&ne.nineteen&&(t=(0,R.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),t=(0,R.jsx)(l.k,{id:I(B),targetURI:(0,n.o_h)(B),children:t}),t}),[B,ie,re,a.uri,ne.nineteen,s.playability.playable,oe,s.podcast?.uri]);return(0,R.jsx)(z,{spec:V,children:(0,R.jsx)(c.h,{onShow:()=>{H.logInteraction(V.secondaryHitUiReveal())},menu:(0,R.jsx)(d.b,{uri:B,showUri:a.uri,sharingInfo:s.sharingInfo,isPlayed:Q,onMarkAsPlayed:Y}),children:(0,R.jsx)(u.k,{ref:q,requestId:s.requestId,index:e,uri:B,size:U,images:s.coverArt||[],name:s.name,showName:s.podcast?.name||a.name,description:s.description,isPlayable:s.playability.playable||ie,fullyPlayed:Q,durationMs:s.duration.milliseconds,releaseDate:s.releaseDate,resumePositionMs:M.current??_,draggable:T,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const t=`${s.name} • ${a.name}`;D(e,{itemUris:[B],dragLabelText:t,contextUri:a.uri})},handlePlaybackClick:ee,handleClick:ae,isCurrentlyPlaying:G,isPaywalled:se,isUserSubscribed:te,isCourseLesson:F,isPlaying:W,position:W?$:void 0,episodeSharingInfo:s.sharingInfo,onMarkAsPlayed:Y,contentInformation:s.contentInformation,showUri:s.podcast?.uri||a.uri,mediaTypes:s.mediaTypes??void 0,badges:(0,R.jsx)(p.P,{episode:s}),playButtonWrapper:le,onMoreButtonClick:()=>{H.logInteraction(V.moreButtonFactory().hitUiReveal())},sixteenByNineCoverImages:s.sixteenByNineCoverImages??void 0,dynamicColors:s.dynamicColors??void 0})})})}))},69118:(e,a,s)=>{s.d(a,{h:()=>u});var t=s(30758),i=s(81363),r=s(33584),n=s(13185),o=s(79537),l=s(65891);var c=s(72411),d=s(86070);const u=({children:e,action:a,uri:s})=>{const u=(0,n.V)(),m=(0,l.N)(o.JD);let h;const p=()=>{const e={triggerId:r.d,triggerAction:{type:a}};i.h.set((a=>({...a,...e}))),m.storeAction(o.j8,{operation:c.tS.ADD,uris:[s]})};try{h=t.Children.only(e)}catch(a){return(0,d.jsx)(d.Fragment,{children:e})}return u?t.cloneElement(h,{onClick:p}):(0,d.jsx)(d.Fragment,{children:e})}},73688:(e,a,s)=>{s.d(a,{o:()=>h});var t=s(29174),i=s(30883),r=s(88376),n=s(90367),o=s(59488),l=s(38440),c=s(96535),d=s(93993),u=s(4618),m=s(86070);const h=({images:e,name:a,uri:s,publisher:h,sharingInfo:p,mediaType:g,isHero:x=!1,onClick:y,testId:b,index:v,requestId:j,color:f,variant:C,logCardImpressions:k=!1,role:P})=>{let S;const w=g===u.Q.MIXED?t.Ru.get("type.show"):t.Ru.get("card.tag.show");return S=x?(0,m.jsx)(o.A,{index:v,onClick:y,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:!0,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsxs)(n.c,{isHero:!0,children:[(0,m.jsx)(l.t,{children:w}),h&&(0,m.jsx)("span",{children:h})]}),testId:b,requestId:j,logCardImpressions:k}):(0,m.jsx)(i.Z,{variant:C,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,role:P,index:v,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:x,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:h&&(0,m.jsx)("span",{children:h})}),testId:b,requestId:j,logCardImpressions:k}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:p}),children:S})}},75825:(e,a,s)=>{s.d(a,{d:()=>c});var t=s(97500),i=s.n(t),r=s(976),n=s(61661);const o="UyzJidwrGk3awngSGIwv";var l=s(86070);const c=({durationMs:e,className:a,displaySeconds:s})=>{const{hours:t,minutes:c,seconds:d}=(0,r.S)(e);return s=!1!==s&&!t&&d,(0,l.jsx)("span",{className:i()(o,a),children:(0,n.j)({h:t,m:c,s:s?d:0})})}},79627:(e,a,s)=>{s.d(a,{G:()=>S});var t=s(97500),i=s.n(t),r=s(29174),n=s(17369);const o="YNXLVjlRXPfM4xObTojA",l="CVRy4NtxZYSle8dJ1E67",c="holKDGFNEFSz85czBeSv",d="gqidZhN1lgoZDfI_7E6w",u="_IQ8dgA5pEr_V8PfUkWa",m="xNkPMA_OvAxcFTdfyroI";var h=s(86070);const p=({value:e,label:a,hasDivider:s=!1})=>(0,h.jsxs)("div",{className:c,"aria-hidden":"true",children:[(0,h.jsx)(n.E,{variant:"titleSmall",className:i()({[u]:s}),children:e}),(0,h.jsx)(n.E,{variant:"marginal",semanticColor:"textSubdued",children:a})]});var g=s(30758);const x=6e4,y=36e5,b=864e5;var v=s(11217),j=s(25215);const f={days:0,hours:0,minutes:0,seconds:0};function C(e){return e>0?function(e){const a=Math.abs(e);return{days:Math.floor(a/b),hours:Math.floor(a%b/y),minutes:Math.floor(a%y/x),seconds:Math.floor(a%x/1e3)}}(e):f}var k=s(66408),P=s(19492);const S=({targetDate:e,className:a,onComplete:s,images:t,imageTitle:n})=>{const{days:c,hours:u,minutes:x,seconds:y}=((e,a)=>{const s=(0,g.useRef)(a);s.current=a;const[t,i]=(0,g.useState)((()=>C((0,v.u)(e))));return(0,j.$)((a=>{const t=(0,v.u)(e),r=C(t);i(r),t<=0&&(a(),s.current?.())}),1e3),t})(e,s),b=void 0!==t&&t.length>0&&n,f=r.Ru.get("web-player.prerelease.countdown_label",{days:c,hours:u,minutes:x,seconds:y});return(0,h.jsxs)("div",{className:i()(o,a,{[l]:b}),role:"timer","data-testid":"countdown",children:[(0,h.jsx)("span",{className:m,children:f}),b&&(0,h.jsx)(k.b,{images:t,type:P.c.ALBUM,shape:k.u.ROUNDED_CORNERS,className:d,title:n}),(0,h.jsx)(p,{value:c,label:r.Ru.get("web-player.prerelease.days",c),hasDivider:!0}),(0,h.jsx)(p,{value:u,label:r.Ru.get("web-player.prerelease.hours",u),hasDivider:!0}),(0,h.jsx)(p,{value:x,label:r.Ru.get("web-player.prerelease.minutes",x),hasDivider:!0}),(0,h.jsx)(p,{value:y,label:r.Ru.get("web-player.prerelease.seconds",y)})]})}},81972:(e,a,s)=>{s.d(a,{v:()=>n});var t=s(61179),i=s(12074);const r=Spicetify.GraphQL.Definitions["internalLinkRecommenderShow"]=new t.l("internalLinkRecommenderShow","query","6c369ff272a666b31fef1629c169925a1bd80f372195396c82304142cacd89e8",null),n=(e,a)=>(0,i.I)(r,e,a)},92866:(e,a,s)=>{s.d(a,{O:()=>d});s(32807);var t=s(30758),i=s(29174),r=s(70719),n=s(39418);const o="IIKJOrbx5pjNtg3gpI0H";var l=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,n.H)()&&a?.length?a.map((({uri:e,name:a},n)=>(0,l.jsxs)(t.Fragment,{children:[n?i.Ru.getSeparator():null,e?(0,l.jsx)(r.N,{to:e,className:o,children:s(a)},n):s(a)]},n))):s(e)},99361:(e,a,s)=>{s.d(a,{X:()=>i});var t=s(37760);function i(e){return[t.kw.YES,t.kw.DOWNLOADING,t.kw.WAITING].includes(e)}}}]);
//# sourceMappingURL=xpui-routes-show.js.map