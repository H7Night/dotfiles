"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[399],{68062:(t,e,o)=>{o.d(e,{W:()=>z});o(32807);var n=o(97500),a=o.n(n),i=o(23736),r=o(29174),s=o(74297),c=o(61179),l=o(12074);const p=Spicetify.GraphQL.Definitions["internalLinkRecommenderEpisode"]=new c.l("internalLinkRecommenderEpisode","query","9b2aff11e012b072f475dc24956f22925558047b6f6a0e81b088f19b4bbc7bed",null);var u=o(79678),h=o(30758),d=o(62411),m=o(11028),_=o(59307),g=o(96535),y=o(13016),b=o(32873),L=o(81363),f=o(82277),A=o(94583),V=o(13185),v=o(42917),C=o(2232),P=o(45742),N=o(48431),w=o(28155),T=o(34939),k=o(29042),x=o(3256),I=o(54947),M=o(86070);const S=t=>`activation-trigger-mme-${t}`,E=h.memo((function({index:t=-1,audio:e,contentInformation:o,coverArt:n,contentRatingLabel:a,description:r,mediaTypes:s,releaseDate:c,name:l,playable:p,playedState:u,podcastSubscription:E,sharingInfo:B,showName:R,showTrailer:F,showTypes:j,showUri:D,totalMilliseconds:U,type:$,uri:G,sixteenByNineCoverImages:W,dynamicColors:q}){const z=u.playPositionMilliseconds,H=(0,h.useRef)(null),[O,Y]=(0,h.useState)(u.state===x._w.Completed),{draggable:Q,onDragStart:X}=(0,A.P)(),Z=(0,V.V)(),J=(0,w.y)(),K=(0,d.wA)(),{isActive:tt,isPlaying:et,togglePlay:ot}=(0,T.P)({uri:G},{featureIdentifier:"episode"}),[nt]=(0,k.S)(1e4,(t=>t?.item?.uri===G));(0,h.useEffect)((()=>{et&&(H.current=nt)}),[et,nt]),(0,h.useEffect)((()=>{!et&&H.current&&U<=H.current&&Y(!0)}),[et,U]);const at=(0,h.useCallback)((t=>{t||(H.current=0),Y(t)}),[]),it={uri:D,name:R,trailer:F,showTypes:j},rt=(0,v.C)({audio:e,name:l,uri:G,mediaTypes:s,coverArt:{sources:n}},it),st=(0,h.useCallback)((()=>{$!==x.I_.Episode?Z?rt():ot():L.h.set((()=>({triggerId:S(G),triggerAction:null})))}),[$,Z,G,rt,ot]),ct=E?.isPaywalled??!1,lt=E?.isUserSubscribed??!1,pt=ct&&!lt,ut=ct&&Z,{badges:ht}=(0,I.b)({contentRating:a,isPaywalled:ct}),dt=(0,h.useCallback)((()=>K((0,m.Tf)(D))),[D,K]),mt=(0,h.useCallback)((t=>{let e=t;return(pt||ut)&&(e=(0,M.jsx)(f.N,{enabled:!0,showUri:D,children:e})),!p&&ht.nineteen&&(e=(0,M.jsx)("div",{onClick:t=>{t.stopPropagation(),dt()},children:t})),e=(0,M.jsx)(_.k,{id:S(G),targetURI:(0,i.o_h)(G),children:e}),e}),[pt,ut,p,ht.nineteen,G,D,dt]);return(0,M.jsx)(g.h,{menu:(0,M.jsx)(y.b,{uri:G,showUri:D,sharingInfo:B,isPlayed:O,onMarkAsPlayed:at}),children:(0,M.jsx)(b.k,{requestId:void 0,index:t,uri:G,size:J,images:n||[],name:l,showName:R,description:r,isPlayable:p||pt,fullyPlayed:O,durationMs:U,releaseDate:c,resumePositionMs:H.current??z,draggable:Q,handleDragStart:t=>{if(t.target!==t.currentTarget)return;X(t,{itemUris:[G],dragLabelText:`${l} â€¢ ${R}`,contextUri:D})},handlePlaybackClick:st,isCurrentlyPlaying:tt,isPaywalled:ct,isUserSubscribed:lt,isPlaying:et,position:et?nt:void 0,episodeSharingInfo:B,onMarkAsPlayed:at,contentInformation:o,showUri:D,mediaTypes:s??void 0,badges:(0,M.jsxs)(M.Fragment,{children:[ht.explicit&&(0,M.jsx)(C.U,{}),ht.paid&&(0,M.jsx)(P.y,{}),ht.nineteen&&(0,M.jsx)(N.q,{size:16})]}),playButtonWrapper:mt,dynamicColors:q,sixteenByNineCoverImages:W})})}));o(54615);var B=o(79368),R=o(19492);var F=o(1120),j=o(38012),D=o(4550);const U="GgMHVmfXNzteIydSWMIA",$="GcupflQsYyy0IMOsCeD1",G="A4FqrLbXeENogU0IRaPn",W="YCYs0Gv5B5ctDN0f5Zby",q=({uri:t,isFullPage:e=!1})=>{const{data:o}=(n={uri:t},(0,l.I)(p,n,s));var n,s;const c=o?.seoRecommendedEpisode.totalCount,u=o?.seoRecommendedEpisode.items,h=function(t){return(t||[]).filter((t=>(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Episode"===t.__typename;var e})(t.data)))}(u),d=e?h:h.slice(0,5);if(0===c)return null;const m=(0,i.o_h)(t)?.id,_=`spotify:app:episode:${m}:more-like-this`;return(0,M.jsxs)("section",{className:a()(U,{[$]:!e}),"data-testid":"episode-list",children:[(0,M.jsx)(F.k,{title:r.Ru.get("internal-link-recommender.more-episodes-like-this"),showSeeAll:!e,seeAllUri:_}),d.map((({data:t},e)=>{const o=(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Podcast"===t.__typename;var e})(t.podcastV2.data)?t.podcastV2.data:null;if(!o)return null;const n=(0,j.V)(t.visualIdentity?.squareCoverImage?.extractedColorSet)??void 0,a="ImageV2"===t.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?t.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map((t=>({url:t.url,width:t.maxWidth,height:t.maxHeight}))):void 0;return t&&(0,M.jsxs)("div",{className:W,children:[(0,M.jsx)("hr",{className:G,"aria-hidden":!0}),(0,M.jsx)(E,{index:e,audio:t.audio,contentInformation:t.contentInformation,contentRatingLabel:t.contentRating?.label,coverArt:t.coverArt?t.coverArt.sources:void 0,description:t.description,releaseDate:t.releaseDate,mediaTypes:t.mediaTypes,name:t.name,playable:t.playability.playable,playedState:t.playedState,podcastSubscription:(0,D.Wx)(t.restrictions,t.playability),sharingInfo:t.sharingInfo,showTrailer:(i=o.trailerV2?.data,i&&(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Episode"===t.__typename;var e})(i)?{type:R.c.EPISODE,uri:i.uri,name:i.name,coverArt:i.coverArt?.sources||[],audio:i.audio,audioPreview:(0,B.xh)(i),sharingInfo:i.sharingInfo,duration:{milliseconds:i.duration.totalMilliseconds},contentRating:i.contentRating,mediaTypes:i.mediaTypes}:null),showName:o.name,showTypes:o.showTypes,showUri:o.uri,totalMilliseconds:t.duration.totalMilliseconds,type:t.type,uri:t.uri,sixteenByNineCoverImages:a,dynamicColors:n},`${t.uri}/${e}`)]},`${e}${t.uri}`);var i}))]})},z=t=>{const e=(0,u.D)({entityType:R.c.EPISODE,componentType:"list",uri:t.uri});return(0,M.jsx)(s.s,{onError:e,children:(0,M.jsx)(q,{...t})})}},82436:(t,e,o)=>{o.d(e,{EpisodeMoreLikeThis:()=>l});var n=o(30758),a=o(85387),i=o(29174),r=o(90658),s=o(68062),c=o(86070);const l=n.memo((function(){const{episodeId:t=""}=(0,a.g)(),e=(t=>`spotify:episode:${t}`)(t);return(0,c.jsxs)("div",{className:"contentSpacing",children:[(0,c.jsx)(r.Q,{children:i.Ru.get("internal-link-recommender.more-episodes-like-this")}),(0,c.jsx)(s.W,{uri:e,isFullPage:!0})]})}))},86855:(t,e,o)=>{o.d(e,{d:()=>s});const n="music",a="2.1.0",i="default",r="12.2.0";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-episode-block",...t.data}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}playButtonFactory(){return new c.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}moreButtonFactory(){return new c.MoreButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}copyLinkFactory(){return new c.CopyLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new c.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveToLibraryButtonFactory(){return new c.SaveToLibraryButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}secondaryHitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"secondary_hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:n,generatorVersion:r,specificationVersion:a,specificationMode:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(t){t.PlayButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"play_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:t}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[t.toString()],actionName:"play",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:t}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[t.toString()],actionName:"pause",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:t}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[t.toString()],actionName:"resume",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.MoreButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"more_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CopyLinkEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"copy_link"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitShare({entityToBeShared:t,shareId:e}){return{actionParameterNames:["entity_to_be_shared","share_id"],actionParameterValues:[t.toString(),e.toString()],actionName:"share",actionVersion:2,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.DownloadButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"download_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownload({itemToDownload:t}){return{actionParameterNames:["item_to_download"],actionParameterValues:[t.toString()],actionName:"download",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveDownload({itemToRemoveFromDownloads:t}){return{actionParameterNames:["item_to_remove_from_downloads"],actionParameterValues:[t.toString()],actionName:"remove_download",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.SaveToLibraryButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"save_to_library_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:t}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[t.toString()],actionName:"like",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:t}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[t.toString()],actionName:"remove_like",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={}))}}]);
//# sourceMappingURL=xpui-routes-episode-more-like-this.js.map