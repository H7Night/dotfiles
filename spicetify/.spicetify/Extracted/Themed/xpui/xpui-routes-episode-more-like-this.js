"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[399],{6300:(t,e,o)=>{o.d(e,{d:()=>s});const n="music",a="2.1.0",i="default",r="12.2.0";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-episode-block",...t.data}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}playButtonFactory(){return new c.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}moreButtonFactory(){return new c.MoreButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}copyLinkFactory(){return new c.CopyLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new c.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveToLibraryButtonFactory(){return new c.SaveToLibraryButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}secondaryHitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"secondary_hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:n,generatorVersion:r,specificationVersion:a,specificationMode:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(t){t.PlayButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"play_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:t}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[t.toString()],actionName:"play",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:t}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[t.toString()],actionName:"pause",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:t}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[t.toString()],actionName:"resume",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.MoreButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"more_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CopyLinkEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"copy_link"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitShare({entityToBeShared:t,shareId:e}){return{actionParameterNames:["entity_to_be_shared","share_id"],actionParameterValues:[t.toString(),e.toString()],actionName:"share",actionVersion:2,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.DownloadButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"download_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownload({itemToDownload:t}){return{actionParameterNames:["item_to_download"],actionParameterValues:[t.toString()],actionName:"download",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveDownload({itemToRemoveFromDownloads:t}){return{actionParameterNames:["item_to_remove_from_downloads"],actionParameterValues:[t.toString()],actionName:"remove_download",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.SaveToLibraryButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:o}){this._path=t.concat({name:"save_to_library_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[i,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[a,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:t}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[t.toString()],actionName:"like",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:t}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[t.toString()],actionName:"remove_like",actionVersion:1,app:n,generatorVersion:r,interactionType:"hit",specificationMode:i,specificationVersion:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={}))},13768:(t,e,o)=>{o.d(e,{EpisodeMoreLikeThis:()=>l});var n=o(30758),a=o(85387),i=o(79252),r=o(11936),s=o(24749),c=o(86070);const l=n.memo((function(){const{episodeId:t=""}=(0,a.g)(),e=(t=>`spotify:episode:${t}`)(t);return(0,c.jsxs)("div",{className:"contentSpacing",children:[(0,c.jsx)(r.Q,{children:i.Ru.get("internal-link-recommender.more-episodes-like-this")}),(0,c.jsx)(s.W,{uri:e,isFullPage:!0})]})}))},24749:(t,e,o)=>{o.d(e,{W:()=>z});var n=o(97500),a=o.n(n),i=o(31014),r=o(79252),s=o(18587),c=o(5820),l=o(33031);const p=new c.l("internalLinkRecommenderEpisode","query","5146a0312a2366520b9b43c3b5dd9e54c5b802bd74de3e0bd05f3c6800825c9f",null);var u=o(73852),h=o(30758),d=o(62411),m=o(59429),_=o(65924),g=o(47290),y=o(27649),b=o(61328),L=o(37114),A=o(68283),f=o(55995),V=o(12304),v=o(92297),C=o(309),P=o(34455),w=o(76688),N=o(72308),T=o(33782),k=o(24848),M=o(62935),S=o(84785),x=o(38138),E=o(86070);const I=t=>`activation-trigger-mme-${t}`,R=h.memo((function({index:t=-1,audio:e,contentInformation:o,coverArt:n,contentRatingLabel:a,description:r,mediaTypes:s,releaseDate:c,name:l,playable:p,playedState:u,podcastSubscription:R,sharingInfo:F,showName:j,showTrailer:B,showTypes:D,showUri:U,status:$,totalMilliseconds:G,type:W,uri:q}){const z=u.playPositionMilliseconds,O=(0,h.useRef)(null),[Y,H]=(0,h.useState)(u.state===S._w.Completed),{draggable:Q,onDragStart:X}=(0,f.P)(),Z=(0,V.V)(),J=(0,T.y)(),K=(0,d.wA)(),{isActive:tt,isPlaying:et,togglePlay:ot}=(0,k.P)({uri:q},{featureIdentifier:"episode"}),[nt]=(0,M.S)(1e4,(t=>t?.item?.uri===q));(0,h.useEffect)((()=>{et&&(O.current=nt)}),[et,nt]),(0,h.useEffect)((()=>{!et&&O.current&&G<=O.current&&H(!0)}),[et,G]);const at=(0,h.useCallback)((t=>{t||(O.current=0),H(t)}),[]),it={uri:U,name:j,trailer:B,showTypes:D},rt=(0,v.C)({audio:e,name:l,uri:q,mediaTypes:s,coverArt:{sources:n}},it),st=(0,h.useCallback)((()=>{W!==S.I_.Episode?Z?rt():ot():L.h.set((()=>({triggerId:I(q),triggerAction:null})))}),[W,Z,q,rt,ot]),ct=R?.isPaywalled??!1,lt=R?.isUserSubscribed??!1,pt=ct&&!lt,ut=ct&&Z,{badges:ht}=(0,x.b)({contentRating:a,isPaywalled:ct}),dt=(0,h.useCallback)((()=>K((0,m.Tf)(U))),[U,K]),mt=(0,h.useCallback)((t=>{let e=t;return(pt||ut)&&(e=(0,E.jsx)(A.N,{enabled:!0,showUri:U,children:e})),!p&&ht.nineteen&&(e=(0,E.jsx)("div",{onClick:t=>{t.stopPropagation(),dt()},children:t})),e=(0,E.jsx)(_.k,{id:I(q),targetURI:(0,i.o_h)(q),children:e}),e}),[pt,ut,p,ht.nineteen,q,U,dt]);return(0,E.jsx)(N.pZ,{value:"row",index:t,children:(0,E.jsx)(g.h,{menu:(0,E.jsx)(y.b,{uri:q,showUri:U,sharingInfo:F,isPlayed:Y,onMarkAsPlayed:at}),children:(0,E.jsx)(b.k,{requestId:void 0,index:t,uri:q,size:J,images:n||[],name:l,showName:j,description:r,isPlayable:p||pt,fullyPlayed:Y,durationMs:G,releaseDate:c,resumePositionMs:O.current??z,draggable:Q,handleDragStart:t=>{if(t.target!==t.currentTarget)return;X(t,{itemUris:[q],dragLabelText:`${l} â€¢ ${j}`,contextUri:U})},handlePlaybackClick:st,isCurrentlyPlaying:tt,isPaywalled:ct,isUserSubscribed:lt,isPlaying:et,position:et?nt:void 0,episodeSharingInfo:F,onMarkAsPlayed:at,contentInformation:o,showUri:U,mediaTypes:s??void 0,badges:(0,E.jsxs)(E.Fragment,{children:[ht.explicit&&(0,E.jsx)(C.U,{}),ht.paid&&(0,E.jsx)(P.y,{}),ht.nineteen&&(0,E.jsx)(w.q,{size:16})]}),playButtonWrapper:mt,status:$})})})}));var F=o(25971),j=o(1263);var B=o(16086),D=o(29731);const U="GgMHVmfXNzteIydSWMIA",$="GcupflQsYyy0IMOsCeD1",G="A4FqrLbXeENogU0IRaPn",W="YCYs0Gv5B5ctDN0f5Zby",q=({uri:t,isFullPage:e=!1})=>{const{data:o}=(n={uri:t},(0,l.I)(p,n,s));var n,s;const c=o?.seoRecommendedEpisode.totalCount,u=o?.seoRecommendedEpisode.items,h=function(t){return(t||[]).filter((t=>(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Episode"===t.__typename;var e})(t.data)))}(u),d=e?h:h.slice(0,5);if(0===c)return null;const m=(0,i.o_h)(t)?.id,_=`spotify:app:episode:${m}:more-like-this`;return(0,E.jsxs)("section",{className:a()(U,{[$]:!e}),"data-testid":"episode-list",children:[(0,E.jsx)(B.k,{title:r.Ru.get("internal-link-recommender.more-episodes-like-this"),showSeeAll:!e,seeAllUri:_}),d.map((({data:t},e)=>{const o=(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Podcast"===t.__typename;var e})(t.podcastV2.data)?t.podcastV2.data:null;return o?t&&(0,E.jsxs)("div",{className:W,children:[(0,E.jsx)("hr",{className:G,"aria-hidden":!0}),(0,E.jsx)(R,{index:e,audio:t.audio,contentInformation:t.contentInformation,contentRatingLabel:t.contentRating?.label,coverArt:t.coverArt?t.coverArt.sources:void 0,description:t.description,releaseDate:t.releaseDate,mediaTypes:t.mediaTypes,name:t.name,playable:t.playability.playable,playedState:t.playedState,podcastSubscription:(0,D.Wx)(t.restrictions,t.playability),sharingInfo:t.sharingInfo,showTrailer:(n=o.trailerV2?.data,n&&(t=>{return e=t,"NotFound"!==e?.__typename&&"GenericError"!==e?.__typename&&"RestrictedContent"!==e?.__typename&&"Episode"===t.__typename;var e})(n)?{type:j.c.EPISODE,uri:n.uri,name:n.name,coverArt:n.coverArt?.sources||[],audio:n.audio,audioPreview:(0,F.xh)(n),sharingInfo:n.sharingInfo,duration:{milliseconds:n.duration.totalMilliseconds},contentRating:n.contentRating,mediaTypes:n.mediaTypes}:null),showName:o.name,showTypes:o.showTypes,showUri:o.uri,totalMilliseconds:t.duration.totalMilliseconds,type:t.type,uri:t.uri},`${t.uri}/${e}`)]},`${e}${t.uri}`):null;var n}))]})},z=t=>{const e=(0,u.D)({entityType:j.c.EPISODE,componentType:"list",uri:t.uri});return(0,E.jsx)(s.s,{onError:e,children:(0,E.jsx)(q,{...t})})}}}]);
//# sourceMappingURL=xpui-routes-episode-more-like-this.js.map