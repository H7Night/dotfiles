"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1602,5094],{9142:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(95659);function a(e){const{backgroundColor:t}=(0,n.oI)();return t||e}},25132:(e,t,r)=>{function n(e,t=1,r=0){if(r>t)return 1;let n=(e-r)/(t-r);return Number.isNaN(n)&&(n=1),Math.min(Math.max(n,0),1)}r.d(t,{i:()=>n})},34541:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(85387);const a="/lyrics",s=()=>{const e=(0,n.zy)(),t=e.pathname.startsWith(a);return{isActive:t,isActiveNotCinemaMode:t&&(!e.state.cinemaState||"closed"===e.state.cinemaState),routeDestination:a}}},35435:(e,t,r)=>{r.d(t,{$F:()=>o,Dr:()=>c,KI:()=>d,V0:()=>u,YO:()=>p,nC:()=>h,t$:()=>m,uW:()=>l,ye:()=>f});var n=r(42551),a=r(8788);const s=[a.G.NATIVE,a.G.IMAGE,a.G.HTML],o=e=>e.ads.hpto?.template||null,i=e=>e.ads.root.isHptoHidden,c=e=>e.ads.hpto?.hptoIsStable||null,l=e=>e.ads.root.isPremium,u=e=>"1"===e.session.productState?.["has-audiobooks-subscription"],d=e=>e.ads.hpto?.creativeFetchingState||null,p=(0,n.Mz)((e=>e.ads.hpto?.creative||null),(e=>e.ads.hpto?.preview||null),((e,t)=>t||e)),m=(0,n.Mz)(p,l,i,((e,t,r)=>{if(!e)return!1;return!(!s.includes(e.bannerMode)||t&&r)})),h=(0,n.Mz)(l,i,((e,t)=>!e||!t)),f=(0,n.Mz)(p,(e=>!!e&&s.includes(e.bannerMode)))},45401:(e,t,r)=>{r.d(t,{TopBar:()=>N});var n=r(30758),a=r(97500),s=r.n(a),o=r(87579),i=r(67736),c=r(32055),l=r(43575),u=r(86070);const d=()=>{const e=(0,n.useRef)(null),{setElementRef:t}=(0,n.useContext)(c.J);return(0,n.useEffect)((()=>{t&&e.current&&t(e.current)}),[t]),(0,u.jsx)("div",{"data-testid":"topbar-content-wrapper",className:l.A.topbarContentWrapper,ref:e})};var p=r(78617),m=r(30339),h=r(84442);const f=["","/","/home/","/content-feed/","/lyrics","/search","/search/:query","/search/:query/:category","/recent-searches","/section/:id","/genre/:id","/user/:username/:subpage","/user/:username/top/artists","/user/:username/top/tracks","/preferences","/artist/:id/featuring","/artist/:id/playlists","/artist/:id/appears-on","/artist/:id/discovered-on","/artist/:id/related","/download"];var b=r(74717),v=r(9142),A=r(35524),y=r(64254),M=r(61715);const x={[A.E.SMALL]:0,[A.E.MEDIUM]:600,[A.E.LARGE]:1024},N=()=>{const e=(0,v.A)(),t=(0,b.lr)(),r=(0,h._)((e=>{const t=e.pathname.replace(/^\/intl-[A-Za-z]{2}/i,"");return f.every((e=>e!==t&&null===(0,m.B6)(e,t)))})),a=(0,n.useRef)(null),{breakpoint:c}=(0,M.x)(x,a),A=(0,i.X)(),N=void 0!==e&&!A;return r?(0,u.jsx)(y.o.Provider,{value:c,children:(0,u.jsxs)("header",{"data-testid":"topbar","aria-label":o.Ru.get("topBar.label"),className:s()(l.A.container,{[l.A.withBackgroundBlur]:t}),children:[(0,u.jsx)(p.A,{ref:a,className:l.A.background,style:{"--background-base":e,...A?{"--background-base":A}:{}},children:N&&(0,u.jsx)("div",{className:l.A.overlay})}),(0,u.jsx)("div",{className:s()(l.A.contentContainer,"contentSpacing"),children:(0,u.jsx)(d,{})})]})}):null}},50671:(e,t,r)=>{r.d(t,{HomeHeader:()=>b,W:()=>f});var n=r(30758),a=r(97500),s=r.n(a),o=r(62411),i=r(64180),c=r(35435),l=r(36962),u=r(9142);const d="main-home-homeHeader",p="B9yNi5FlwGJt0nMEM5HS",m="t7wxxKMe3KK9hcr93xna";var h=r(86070);const f=()=>(0,o.d4)(c.t$),b=(0,n.memo)((function(){const e=(0,u.A)(i.l0o),t=!(0,l.n)(),r=f();return(0,h.jsx)("div",{className:s()(d,{[m]:t,[p]:r}),style:{backgroundColor:e}})}))},74717:(e,t,r)=>{r.d(t,{Nx:()=>o,lr:()=>s,q8:()=>i});var n=r(85387),a=r(25132);const s=()=>"/"===(0,n.zy)().pathname,o=()=>"/home"===(0,n.zy)().pathname,i=(e,t)=>{const r=t?350:80;return(0,a.i)(e,r,10)}},78617:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(30758),a=r(74717),s=r(46757),o=r(50671),i=r(34541),c=r(9142),l=r(44418),u=r(25132),d=r(44383),p=r(86070);const m=parseInt(d.A.MINIMUM_HEADER_HEIGHT,10),h=(0,n.forwardRef)((function(e,t){const r=(0,a.lr)(),d=(0,a.Nx)(),h=(0,o.W)(),f=(0,c.A)(),{isActive:b}=(0,i.$)(),v=(0,n.useRef)(-1),A=(0,n.useRef)(null),y=t??A,M=(0,n.useCallback)((e=>{const t=e.target.scrollTop;let n;if(n=r||d?(0,a.q8)(t,h):void 0===f?(0,u.i)(t,s.uC):b?0:(0,u.i)(t,m,76),"function"==typeof y)throw new Error("Callback refs are not supported");Number(v.current).toPrecision(2)!==Number(n).toPrecision(2)&&requestAnimationFrame((()=>{y.current&&y.current.style.setProperty("opacity",`${Number(n).toPrecision(2)}`)})),v.current=n}),[r,d,f,b,h,y]);return(0,l.i)(M,{executeOnceOnStart:!0}),(0,p.jsx)("div",{ref:y,...e,children:e.children})}))}}]);
//# sourceMappingURL=dwp-top-bar.js.map