"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2183],{9188:(t,n,o)=>{o.d(n,{LyricsCinemaModeContainer:()=>x});var e=o(8143),i=o(73493),a=o(1185),r=o(94647),s=o(30758),c=o(62411),p=o(53443),l=o(76151),u=o(65314),h=o(17640),d=o(86239),m=o(12176),_=o(27736),L=o(91780),A=o(5141),y=o(11272),g=o(86070);const b=()=>{const{spec:t,logger:n}=(0,A.r)(u.X,{}),o=(0,c.wA)(),{setMode:e}=(0,_.r)();return(0,s.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e(L.YU.npv)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[o,e]),(0,g.jsxs)("div",{className:y.A.Controls,children:[(0,g.jsx)(m.R,{}),(0,g.jsx)(d.D,{focus:!0,label:h.Ru.get("web-player.now-playing-view.minimize.lyrics"),onClick:()=>{e(L.YU.npv),n.logInteraction(t.minimizeCinemaModeButtonFactory().hitUiHide()),n.logImpression(t.minimizeCinemaModeButtonFactory().impression())},children:(0,g.jsx)(p.Q,{size:"small"})}),(0,g.jsx)(d.D,{focus:!0,label:h.Ru.get("web-player.now-playing-view.close.lyrics"),onClick:()=>{e(L.YU.none),n.logInteraction(t.closeLyricsButtonFactory().hitUiHide())},children:(0,g.jsx)(l.M,{size:"small"})})]})};var C=o(96520),f=o(85387);var V=o(11957),w=o(75539);const v=()=>{const{mode:t,setMode:n}=(0,_.r)(),{lyricsCinemaRef:o}=(0,r.JT)();!function(){const{pathname:t}=(0,f.zy)(),{mode:n,setMode:o}=(0,_.r)();(0,s.useEffect)((()=>{n===L.YU.cinema&&o(L.YU.npv)}),[t])}();const{item:i}=(0,V.o)((t=>({item:t?.item?.type})));return t!==L.YU.cinema?null:(i&&i===w.c.TRACK||n(L.YU.npv),o.current?(0,e.createPortal)((0,g.jsxs)("div",{className:y.A.Container,children:[(0,g.jsx)(b,{}),(0,g.jsx)(a.a,{className:y.A.Content,children:(0,g.jsx)(C.A,{format:"cinema"})})]}),o.current):(console.error("No container found for cinema video!"),null))},x=()=>(0,g.jsx)(i.s,{children:(0,g.jsx)(v,{})})},11272:(t,n,o)=>{o.d(n,{A:()=>e});const e={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",lyricsCinemaVisible:"sgQuNaOh5Eu6vnzh3eoh",nonDisplayedArea:"KJNUWtMTBWtQrmsas64b",Container:"F3qS5Fne4ECzEWyFeJ5S",Controls:"dS_1_x4lBrx_vX9AMg6Q",Content:"mC8gFZzy9ZRO5c61MeuO"}},27736:(t,n,o)=>{o.d(n,{r:()=>m});var e=o(30758),i=o(62411),a=o(94647),r=o(63547),s=o(54111),c=o(29842),p=o(37953),l=o(84104),u=o(46628),h=o(91780),d=o(11272);function m(){const t=(0,i.d4)(c.u),n=(0,i.wA)(),{setLeftSidebarState:o}=(0,r.ae)(),{mainLandmarkRef:m,lyricsCinemaRef:_}=(0,a.JT)(),{isActive:L,panelSend:A}=(0,p.AI)(u.Z.NowPlayingView);return{mode:t,setMode:(0,e.useCallback)((t=>{t===h.YU.cinema&&L?(_.current?.classList.add(d.A.lyricsCinemaVisible),m.current?.classList.add(d.A.nonDisplayedArea),o(r.ZS.COLLAPSED),A(l.$S.NPV_BUTTON_CLICK)):(_.current?.classList.remove(d.A.lyricsCinemaVisible),m.current?.classList.remove(d.A.nonDisplayedArea),L||A(l.$S.NPV_BUTTON_CLICK)),n((0,s.gh)(t))}),[n,A,L,_,m,o])}}},65314:(t,n,o)=>{o.d(n,{X:()=>s});const e="music",i="2.0.1",a="default",r="15.2.1";function s(t){return new c(t)}class c{constructor(t){this._path=[{name:"desktop-npv-lyrics"}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}showLyricsButtonFactory(){return new c.ShowLyricsButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}cinemaModeButtonFactory(){return new c.CinemaModeButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}minimizeCinemaModeButtonFactory(){return new c.MinimizeCinemaModeButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}closeLyricsButtonFactory(){return new c.CloseLyricsButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.ShowLyricsButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:o}){this._path=t.concat({name:"show_lyrics_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:e,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:e,generatorVersion:r,specificationVersion:i,specificationMode:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CinemaModeButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:o}){this._path=t.concat({name:"cinema_mode_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:e,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:e,generatorVersion:r,specificationVersion:i,specificationMode:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.MinimizeCinemaModeButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:o}){this._path=t.concat({name:"minimize_cinema_mode_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:e,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:e,generatorVersion:r,specificationVersion:i,specificationMode:a,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={})),function(t){t.CloseLyricsButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:n,data:o}){this._path=t.concat({name:"close_lyrics_button"}),n&&(this._parentAbsoluteLocation=n)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[a,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[i,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:e,generatorVersion:r,interactionType:"hit",specificationMode:a,specificationVersion:i,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(c||(c={}))}}]);
//# sourceMappingURL=dwp-lyrics-cinema-mode-container.js.map