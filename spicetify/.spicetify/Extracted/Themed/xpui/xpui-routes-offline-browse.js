"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2630,3569],{3287:(e,a,s)=>{s.d(a,{M:()=>N});var t=s(30758),r=s(97500),n=s.n(r),i=s(62411),l=s(17369),o=s(64617),c=s(43520),d=s(13932),u=s(29174),m=s(56168),g=s(30883),x=s(88376),h=s(90367),f=s(59488),p=s(38440),j=s(96535),b=s(93677),y=s(83080),I=s(92866),v=s(54179),C=s(8558),S=s(31500);const k="udGpsOceE80fzjUaGxkU",w="wMX24UZ671wvuRJkkUOC";var P=s(86070);const A=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,P.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,P.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,S.ad)(a.toISOString()),(0,S.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,R=({signifierText:e})=>e?(0,P.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,N=({name:e,uri:a,images:s,authorName:r,authors:S,isHero:N,className:O,onClick:E,testId:T,index:H,requestId:M,isLocked:z=!1,isPlayable:L=!1,color:D,signifierText:U,isPreRelease:_=!1,publishDate:B,variant:F,consumptionCapExplanation:K,logCardImpressions:q=!1,role:Z})=>{const{playUri:W,playOptions:J}=(0,v.J)(a),Q=(0,i.wA)(),V=(0,d.NC)(C.HJU),$=!!K,G=(0,P.jsx)(I.O,{authorName:r,authors:S}),X=(0,t.useCallback)((()=>{$&&Q((0,m._3)())}),[Q,$]);let Y;return Y=N?(0,P.jsx)(f.A,{className:O,index:H,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:J,onPlay:$?X:void 0,delegatePlayback:$,isPlayable:(L||$)&&V,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,r),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,r),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,P.jsx)(x.M,{isHero:!0,images:s,color:D,FallbackComponent:e=>(0,P.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.t,{children:u.Ru.get("card.tag.audiobook")}),(0,P.jsx)(l.E,{variant:"bodySmall",children:G})]}),getSignifierContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(A,{isPreRelease:_,publishDate:B}),(0,P.jsx)(R,{signifierText:U})]}),testId:T,requestId:M,logCardImpressions:q}):(0,P.jsx)(g.Z,{className:O,variant:F,index:H,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,role:Z,playUri:W,onPlay:$?X:void 0,delegatePlayback:$,playOptions:J,isPlayable:(L||$)&&V,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,r),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,r),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,P.jsx)(x.M,{images:s,color:D,FallbackComponent:e=>(0,P.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(h.c,{lineClamp:U?1:2,children:[z&&(0,P.jsx)(c.y,{size:"small",className:k}),(0,P.jsx)(A,{isPreRelease:_,publishDate:B}),(0,P.jsx)(l.E,{as:"span",variant:"bodySmall",className:n()({[w]:_&&r}),children:G})]}),(0,P.jsx)(R,{signifierText:U})]}),testId:T,requestId:M,logCardImpressions:q}),(0,P.jsx)(j.h,{menu:(0,P.jsx)(b.p,{uri:a}),children:Y})}},22944:(e,a,s)=>{s.d(a,{y:()=>n});var t=s(30758),r=s(17564);function n(){const e=(0,r.A)(),[a,s]=(0,t.useState)(e.getIsEnabled());(0,t.useEffect)((()=>{const a=e.subscribeIsEnabled(s);return()=>a()}),[e]);return[a,(0,t.useCallback)((a=>e.setIsEnabled(a)),[e])]}},25333:(e,a,s)=>{s.d(a,{OfflineEmptyState:()=>c});var t=s(10642),r=s(61129),n=s(17369),i=s(29174),l=s(79639),o=s(86070);const c=({showDownloadInformation:e})=>(0,o.jsxs)("div",{className:l.A.emptyStateContainer,children:[e?(0,o.jsx)(t.i,{size:"xxlarge",className:l.A.icon}):(0,o.jsx)(r.P,{size:"xxlarge",className:l.A.icon}),(0,o.jsx)(n.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:i.Ru.get("web-player.offline.empty-state.title")}),(0,o.jsx)(n.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",className:l.A.info,children:e?i.Ru.get("web-player.offline.empty-state.subtitle"):i.Ru.get("offline.callout-disconnected")})]})},45538:(e,a,s)=>{s.d(a,{P:()=>r});var t=s(22944);function r(){return(0,t.y)()[0]}},45545:(e,a,s)=>{s.r(a),s.d(a,{default:()=>A});s(32807);var t=s(97500),r=s.n(t),n=s(29174),i=s(55688),l=s(25201),o=s(30758),c=s(40638),d=s(30883),u=s(88376),m=s(90367),g=s(45664),x=s(88730),h=s(27120),f=s(74945),p=s(45538),j=s(17564),b=s(27148),y=s(34939),I=s(10688),v=s(86070);const C=function({uri:e,name:a,images:s,index:t}){const r=(0,b.o)(),i=(0,o.useRef)(null),l=(0,o.useRef)(!0),x=(0,j.A)(),{isPlaying:C}=(0,I.l_)(f.bV),{togglePlay:S}=(0,y.P)({uri:f.bV,pages:[{items:i.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,o.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const k=(0,p.P)(),w=(0,c.YQ)((async(e,a)=>{if(!i.current){const e=await x.getTracks();i.current=e}l&&S({loggingParams:a},{uri:f.bV,pages:[{items:i.current?.map((e=>({...e,provider:null})))||[]}]})}),h.d,{leading:!0,trailing:!1});return r.canFetchAllTracks&&k?(0,v.jsx)(d.Z,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:C,onPlay:w,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,v.jsx)(u.M,{images:s,FallbackComponent:g.e}),renderSubHeaderContent:()=>(0,v.jsx)(m.c,{children:n.Ru.get("local-files.description")})}):null},S=({index:e})=>{const a=(0,x.Iu)();return(0,v.jsx)(o.Suspense,{fallback:null,children:(0,v.jsx)(C,{index:e,name:a.name,uri:a.uri,images:a.images})})};var k=s(25333),w=s(76709),P=s(79639);const A=function(){const{hasError:e,items:a}=(0,w.l)(),s=(0,p.P)();return e?null:(0,v.jsx)("div",{className:r()(P.A.offline,"contentSpacing"),children:a.length>0||s?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.$,{title:n.Ru.get("music_downloads"),total:a.length,seeAllUri:"/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,i.T)(e,a)))}),s&&(0,v.jsx)(l.$,{title:n.Ru.get("local-files"),total:1,showAll:!0,children:(0,v.jsx)(S,{index:0})})]}):(0,v.jsx)(k.OfflineEmptyState,{showDownloadInformation:!0})})}},45664:(e,a,s)=>{s.d(a,{e:()=>i});var t=s(66308);const r="k270skPbT7JOaSidSA2a";var n=s(86070);const i=({iconSize:e=64,...a})=>(0,n.jsx)("div",{className:r,children:(0,n.jsx)(t.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},55688:(e,a,s)=>{s.d(a,{T:()=>u});var t=s(98908),r=s(94860),n=s(3287),i=s(42174),l=s(73688),o=s(19492),c=s(4618),d=s(86070);function u(e,a){switch(e.type){case o.c.ALBUM:return(0,d.jsx)(t.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case o.c.ARTIST:return(0,d.jsx)(r.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case o.c.SHOW:return(0,d.jsx)(l.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:c.Q.UNKNOWN,index:a},e.uri);case o.c.AUDIOBOOK:return(0,d.jsx)(n.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,authors:e.authors,index:a},e.uri);case o.c.PLAYLIST:return(0,d.jsx)(i.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}},66308:(e,a,s)=>{s.d(a,{E:()=>n});var t=s(30758),r=s(7643);function n(e){var a,s,n,i,l,o=e.size?r.$Z[e.size]:e.iconSize,c=(0,r._C)([{size:16,svgContent:"<path d='M1.75 1A1.75 1.75 0 0 0 0 2.75v11.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0 0 16 14.25v-9.5A1.75 1.75 0 0 0 14.25 3H7.82l-.65-1.125A1.75 1.75 0 0 0 5.655 1H1.75z'/>"},{size:24,svgContent:"<path d='M1 4a2 2 0 0 1 2-2h5.155a3 3 0 0 1 2.598 1.5l.866 1.5H21a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4z'/>"}],o||24),d=null!==(a=e.autoMirror)&&void 0!==a&&a;return t.createElement(r.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((i=e.title,l=e.titleId,i?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(i,"</title>"):"")).concat((s=e.desc,n=e.descId,s?"<desc ".concat(n?'id="'.concat(n,'"'):"",">").concat(s,"</desc>"):"")).concat(c.svgContent)}}))}},73688:(e,a,s)=>{s.d(a,{o:()=>g});var t=s(29174),r=s(30883),n=s(88376),i=s(90367),l=s(59488),o=s(38440),c=s(96535),d=s(93993),u=s(4618),m=s(86070);const g=({images:e,name:a,uri:s,publisher:g,sharingInfo:x,mediaType:h,isHero:f=!1,onClick:p,testId:j,index:b,requestId:y,color:I,variant:v,logCardImpressions:C=!1,role:S})=>{let k;const w=h===u.Q.MIXED?t.Ru.get("type.show"):t.Ru.get("card.tag.show");return k=f?(0,m.jsx)(l.A,{index:b,onClick:p,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:!0,images:e,color:I}),renderSubHeaderContent:()=>(0,m.jsxs)(i.c,{isHero:!0,children:[(0,m.jsx)(o.t,{children:w}),g&&(0,m.jsx)("span",{children:g})]}),testId:j,requestId:y,logCardImpressions:C}):(0,m.jsx)(r.Z,{variant:v,onClick:p,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,role:S,index:b,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:f,images:e,color:I}),renderSubHeaderContent:()=>(0,m.jsx)(i.c,{children:g&&(0,m.jsx)("span",{children:g})}),testId:j,requestId:y,logCardImpressions:C}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:x}),children:k})}},76709:(e,a,s)=>{s.d(a,{l:()=>n});var t=s(30758),r=s(68559);function n(){const e=(0,r.B)(),[a,s]=(0,t.useState)(!0),[n,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();o(a)}catch(e){i(!0)}finally{s(!1)}})()}),[e]),{isLoading:a,hasError:n,items:l}}},79639:(e,a,s)=>{s.d(a,{A:()=>t});const t={offline:"tpweADmlLll_vhLLKgu2",emptyStateContainer:"e9Wimf8ZtOrZpvPbfWtg",icon:"zCM7ss2KtS5tWRItxyls",info:"lG5QlwmK6exKdfikWw2A"}},92866:(e,a,s)=>{s.d(a,{O:()=>d});s(32807);var t=s(30758),r=s(29174),n=s(70719),i=s(39418);const l="IIKJOrbx5pjNtg3gpI0H";var o=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,i.H)()&&a?.length?a.map((({uri:e,name:a},i)=>(0,o.jsxs)(t.Fragment,{children:[i?r.Ru.getSeparator():null,e?(0,o.jsx)(n.N,{to:e,className:l,children:s(a)},i):s(a)]},i))):s(e)},96478:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});s(32807);var t=s(97500),r=s.n(t),n=s(29174),i=s(55688),l=s(37461),o=s(25201),c=s(76709),d=s(79639),u=s(86070);const m=()=>{const{hasError:e,isLoading:a,items:s}=(0,c.l)();return e||a?(0,u.jsx)(l.LoadingPage,{hasError:e,errorMessage:n.Ru.get("error.request-collection-music-downloads-failure"),loadOffline:!0}):(0,u.jsx)("div",{className:r()(d.A.offline,"contentSpacing"),children:(0,u.jsx)(o.$,{title:n.Ru.get("music_downloads"),total:s.length,showAll:!0,children:s.map(((e,a)=>(0,i.T)(e,a)))})})}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map