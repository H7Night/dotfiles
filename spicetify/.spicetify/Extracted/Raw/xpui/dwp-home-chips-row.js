"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2233],{21918:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(80899);function r(e){const{backgroundColor:t}=(0,i.oI)();return t||e}},23605:(e,t,n)=>{n.d(t,{$:()=>s});var i=n(85387);const r="/lyrics",s=()=>{const e=(0,i.zy)(),t=e.pathname.startsWith(r);return{isActive:t,isActiveNotCinemaMode:t&&!e.state.cinemaState,routeDestination:r}}},36227:(e,t,n)=>{n.d(t,{HomeChipsRowWithEmptyStates:()=>E});var i=n(30758),r=n(97500),s=n.n(r),a=n(75773),l=n(40638),o=n(19339),c=n(93960),d=n(63248),h=n(79252),u=n(74708),m=n(76696),p=n(86808),f=n(90733),g=n(64373),v=n(55077),x=n(263),C=n(99425),b=n(16712),N=n(33924),y=n(12304),j=n(32706),I=n(21918),M=n(17145),S=n(743),w=n(3161);const A="main-home-filterChipsContainer",k="main-home-filterChipsSection",R="fIvMht6B9HdROywMNJZ4",F="mjZrvVI3CxfHJXu7y0Lg",H="LVMjmN2CaPruPAo62RAY",P="HXlt7CQ7uXgHZ9UKA4tS",L="g4woYb2pJFjxtIfizfeA",_="_bbW1oBra1fMJvD43SCl";var $=n(86070);const q=i.memo((({filterChips:e,requestId:t})=>{const n=(0,c.NC)(M.MX4),r=(0,N.g)(),a=(0,v.f)(),{spec:m,logger:p}=(0,w.r)(d.Y,{data:{identifier:"home",uri:a?`spotify:home:${a}`:"spotify:home",reason:t??""}}),f=e.flatMap((e=>e.id&&"wrapped-chip"!==e.id?{id:e.id,getName:()=>e.label?.transformedLabel??"",ubiId:e.id}:[])),g=(0,i.useCallback)((e=>{const t=m.homeSubfeedsFactory();if(e&&e!==a){const n=t.filterChipFactory({identifier:e});p.logInteraction(n.hitFilter()),r(`/home?facet=${e}`)}else{const e=t.filterChipFactory({identifier:"all"});p.logInteraction(e.hitFilter()),r("/")}}),[m,p,r,a]),b=(0,l.YQ)(g,100,{leading:!0,trailing:!1}),y=(0,c.NC)(M._Ie),{shelfURIs:j}=(0,x.T)(),I=(0,C.k)(),S=j.length>0,A=`Pinned by ${I?.name}`;return(0,$.jsx)("div",{className:s()(H,n?P:null,"contentSpacing"),children:(0,$.jsxs)(u.FN,{ariaLabel:h.Ru.get("home.filters"),children:[(0,$.jsx)(o.v,{"aria-label":h.Ru.get("search.title.all"),selectedColorSet:"invertedLight",onClick:()=>b(null),selected:""===a,children:h.Ru.get("search.title.all")},"all"),f.map((e=>(0,$.jsx)(o.v,{"aria-label":e.getName(),selectedColorSet:"invertedLight",onClick:()=>b(e.id),selected:Boolean(a&&a===e.id),children:e.getName()},e.id))),y&&(S||I)&&(0,$.jsx)("div",{className:L}),y&&S&&(0,$.jsxs)(o.v,{"aria-label":"Pinned",selectedColorSet:"invertedLight",onClick:()=>b("pinned"),selected:"pinned"===a,children:[(0,$.jsx)("span",{children:"Pinned"}),(0,$.jsx)("span",{className:_,children:j.length})]},"pin"),y&&I&&(0,$.jsx)(o.v,{"aria-label":"Pinned",selectedColorSet:"invertedLight",selected:"pinned-by"===a,children:(0,$.jsx)("span",{children:A})},"pin")]})})})),E=()=>{const e=(0,c.NC)(M.MX4),t=(0,j.p)(),n=(0,y.V)(),i=(0,I.A)(),r=(0,S.SF)(),{ref:l,inView:o}=(0,a.Wx)({initialInView:!0,threshold:[1],rootMargin:`-${f.uC}px 100%`,root:r.current}),d=void 0!==i,{data:h,loading:u,error:v,extensions:x}=(0,b.f)(),C="HomeResponsePayload"===h?.home?.__typename?h?.home?.homeChips:null;return u||v||!C||n||!t?u?(0,$.jsx)("div",{className:A,children:(0,$.jsx)("div",{className:s()(H,e?P:null,"contentSpacing"),children:(0,$.jsx)(m.Y,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})})}):null:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("div",{ref:l}),(0,$.jsxs)("div",{className:A,children:[(0,$.jsx)(p.A,{className:s()({[F]:!o,[R]:d},k),style:{backgroundColor:i}}),(0,$.jsx)(q,{filterChips:C,requestId:(0,g.getRequestIdForImpressions)(x)})]})]})}},48356:(e,t,n)=>{n.d(t,{HomeHeader:()=>g,W:()=>f});var i=n(30758),r=n(97500),s=n.n(r),a=n(62411),l=n(42205),o=n(9875),c=n(81882),d=n(21918);const h="main-home-homeHeader",u="B9yNi5FlwGJt0nMEM5HS",m="t7wxxKMe3KK9hcr93xna";var p=n(86070);const f=()=>(0,a.d4)(o.t$),g=(0,i.memo)((function(){const e=(0,d.A)(l.l0o),t=!(0,c.n)(),n=f();return(0,p.jsx)("div",{className:s()(h,{[m]:t,[u]:n}),style:{backgroundColor:e}})}))},83780:(e,t,n)=>{function i(e,t=1,n=0){if(n>t)return 1;let i=(e-n)/(t-n);return Number.isNaN(i)&&(i=1),Math.min(Math.max(i,0),1)}n.d(t,{i:()=>i})},86808:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(30758),r=n(90373),s=n(90733),a=n(48356),l=n(23605),o=n(21918),c=n(82682),d=n(83780),h=n(86313),u=n(86070);const m=parseInt(h.A.MINIMUM_HEADER_HEIGHT,10),p=(0,i.forwardRef)((function(e,t){const n=(0,r.lr)(),h=(0,r.Nx)(),p=(0,a.W)(),f=(0,o.A)(),{isActive:g}=(0,l.$)(),v=(0,i.useRef)(-1),x=(0,i.useRef)(null),C=t??x,b=(0,i.useCallback)((e=>{const t=e.target.scrollTop;let i;if(i=n||h?(0,r.q8)(t,p):void 0===f?(0,d.i)(t,s.uC):g?0:(0,d.i)(t,m,76),"function"==typeof C)throw new Error("Callback refs are not supported");Number(v.current).toPrecision(2)!==Number(i).toPrecision(2)&&requestAnimationFrame((()=>{C.current&&C.current.style.setProperty("opacity",`${Number(i).toPrecision(2)}`)})),v.current=i}),[n,h,f,g,p,C]);return(0,c.i)(b,{executeOnceOnStart:!0}),(0,u.jsx)("div",{ref:C,...e,children:e.children})}))},90373:(e,t,n)=>{n.d(t,{Nx:()=>a,lr:()=>s,q8:()=>l});var i=n(85387),r=n(83780);const s=()=>"/"===(0,i.zy)().pathname,a=()=>"/home"===(0,i.zy)().pathname,l=(e,t)=>{const n=t?350:80;return(0,r.i)(e,n,10)}},99425:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(85387);const r=()=>{const e=(0,i.zy)(),t=new URLSearchParams(e.search);if(!t.has("hpuris"))return null;const n=(t.get("hpuris")||"").split(",").map((e=>`spotify:section:${e}`));return{name:t.get("hpname")??"Shared",uris:n}}}}]);
//# sourceMappingURL=dwp-home-chips-row.js.map