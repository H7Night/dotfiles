"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2233],{9142:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(95659);function r(e){const{backgroundColor:t}=(0,i.oI)();return t||e}},21801:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(85387);const r=()=>{const e=(0,i.zy)(),t=new URLSearchParams(e.search);if(!t.has("hpuris"))return null;const n=(t.get("hpuris")||"").split(",").map((e=>`spotify:section:${e}`));return{name:t.get("hpname")??"Shared",uris:n}}},32180:(e,t,n)=>{n.d(t,{HomeChipsRowWithEmptyStates:()=>W});var i=n(30758),r=n(97500),s=n.n(r),a=n(8335),l=n(40638),o=n(29323),c=n(33100),d=n(58574),h=n(87579),u=n(35244),m=n(8144),p=n(78617),f=n(46757),g=n(61008),v=n(61837),C=n(56015),x=n(21801),b=n(98048),y=n(20924),j=n(97304),N=n(91082),I=n(9142),S=n(74929),w=n(84575),A=n(89929);const k="main-home-filterChipsContainer",M="main-home-filterChipsSection",R="fIvMht6B9HdROywMNJZ4",F="mjZrvVI3CxfHJXu7y0Lg",H="LVMjmN2CaPruPAo62RAY",P="HXlt7CQ7uXgHZ9UKA4tS",L="g4woYb2pJFjxtIfizfeA",$="_bbW1oBra1fMJvD43SCl";var _=n(86070);const E=i.memo((({filterChips:e,requestId:t})=>{const n=(0,c.NC)(S.MX4),r=(0,y.g)(),a=(0,v.f)(),{spec:m,logger:p}=(0,A.$)(d.Y,{data:{identifier:"home",uri:a?`spotify:home:${a}`:"spotify:home",reason:t??""}}),f=e.flatMap((e=>e.id&&"wrapped-chip"!==e.id?{id:e.id,getName:()=>e.label?.transformedLabel??"",ubiId:e.id}:[])),g=(0,i.useCallback)((e=>{const t=m.homeSubfeedsFactory();if(e&&e!==a){const n=t.filterChipFactory({identifier:e});p.logInteraction(n.hitFilter()),r(`/home?facet=${e}`)}else{const e=t.filterChipFactory({identifier:"all"});p.logInteraction(e.hitFilter()),r("/")}}),[m,p,r,a]),b=(0,l.YQ)(g,100,{leading:!0,trailing:!1}),j=(0,c.NC)(S._Ie),{shelfURIs:N}=(0,C.T)(),I=(0,x.k)(),w=N.length>0,k=`Pinned by ${I?.name}`;return(0,_.jsx)("div",{className:s()(H,n?P:null,"contentSpacing"),children:(0,_.jsxs)(u.FN,{ariaLabel:h.Ru.get("home.filters"),children:[(0,_.jsx)(o.v,{"aria-label":h.Ru.get("search.title.all"),selectedColorSet:"invertedLight",onClick:()=>b(null),selected:""===a,children:h.Ru.get("search.title.all")},"all"),f.map((e=>(0,_.jsx)(o.v,{"aria-label":e.getName(),selectedColorSet:"invertedLight",onClick:()=>b(e.id),selected:Boolean(a&&a===e.id),children:e.getName()},e.id))),j&&(w||I)&&(0,_.jsx)("div",{className:L}),j&&w&&(0,_.jsxs)(o.v,{"aria-label":"Pinned",selectedColorSet:"invertedLight",onClick:()=>b("pinned"),selected:"pinned"===a,children:[(0,_.jsx)("span",{children:"Pinned"}),(0,_.jsx)("span",{className:$,children:N.length})]},"pin"),j&&I&&(0,_.jsx)(o.v,{"aria-label":"Pinned",selectedColorSet:"invertedLight",selected:"pinned-by"===a,children:(0,_.jsx)("span",{children:k})},"pin")]})})})),W=()=>{const e=(0,c.NC)(S.MX4),t=(0,N.p)(),n=(0,j.V)(),i=(0,I.A)(),r=(0,w.SF)(),{ref:l,inView:o}=(0,a.Wx)({initialInView:!0,threshold:[1],rootMargin:`-${f.uC}px 100%`,root:r.current}),d=void 0!==i,{data:h,loading:u,error:v,extensions:C}=(0,b.f)(),x="HomeResponsePayload"===h?.home?.__typename?h?.home?.homeChips:null;return u||v||!x||n||!t?u?(0,_.jsx)("div",{className:k,children:(0,_.jsx)("div",{className:s()(H,e?P:null,"contentSpacing"),children:(0,_.jsx)(m.Y,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})})}):null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{ref:l}),(0,_.jsxs)("div",{className:k,children:[(0,_.jsx)(p.A,{className:s()({[F]:!o,[R]:d},M),style:{backgroundColor:i}}),(0,_.jsx)(E,{filterChips:x,requestId:(0,g.getRequestIdForImpressions)(C)})]})]})}},34541:(e,t,n)=>{n.d(t,{$:()=>s});var i=n(85387);const r="/lyrics",s=()=>{const e=(0,i.zy)(),t=e.pathname.startsWith(r);return{isActive:t,isActiveNotCinemaMode:t&&(!e.state.cinemaState||"closed"===e.state.cinemaState),routeDestination:r}}},50671:(e,t,n)=>{n.d(t,{HomeHeader:()=>g,W:()=>f});var i=n(30758),r=n(97500),s=n.n(r),a=n(62411),l=n(64180),o=n(35435),c=n(36962),d=n(9142);const h="main-home-homeHeader",u="B9yNi5FlwGJt0nMEM5HS",m="t7wxxKMe3KK9hcr93xna";var p=n(86070);const f=()=>(0,a.d4)(o.t$),g=(0,i.memo)((function(){const e=(0,d.A)(l.l0o),t=!(0,c.n)(),n=f();return(0,p.jsx)("div",{className:s()(h,{[m]:t,[u]:n}),style:{backgroundColor:e}})}))},78617:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(30758),r=n(74717),s=n(46757),a=n(50671),l=n(34541),o=n(9142),c=n(44418),d=n(25132),h=n(44383),u=n(86070);const m=parseInt(h.A.MINIMUM_HEADER_HEIGHT,10),p=(0,i.forwardRef)((function(e,t){const n=(0,r.lr)(),h=(0,r.Nx)(),p=(0,a.W)(),f=(0,o.A)(),{isActive:g}=(0,l.$)(),v=(0,i.useRef)(-1),C=(0,i.useRef)(null),x=t??C,b=(0,i.useCallback)((e=>{const t=e.target.scrollTop;let i;if(i=n||h?(0,r.q8)(t,p):void 0===f?(0,d.i)(t,s.uC):g?0:(0,d.i)(t,m,76),"function"==typeof x)throw new Error("Callback refs are not supported");Number(v.current).toPrecision(2)!==Number(i).toPrecision(2)&&requestAnimationFrame((()=>{x.current&&x.current.style.setProperty("opacity",`${Number(i).toPrecision(2)}`)})),v.current=i}),[n,h,f,g,p,x]);return(0,c.i)(b,{executeOnceOnStart:!0}),(0,u.jsx)("div",{ref:x,...e,children:e.children})}))}}]);
//# sourceMappingURL=dwp-home-chips-row.js.map