"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1602,5094],{32125:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(69732);function a(e){const{backgroundColor:t}=(0,n.oI)();return t||e}},46867:(e,t,r)=>{function n(e,t=1,r=0){if(r>t)return 1;let n=(e-r)/(t-r);return Number.isNaN(n)&&(n=1),Math.min(Math.max(n,0),1)}r.d(t,{i:()=>n})},63116:(e,t,r)=>{r.d(t,{TopBar:()=>N});var n=r(30758),a=r(97500),s=r.n(a),o=r(29174),i=r(4247),c=r(76624),l=r(65739),u=r(86070);const d=()=>{const e=(0,n.useRef)(null),{setElementRef:t}=(0,n.useContext)(c.J);return(0,n.useEffect)((()=>{t&&e.current&&t(e.current)}),[t]),(0,u.jsx)("div",{"data-testid":"topbar-content-wrapper",className:l.A.topbarContentWrapper,ref:e})};var p=r(79876),m=r(30339),h=r(24983);const f=["","/","/home/","/content-feed/","/lyrics","/search","/search/:query","/search/:query/:category","/recent-searches","/section/:id","/genre/:id","/user/:username/:subpage","/user/:username/top/artists","/user/:username/top/tracks","/preferences","/artist/:id/featuring","/artist/:id/playlists","/artist/:id/appears-on","/artist/:id/discovered-on","/artist/:id/related","/download"];var b=r(76622),v=r(32125),A=r(28191),M=r(28155),x=r(24010);const y={[A.E.SMALL]:0,[A.E.MEDIUM]:600,[A.E.LARGE]:1024},N=()=>{const e=(0,v.A)(),t=(0,b.lr)(),r=(0,h._)((e=>{const t=e.pathname.replace(/^\/intl-[A-Za-z]{2}/i,"");return f.every((e=>e!==t&&null===(0,m.B6)(e,t)))})),a=(0,n.useRef)(null),{breakpoint:c}=(0,x.x)(y,a),A=(0,i.X)(),N=void 0!==e&&!A;return r?(0,u.jsx)(M.o.Provider,{value:c,children:(0,u.jsxs)("header",{"data-testid":"topbar","aria-label":o.Ru.get("topBar.label"),className:s()(l.A.container,{[l.A.withBackgroundBlur]:t}),children:[(0,u.jsx)(p.A,{ref:a,className:l.A.background,style:{"--background-base":e,...A?{"--background-base":A}:{}},children:N&&(0,u.jsx)("div",{className:l.A.overlay})}),(0,u.jsx)("div",{className:s()(l.A.contentContainer,"contentSpacing"),children:(0,u.jsx)(d,{})})]})}):null}},64768:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(85387);const a="/lyrics",s=()=>{const e=(0,n.zy)(),t=e.pathname.startsWith(a);return{isActive:t,isActiveNotCinemaMode:t&&(!e.state.cinemaState||"closed"===e.state.cinemaState),routeDestination:a}}},73280:(e,t,r)=>{r.d(t,{$F:()=>o,Dr:()=>c,KI:()=>d,V0:()=>u,YO:()=>p,nC:()=>h,t$:()=>m,uW:()=>l,ye:()=>f});var n=r(42551),a=r(31559);const s=[a.G.NATIVE,a.G.IMAGE,a.G.HTML],o=e=>e.ads.hpto?.template||null,i=e=>e.ads.root.isHptoHidden,c=e=>e.ads.hpto?.hptoIsStable||null,l=e=>e.ads.root.isPremium,u=e=>"1"===e.session.productState?.["has-audiobooks-subscription"],d=e=>e.ads.hpto?.creativeFetchingState||null,p=(0,n.Mz)((e=>e.ads.hpto?.creative||null),(e=>e.ads.hpto?.preview||null),((e,t)=>t||e)),m=(0,n.Mz)(p,l,i,((e,t,r)=>{if(!e)return!1;return!(!s.includes(e.bannerMode)||t&&r)})),h=(0,n.Mz)(l,i,((e,t)=>!e||!t)),f=(0,n.Mz)(p,(e=>!!e&&s.includes(e.bannerMode)))},76622:(e,t,r)=>{r.d(t,{Nx:()=>o,lr:()=>s,q8:()=>i});var n=r(24983),a=r(46867);const s=()=>(0,n._)((e=>"/"===e.pathname)),o=()=>(0,n._)((e=>"/home"===e.pathname)),i=(e,t)=>{const r=t?350:80;return(0,a.i)(e,r,10)}},77683:(e,t,r)=>{r.d(t,{HomeHeader:()=>b,W:()=>f});var n=r(30758),a=r(97500),s=r.n(a),o=r(62411),i=r(66590),c=r(73280),l=r(68007),u=r(32125);const d="main-home-homeHeader",p="B9yNi5FlwGJt0nMEM5HS",m="t7wxxKMe3KK9hcr93xna";var h=r(86070);const f=()=>(0,o.d4)(c.t$),b=(0,n.memo)((function(){const e=(0,u.A)(i.l0o),t=!(0,l.n)(),r=f();return(0,h.jsx)("div",{className:s()(d,{[m]:t,[p]:r}),style:{backgroundColor:e}})}))},79876:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(30758),a=r(76622),s=r(58280),o=r(77683),i=r(64768),c=r(32125),l=r(63613),u=r(46867),d=r(71875),p=r(86070);const m=parseInt(d.A.MINIMUM_HEADER_HEIGHT,10),h=(0,n.forwardRef)((function(e,t){const r=(0,a.lr)(),d=(0,a.Nx)(),h=(0,o.W)(),f=(0,c.A)(),{isActive:b}=(0,i.$)(),v=(0,n.useRef)(-1),A=(0,n.useRef)(null),M=t??A,x=(0,n.useCallback)((e=>{const t=e.target.scrollTop;let n;if(n=r||d?(0,a.q8)(t,h):void 0===f?(0,u.i)(t,s.uC):b?0:(0,u.i)(t,m,76),"function"==typeof M)throw new Error("Callback refs are not supported");Number(v.current).toPrecision(2)!==Number(n).toPrecision(2)&&requestAnimationFrame((()=>{M.current&&M.current.style.setProperty("opacity",`${Number(n).toPrecision(2)}`)})),v.current=n}),[r,d,f,b,h,M]);return(0,l.i)(x,{executeOnceOnStart:!0}),(0,p.jsx)("div",{ref:M,...e,children:e.children})}))}}]);
//# sourceMappingURL=dwp-top-bar.js.map