"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5663],{2393:(e,t,n)=>{n.d(t,{o:()=>f});var a=n(17640),i=n(46966),r=n(84439),s=n(44538),l=n(44519),o=n(62411),c=n(4833),d=n(7397),u=n(97276),g=n(78161);var m=n(42668),h=n(86070);const x=({metadata:e,index:t,variant:n})=>{const{isPlaying:l,togglePlay:o}=(0,m.P)({uri:e.uri},{featureIdentifier:"your_library"}),{name:c,images:d}=e;return(0,h.jsx)(i.Z,{variant:n,index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:l,featureIdentifier:"your_library",onPlay:(e,t)=>o({loggingParams:t}),headerText:c,uri:e.uri,renderCardImage:()=>(0,h.jsx)(r.M,{images:d}),renderSubHeaderContent:()=>(0,h.jsx)(s.c,{children:a.Ru.get("tracklist-header.songs-counter",e.totalLength)})})},f=({index:e,variant:t})=>{const n=function(){const e=(0,u.d)({offset:0,limit:1}),{user:t}=(0,o.d4)(d.Ht);if(null===e||null===t)return null;const n=(0,c.$R)(t.id);return n?{uri:n.uri,name:n.name,images:n.images,totalLength:e?.totalLength,unfilteredTotalLength:e.unfilteredTotalLength,owner:(0,g.w)(t)}:null}();return n?(0,h.jsx)(x,{metadata:n,index:e,variant:t}):(0,h.jsx)(l.u,{cardImage:(0,h.jsx)(r.M,{images:c.s0}),isLoading:!0,variant:t})}},4769:(e,t,n)=>{n.d(t,{j:()=>r});var a=n(5752),i=n(46822);function r(){return(0,i.N)(a.X6)}},6038:(e,t,n)=>{n.r(t),n.d(t,{RecentlyPlayedHomeCarouselShelf:()=>M,RecentlyPlayedHomeGridShelf:()=>T,default:()=>k});var a=n(30758),i=n(97500),r=n.n(i),s=n(44178),l=n(75044),o=n(17640),c=n(20307),d=n(75463),u=n(51132),g=n(46966),m=n(47457),h=n(86527),x=n(89790),f=n(47406),p=n(67464),v=n(2393),C=n(91073),y=n(40686),b=n(55405),I=n(41905),S=n(24211),j=n(74458),N=n(5752),A=n(4769);function E(e=!0){const t=(0,A.j)(),[n,i]=(0,a.useState)((()=>t.getContexts()));return(0,a.useEffect)((()=>{if(!e)return;return t.getEvents().addListener(N.m5.UPDATE,(({data:e})=>{i(e)}))}),[t,e]),n}var w=n(91563);const P="wu4hGzXkWRNdY0UX1MJa";var L=n(86070);function _(e){const t=new Set;return e.filter((e=>{if(e.type===N.d2.LIKED_SONGS){if(t.has(e.type))return!1;t.add(e.type)}return!0}))}const R=(e,t,n,a=!1)=>{const i=e.uri;switch(e.type){case N.d2.LIKED_SONGS:return(0,L.jsx)(v.o,{index:t,variant:n},i);case N.d2.YOUR_EPISODES:return(0,L.jsx)(y.e,{index:t,variant:n},i);case N.d2.ALBUM:return(0,L.jsx)(c.a,{index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null,variant:n,logCardImpressions:a},i);case N.d2.ARTIST:return(0,L.jsx)(d.a,{index:t,name:e.name,uri:e.uri,images:e.images,variant:n,logCardImpressions:a},i);case N.d2.PLAYLIST:return(0,L.jsx)(m.B,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,authorUri:e.owner.uri,isPlayable:!(0,j.p)(e.attributes),variant:n,logCardImpressions:a,leaveTitleVisible:!0},i);case N.d2.SHOW:return(0,L.jsx)(h.o,{index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,variant:n,logCardImpressions:a},i);case N.d2.AUDIOBOOK:return(0,L.jsx)(u.M,{index:t,name:e.name,uri:e.uri,images:e.images,authorName:e.authors.at(0)?.name??"",signifierText:e.signifierText,variant:n,logCardImpressions:a,consumptionCapExplanation:e.consumptionCapExplanation,isPlayable:e.isPlayable},i);case N.d2.TRACK:return(0,L.jsx)(x.w,{index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null,variant:n,logCardImpressions:a},i);default:return(0,w.k)(e),null}},T=({title:e,index:t,id:n})=>{const i=E(!0),r=(0,l.NC)(b.BCG),s=(0,l.NC)(b.WAq),o=(0,a.useMemo)((()=>{if(!i)return[];return _(i).map(((e,t)=>R(e,t,s?g._.Compact:g._.Default,r)))}),[i,s,r]);return 0===o.length?null:(0,L.jsx)(I.x,{config:(0,S.s1)(s?S.yV.HOME_HIGH_DENSITY:S.yV.HOME_REGULAR_DENSITY),children:(0,L.jsx)(p.p,{id:n,index:t,total:o.length,seeAllUri:`/genre/${C.r}`,title:e,children:o})})},M=({title:e,className:t,index:n,id:i})=>{const r=E(!0),s=(0,l.NC)(b.BCG),o=(0,a.useMemo)((()=>{if(!r)return[];return _(r).map(((e,t)=>R(e,t,g._.Compact,s)))}),[r,s]);return 0===o.length?null:(0,L.jsx)(f.R,{index:n,id:i,title:e,seeAllUri:`/genre/${C.r}`,className:t,children:o})},k=()=>{const e=E(!0);if(!e)return[];const t=_(e);return null===e?null:(0,L.jsx)("section",{className:r()("contentSpacing",P),children:(0,L.jsx)(p.p,{id:"recently-played",title:o.Ru.get("view.recently-played"),showAll:!0,index:0,rowGap:s.lT,fullPage:!0,children:t.map(((e,t)=>R(e,t,g._.Default)))})})}},29055:(e,t,n)=>{n.d(t,{u:()=>s});var a=n(17640),i=n(33380),r=n(81885);function s(){const e=(0,r.J)(i.H3);return null===e?null:{uri:i.H3,name:a.Ru.get("sidebar.your_episodes"),images:[],totalLength:e.totalLength,owner:e.owner}}},35940:(e,t,n)=>{n.d(t,{A:()=>a});const a={coverContainer:"aaasJtK_0Z_ggHet0u6v",yourEpisodesCard:"Iy8zwWQVG_ylQT9GRLhR",coverIcon:"o5KDMPy9Ed_fP0aQ63vd"}},40686:(e,t,n)=>{n.d(t,{e:()=>h});var a=n(17640),i=n(46966),r=n(84439),s=n(44538),l=n(44519),o=n(55250),c=n(29055),d=n(42668),u=n(35940),g=n(86070);const m=({metadata:e,index:t,variant:n})=>{const{isPlaying:l,togglePlay:c}=(0,d.P)({uri:e.uri},{featureIdentifier:"your_library"}),{name:m,images:h}=e;return(0,g.jsx)(i.Z,{variant:n,index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:l,featureIdentifier:"your_library",onPlay:(e,t)=>c({loggingParams:t}),headerText:m,uri:e.uri,renderCardImage:()=>(0,g.jsx)(r.M,{images:h,FallbackComponent:o.b}),renderSubHeaderContent:()=>(0,g.jsx)(s.c,{children:a.Ru.get("tracklist-header.episodes-counter",e.totalLength)}),className:u.A.yourEpisodesCard})},h=({index:e,variant:t})=>{const n=(0,c.u)();return n?(0,g.jsx)(m,{metadata:n,index:e,variant:t}):(0,g.jsx)(l.u,{cardImage:(0,g.jsx)(r.M,{FallbackComponent:o.b}),isLoading:!0,variant:t})}},44649:(e,t,n)=>{n.d(t,{E:()=>r});var a=n(30758),i=n(29032);function r(e){var t,n,r,s,l,o=e.size?i.$Z[e.size]:e.iconSize,c=(0,i._C)([{size:16,svgContent:"<path d='M3.75 0A1.75 1.75 0 0 0 2 1.75v12.952c0 1.051 1.22 1.633 2.037.972l3.962-3.208 3.943 3.204c.817.663 2.038.082 2.038-.97V1.75A1.75 1.75 0 0 0 12.23 0H3.75z'/>"},{size:24,svgContent:"<path d='M7 1a3 3 0 0 0-3 3v17.167c0 1.448 1.657 2.27 2.81 1.393L12 18.612l5.19 3.948c1.153.876 2.81.055 2.81-1.393V4a3 3 0 0 0-3-3H7z'/>"}],o||24),d=null!==(t=e.autoMirror)&&void 0!==t&&t;return a.createElement(i.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((s=e.title,l=e.titleId,s?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(s,"</title>"):"")).concat((n=e.desc,r=e.descId,n?"<desc ".concat(r?'id="'.concat(r,'"'):"",">").concat(n,"</desc>"):"")).concat(c.svgContent)}}))}},47406:(e,t,n)=>{n.d(t,{R:()=>S});var a=n(30758),i=n(97500),r=n.n(i),s=n(43058),l=n(89982),o=n(61825),c=n(17299),d=n(54642),u=n(92375),g=n(65927);const m="C3jVNGQUUZcUp5kTEOC0",h="pdLDCowVOiUIfeu9hihi",x="Sm3POgzbjs7wFj7tyYNh",f="vZSm_8xsDxBqMzp1tqmn",p="NXBXbVfJboNI6xdrNIDB",v="bF2GZTmgrRQLsrDcIZXd",C="qI009QzTkvisAXqhbw74",y="qIb0IOmZs9KwEeOkpvg1";var b=n(86070);const I=(0,a.memo)((({title:e,titleUri:t,titleMediaCircle:n,subtitle:i,pretitle:c,titleMedia:u,trailing:g,collapsable:I,children:S,className:j="",testId:N="component",id:A,seeAllUri:E,seeAllLabel:w,alwaysShowSeeAll:P=!1,showSeeAll:L=!0,onClickShelfTitle:_,onClickShelfSeeAll:R,elementRef:T,renderSubHeader:M,withEncoreCards:k=!0})=>{const H=(0,a.useRef)(null),O=!!L&&(P||L),U=I?{"data-shelf-collapsable":!0}:{},[z,G]=(0,a.useState)(!0),D=(0,d.W)();(0,a.useLayoutEffect)((()=>{if(H.current){const e=(0,l.X)(H.current,D);e?H.current.removeAttribute("data-shelf-notatedge"):H.current.setAttribute("data-shelf-notatedge","true"),G(e)}}),[T,D]);const B=z?"0px var(--margin, 0px)":"0px";return(0,b.jsxs)("section",{ref:e=>{H.current=e,"function"==typeof T&&T(e)},className:r()(j,m,{[x]:k}),"data-shelf":"carousel","data-testid":`${N}-shelf`,"aria-label":e??"",...U,children:[e&&(0,b.jsx)("div",{className:f,children:(0,b.jsx)(o.k,{seeAllUri:E,seeAllLabel:w,pageId:A,showSeeAll:O,onClickTitle:_,onClickSeeAll:R,title:e,titleUri:t,subtitle:i,pretitle:c,titleMedia:u,trailing:g,titleMediaCircle:n})}),M&&(0,b.jsx)("div",{className:p,children:M()}),(0,b.jsx)(s.FN,{className:h,chevronsClassName:y,scrollContentClassName:C,scrollerClassName:v,scrollingMethod:s.Hv.SNAP,scrollPadding:B,scrollSnapAlign:"start",wheelScrollEnabled:!1,showButtons:s.C_.ON_HOVER,edgeGradients:s.TB.LINEAR_GRADIENT,scrollSnapByItems:3,children:S})]})})),S=({index:e,logShelfImpressions:t=!1,...n})=>{const{seeAllUri:a,id:i}=n,{onClickShelfTitle:r,onClickShelfSeeAll:s,spec:l}=(0,c.w)({seeAllUri:a,index:e,id:i}),o=(0,g.t)(l,t);return(0,b.jsx)(u.r,{spec:l,children:(0,b.jsx)(I,{...n,elementRef:o,onClickShelfTitle:r,onClickShelfSeeAll:s})})}},55250:(e,t,n)=>{n.d(t,{b:()=>s});var a=n(96684),i=n(35940),r=n(86070);const s=()=>(0,r.jsx)("div",{className:i.A.coverContainer,children:(0,r.jsx)(a.P,{iconSize:"xxlarge",className:i.A.coverIcon})})},89982:(e,t,n)=>{n.d(t,{X:()=>a});const a=(e,t)=>{const n=e.parentElement.getBoundingClientRect(),a=e.getBoundingClientRect(),i=t?n.right:n.left,r=t?a.right:a.left;return!(e instanceof HTMLElement&&Math.abs(r-i)>48)}},96684:(e,t,n)=>{n.d(t,{P:()=>r});var a=n(44649),i=n(86070);const r=({iconSize:e,className:t})=>(0,i.jsx)("div",{className:t,children:(0,i.jsx)(a.E,{size:e,"aria-hidden":!0})})}}]);
//# sourceMappingURL=xpui-routes-recently-played.js.map