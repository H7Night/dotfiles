"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{402:(e,t,a)=>{a.d(t,{u:()=>h});var r=a(97500),i=a.n(r),s=a(40638),n=a(83165),o=a(20516),c=a(27871),l=a(27120),u=a(43026),d=a(91803),p=a(86070);const h=({uri:e,src:t,playAriaLabel:a,onClick:r,isPlaying:h,isActive:m,isLocked:y,isEpisode:g,isVideo:x,spec:b})=>{const L=(0,c.W)(),v=(0,u.s)(),A=(0,s.YQ)((t=>{let a;if(L({type:"click",intent:h?"pause":"play"}),b){const t=b.playbackButtonFactory();let r;r=m&&h?t.hitPause({itemToBePaused:e}):m&&!h?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),a=v.logInteraction(r)}r(t,a)}),l.d,{leading:!0,trailing:!1});return(0,p.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,p.jsx)(o.e,{src:t,isEpisode:g,isVideo:x}),(0,p.jsx)(n.x,{className:i()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:A,isPlaying:h,isLocked:y,playAriaLabel:a})]})}},22691:(e,t,a)=>{a.d(t,{J:()=>n});var r=a(61179),i=a(12074);const s=Spicetify.GraphQL.Definitions["getTrack"]=new r.l("getTrack","query","26cd58ab86ebba80196c41c3d48a4324c619e9a9d7df26ecca22417e0c50c6a4",null),n=(e,t)=>(0,i.I)(s,e,t)},22987:(e,t,a)=>{a.d(t,{Z:()=>n});a(32807);var r=a(74220);const i="rTMkDBDp47Eo12ZEQv4U";var s=a(86070);const n=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{if(e.untyped)return(0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${a}`},t)}));return t&&a.unshift((0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,s.jsx)("div",{className:i,children:a})}},68297:(e,t,a)=>{a.d(t,{R:()=>s});var r=a(70719),i=a(86070);const s=({uri:e,enabled:t,className:a,children:s,onClick:n})=>t?(0,i.jsx)(r.N,{to:e,className:a,onClick:n,children:s}):(0,i.jsx)(i.Fragment,{children:s})},86093:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Br});a(32807);var r=a(30758),i=a(97500),s=a.n(i),n=a(85387),o=a(17369),c=a(87327),l=a(35638);const u="music",d="5.1.0",p="default",h="16.2.6";function m(e){return new y(e)}class y{constructor(e){this._path=[{name:"desktop-track",...e.data}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}headerFactory(){return new y.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new y.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"header"}),t&&(this._parentAbsoluteLocation=t)}artistLinkFactory(t){return new e.HeaderEventFactory.ArtistLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"action_bar"}),t&&(this._parentAbsoluteLocation=t)}playButtonFactory(){return new e.ActionBarEventFactory.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.ActionBarEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextButtonFactory(){return new e.ActionBarEventFactory.ContextButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new e.ActionBarEventFactory.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){!function(e){e.ArtistLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({...a,name:"artist_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(y||(y={})),function(e){!function(e){e.PlayButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"play_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.ContextButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"context_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.DownloadButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"download_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={}));var g=a(23736),x=a(29174),b=a(96535),L=a(80722),v=a(90658),A=a(6836),k=a(9348),j=a(72226),_=a(22775),f=a(11689),C=a(74285),N=a(86838),R=a(70104),I=a(30496),w=a(12965),P=a(48796),E=a(77073),S=a(97895),T=a(41350),B=a(74297),U=a(61179),V=a(12074);const F=Spicetify.GraphQL.Definitions["internalLinkRecommenderTrack"]=new U.l("internalLinkRecommenderTrack","query","c77098ee9d6ee8ad3eb844938722db60570d040b49f41f5ec6e7be9160a7c86b",null);var O=a(68297),M=a(19976),D=a(8610),q=a(33606),G=a(402),$=a(87648),z=a(74314),W=a(56174),Y=a(58742),H=a(54302),Z=a(38266),X=a(65242),Q=a(12488),J=a(25515),K=a(76697),ee=a(95261),te=a(28331),ae=a(51403),re=a(2232),ie=a(6564),se=a(48431),ne=a(23265),oe=a(54947);const ce="Z9Dr8PkXFtlO8KnnDcxp",le="Bm0LUMlhVIcF5qusgdUP",ue="GIyB7JDkRwjtVL6PSBbg",de="whTIka0YYAkqhqrs26Wa";var pe=a(86070);const he=r.memo((function({uri:e,name:t,imgUrl:a,artists:r,isExplicit:i,index:s,albumUri:n,contextUri:o,isPlayable:c,isMOGEFRestricted:l,totalMilliseconds:u,playcount:d,usePlayContextItem:p}){const{isActive:h,isPlaying:m,triggerPlay:y,togglePlay:g}=p({uri:e,index:s}),v=(0,ne.T)(e),{isPlayable:A,isAnyArtistBanned:k}=(0,ae.g)(e,{isPlayable:c,isLocal:!1,isOutOfMarket:!1,artistUris:r.map((e=>e.uri))}),{unBanArtists:j}=(0,ee.M)(r.map((e=>e.uri))),_=r.map((e=>e.name)).join(x.Ru.getSeparator()),{badges:f,hasBadges:C}=(0,oe.b)({isMOGEFRestricted:l,downloadAvailability:v,isExplicit:i}),N=r.map((e=>e.name)).join(x.Ru.getSeparator()),R=(0,te.c)();return(0,pe.jsx)(b.h,{menu:(0,pe.jsx)(L.P,{uri:e,albumUri:n,artists:r,contextUri:o}),children:(0,pe.jsxs)(J.w,{uri:e,contextUri:o,isPlayable:A,isAnyArtistBanned:k,handleArtistBanUndoClick:j,onTriggerPlay:(e,t)=>{y({loggingParams:t})},isActive:h,index:s,ariaRowIndex:s,dragMetadata:{name:t,createdBy:_},isExplicit:i,children:[(0,pe.jsxs)(H.U,{ariaColIndex:0,children:[(0,pe.jsx)(G.u,{uri:e,src:a,onClick:(e,t)=>{g({loggingParams:t})},isLocked:!1,isPlaying:m,isActive:h,playAriaLabel:x.Ru.get("tracklist.a11y.play",t,_)}),(0,pe.jsxs)($.l,{children:[(0,pe.jsx)(O.R,{uri:e,enabled:R,className:ue,children:(0,pe.jsx)(Q.p,{titleText:t,children:t})}),C&&(0,pe.jsxs)(D.P,{children:[f.download&&(0,pe.jsx)(ie._,{}),f.explicit&&(0,pe.jsx)(re.U,{}),f.nineteen&&(0,pe.jsx)(se.q,{className:de,size:16})]}),(0,pe.jsx)(X.p,{children:(0,pe.jsx)(M.l,{artists:r})})]})]}),(0,pe.jsx)(Z.o,{ariaColIndex:1,children:(0,pe.jsx)(W.Y,{playcount:d})}),(0,pe.jsxs)(Y.l,{ariaColIndex:2,children:[(0,pe.jsx)(K.d,{uri:e}),(0,pe.jsx)(q.P,{duration:u}),(0,pe.jsx)(z.Y,{menu:(0,pe.jsx)(L.P,{uri:e,albumUri:n,contextUri:o,artists:r}),label:x.Ru.get("more.label.track",t,N)})]})]})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));a(54615);var me=a(23318),ye=a(27966),ge=a(62711),xe=a(34939),be=a(18603),Le=a(3256),ve=a(19492);const Ae=r.memo((function({subtitle:e,uri:t}){const{data:a}=(i={uri:t,limit:5},(0,V.I)(F,i,s));var i,s;const n=function(e){return(e||[]).filter((e=>(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Track"===e.__typename;var t})(e.data))).map((e=>e.data))}(a?.seoRecommendedTrack.items),l=(0,r.useMemo)((()=>n?.slice(0,Math.min(n.length,5))),[n]),u=(0,r.useCallback)((e=>({uri:"uri"in e?e.uri:""})),[]),d=(0,r.useMemo)((()=>[ge.$.TITLE_AND_ARTIST,ge.$.ALBUM,ge.$.DURATION]),[]),{usePlayContextItem:p}=(0,xe.P)({uri:"spotify:internal:recs:track-ilr",pages:[{items:n?.map((e=>({uri:e.uri,uid:null,type:ve.c.TRACK,provider:null})))}]},{featureIdentifier:"ilr"}),h=(0,r.useCallback)(((e,a)=>(0,pe.jsx)(he,{index:a,contextUri:t,uri:e.uri,name:e.name,totalMilliseconds:e.duration.totalMilliseconds,imgUrl:e.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:e.playability.playable,artists:e.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:e?.albumOfTrack?.uri||"",isExplicit:e.contentRating?.label===Le.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===Le.x7.NineteenPlus,playcount:parseInt(e.playcount||"0",10),usePlayContextItem:p},`${a}-${e.uri}`)),[t,p]);return n?.length?(0,pe.jsxs)("div",{className:ce,children:[(0,pe.jsxs)("div",{className:le,children:[(0,pe.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:x.Ru.get("playlist.extender.recommended.title")}),(0,pe.jsx)(o.E,{variant:"bodySmall",paddingBottom:c.CD,children:e})]}),(0,pe.jsx)(ye.S4,{ariaLabel:x.Ru.get("playlist.extender.recommended.title"),nrTracks:l.length,rowPlaceholder:me.qq,tracks:l,renderRow:h,resolveItem:u,columns:d},"internal-link-recommender-track-list")]}):null})),ke=e=>{const{entityType:t}=e;return(0,pe.jsx)(B.s,{onError:()=>{(0,be.fE)({metric_type:T.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:t}})},children:(0,pe.jsx)(Ae,{...e})})};var je=a(70719),_e=a(37461),fe=a(85625),Ce=a(11521),Ne=a(25201),Re=a(28276);const Ie=({albums:e,artistName:t,artistId:a,artistUri:r,className:i})=>e?(0,pe.jsx)(Ne.$,{total:e.totalCount,title:x.Ru.get("rich-page.popular-albums-by-artist",{artist:t}),seeAllUri:`${(0,Re.Dh)(a)}:discography:${Le._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,Re.Ey)(e.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:r},e.uri)))}):null;var we=a(94860);const Pe=({artistId:e,className:t,fansAlsoLike:a,title:r})=>(0,pe.jsx)(Ne.$,{total:a.length,title:r??x.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,Re.Dh)(e)}:related`,className:t,children:a.map(((e,t)=>(0,pe.jsx)(we.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]},e.uri)))});var Ee=a(11963);const Se="ERm7dIKbVoqGwPb_lXPH",Te=({artistName:e,artistUri:t,headerClassName:a,rowClassName:i,topTracks:s,topTracksTransformer:n,uri:c})=>{const l=(0,r.useMemo)((()=>s?.items.map((e=>n(e,c)))),[s?.items,n,c]);return l&&l.length>0?(0,pe.jsxs)("div",{className:i,children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)(o.E,{variant:"bodySmall",className:Se,children:x.Ru.get("rich-page.popular-tracks")}),(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:a,children:e})]}),(0,pe.jsx)(Ee.z,{uri:t,nrTracks:l.length,initialTracks:l})]}):null};var Be=a(59328);const Ue=({artistName:e,artistId:t,artistUri:a,className:i,releases:s,artistImages:n})=>{const o=(0,r.useMemo)((()=>n?{title:e,pretitle:x.Ru.get("artist-page.popular"),media:(0,Be.h)(n,{desiredSize:48})||""}:null),[n,e]);return s?(0,pe.jsx)(Ne.$,{total:10,title:x.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Re.Dh)(t)}:discography:${Le._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,...o,children:s.items.map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))}):null},Ve=({artistId:e,artistName:t,artistUri:a,className:r,singles:i})=>i?(0,pe.jsx)(Ne.$,{total:i.totalCount,title:x.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:t}),seeAllUri:`${(0,Re.Dh)(e)}:discography:${Le._m.Single.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Re.Ey)(i.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))}):null;var Fe=a(87160),Oe=a(20063),Me=a(64217),De=a(51792),qe=a(27294),Ge=a(54179),$e=a(93394);const ze="VdIaMy6YRQX6cN5B7OVC",We="LjkmarFarmUOq0nmv9iy",Ye="VHigmLQwT1FxkKEbCs4H",He="qX5K6LTMIuXG1gFBXzjZ",Ze="fsH_X6pBkexdxtu19q5k",Xe="sDbr7RxY_jjg1XXq8zU5",Qe="MiWZGlZeQCy1tibDTql5",Je="uci6FedOoLZEL163ZR8k",Ke="GDA6ugyRoV7ZiqIyOU4d",et="IUBwxdZXklSkRPTZ9w_Q",tt="f7XB243E_dNMV9dkUXV6",at="gQQC7YFmzffMUaCqbx3o",rt="QJVNM_FcLpEHhjDc_FU3",it="Vd2oInYt1Ynz9X6KgL7o",st="yUA20RYjsLIb7xXNRlfn",nt="MVDvKVX1aJ05U9lmHzaz",ot=({richTrack:e})=>{const{search:t}=(0,n.zy)(),a=(0,r.useCallback)((()=>new URLSearchParams(t.slice(1)).get("highlight")||""),[t])(),{tracklistRef:i}=(0,$e.h)(),s=e.albumOfTrack,{playUri:o,playOptions:c}=(0,Ge.J)(s?.uri||""),{usePlayContextItem:l}=(0,xe.P)({uri:o},{featureIdentifier:"album"},c),u=(0,r.useMemo)((()=>({items:[],totalCount:0})),[]),d=(0,qe.t)();return s?(0,pe.jsx)("div",{ref:i,className:Qe,children:(0,pe.jsx)(Me.a,{columns:d,children:(0,pe.jsx)(De.F,{albumName:s.name,nrTracks:s.tracks.totalCount,albumUri:s.uri,highlightUri:a,discs:u,usePlayContextItem:l,hasHeaderRow:!1})})}):null};let ct=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});var lt=a(26188);const ut=(e,t)=>{switch(t.type){case"SEO_LYRICS_LOADING":return{...e,[t.uri]:{status:ct.LOADING}};case"SEO_LYRICS_LOADED":return{...e,[t.uri]:{status:ct.LOADED,data:t.response}};case"SEO_LYRICS_ERROR":return{...e,[t.uri]:{status:ct.UNAVAILABLE}};default:return(0,lt.d)(t,`Unhandled lyrics action with type: ${t.type}`)}};var dt=a(7865),pt=a(11960);var ht=a(38249);const mt=async({api:e,uri:t,isPlayable:a,clientId:r=""})=>{if(!a||!t||!r)return{hasLyrics:!1};try{const a=await(async(e,t,a)=>(await e.build().withHost(pt.Hj).withPath(`/seo/track/${t}`).withEndpointIdentifier("/track/{trackId}").withHeaders([{key:"x-spotify-seolyrics-clientid",value:a}]).send()).body)(e||dt.n.getInstance(),t.id,r);return{hasLyrics:!0,lyrics:a.lyrics.lines,provider:a.lyrics.provider,providerDisplayName:a.lyrics.providerDisplayName,providerLyricsId:a.lyrics.providerLyricsId,isRtlLanguage:a.lyrics.isRtlLanguage}}catch(e){if(e instanceof ht.O&&404===e.status)return{hasLyrics:!1};throw e}},yt={status:ct.LOADING},gt={status:ct.UNAVAILABLE},xt=r.createContext(void 0),bt=({children:e,initialState:t={}})=>{const a=r.useReducer(ut,t);return(0,pe.jsx)(xt.Provider,{value:a,children:e})},Lt=({uri:e,isNotPermittedToFetchLyrics:t,isPlayable:a})=>{const i=r.useContext(xt);if(void 0===i)throw new Error("useSeoLyrics must be used within a SeoLyricsProvider");const[s,n]=i,o=e?s[e]:null;return(0,r.useEffect)((()=>{t||!o&&e&&(n({type:"SEO_LYRICS_LOADING",uri:e}),mt({uri:(0,g.o_h)(e)??void 0,isPlayable:a,clientId:"65b708073fc0480ea92a077233ca87bd"}).then((t=>{n({type:"SEO_LYRICS_LOADED",uri:e,response:t})})).catch((()=>{n({type:"SEO_LYRICS_ERROR",uri:e})})))}),[n,t,a,o,e]),e&&(0,g.U_m)(e)&&!t&&a?o||yt:gt};var vt=a(74220);const At="OH5mnpJIVCJozYM3raMt",kt="etw0slM6uVrCi5RR3iDi",jt=({padded:e,providerDisplayName:t})=>t?(0,pe.jsx)(vt.Z,{as:"p",dir:"auto",variant:"finale",className:`${At} ${e?kt:""}`,children:x.Ru.get("web-player.lyrics.providedBy",t)}):null,_t=({uri:e,isPlayable:t})=>{const{data:a}=Lt({uri:e,isPlayable:t});return a?.hasLyrics?(0,pe.jsx)(jt,{providerDisplayName:a.providerDisplayName}):null};var ft=a(93672),Ct=a(14929),Nt=a(97077),Rt=a(35655),It=a(41056),wt=a(35834),Pt=a(34529),Et=a(6670),St=a(9695),Tt=a(54061),Bt=a(68007),Ut=a(98098),Vt=a(93236),Ft=a(38975),Ot=a(17154);const Mt=r.memo((function({uri:e,togglePlay:t,isPlaying:a,isActive:i,spec:s,logger:n,backgroundColor:o,name:c,isPlayable:l,albumUri:u,artists:d}){const p=(0,Bt.n)(),[h,m]=(0,Ft.A)(e),y=(0,St.d$)(),{spec:g,logger:b}=(0,Ot.r)(ft.e,{data:{uri:e}});(0,r.useEffect)((()=>{y&&b.logImpression(g.impression())}),[y,b,g]);const v=(0,r.useCallback)((async()=>{const t=s.saveButtonFactory();n.logInteraction(h?t.hitRemoveLike({itemNoLongerLiked:e}):t.hitLike({itemToBeLiked:e})),h&&y&&b.logInteraction(g.hitAddToPlaylist({itemToBeAdded:e,playlist:Vt.BP}));try{await m(!h)}catch{}}),[e,h,s,n,m,y,b,g]),A=(0,r.useCallback)((()=>{const r=(0,Ut.$I)({isPlaying:a,isActive:i,spec:s.playButtonFactory(),logger:n,uri:e});t({loggingParams:r})}),[i,a,n,s,t,e]),k=(0,r.useCallback)((()=>{n.logInteraction(s.contextButtonFactory().hitUiReveal())}),[n,s]),j=(0,Tt.j)();return(0,pe.jsx)(Ct.E,{backgroundColor:o,children:(0,pe.jsxs)(Nt.S,{children:[(0,pe.jsx)(Et.e,{children:(0,pe.jsx)(fe.D,{onClick:A,isPlaying:a,disabled:!l,size:j,uri:e})}),(0,pe.jsx)(Et.e,{children:(0,pe.jsx)(Rt.M,{isAdded:h,onClick:v,disabled:!p,size:j,condensed:!0})}),(0,pe.jsx)(It.f,{uri:e,isFollowing:h,onFollow:v,size:j,condensed:!0,onClick:(t,a)=>(0,Ut.Qv)(a,s.downloadButtonFactory(),n,e)}),(0,pe.jsx)(Pt.b,{menu:(0,pe.jsx)(L.P,{uri:e,albumUri:u,artists:d}),onShow:k,children:(0,pe.jsx)(wt.e,{label:x.Ru.get("more.label.context",c),size:j})})]})})}));let Dt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const qt=(e,t)=>{switch(t.type){case"LYRICS_LOADING":return{...e,[t.uri]:{status:Dt.LOADING}};case"LYRICS_LOADED":return{...e,[t.uri]:{status:Dt.LOADED,data:t.response}};case"LYRICS_ERROR":return{...e,[t.uri]:{status:Dt.UNAVAILABLE}};default:return(0,lt.d)(t,`Unhandled lyrics action with type: ${t.type}`)}},Gt=async({trackUri:e,api:t,imageForLyricsRequest:a,isPlayable:r})=>{if(!r)return{hasLyrics:!1};const i=(0,g.o_h)(e);try{const e=await(async(e,t,a)=>(await e.build().withHost(pt.Hj).withPath(`/track/${encodeURIComponent(t)}/image/${encodeURIComponent(a)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(t||dt.n.getInstance(),i.id,a||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof ht.O&&404===e.status)return{hasLyrics:!1};throw e}},$t={status:Dt.LOADING},zt={status:Dt.UNAVAILABLE},Wt=r.createContext(void 0),Yt=({children:e,initialState:t={}})=>{const a=r.useReducer(qt,t);return(0,pe.jsx)(Wt.Provider,{value:a,children:e})},Ht=({uri:e,isNotPermittedToFetchLyrics:t,imageForLyricsRequest:a,isPlayable:i})=>{const s=r.useContext(Wt);if(void 0===s)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,o]=s,c=e?n[e]:null;return(0,r.useEffect)((()=>{t||!c&&e&&(o({type:"LYRICS_LOADING",uri:e}),Gt({trackUri:e,imageForLyricsRequest:a,isPlayable:i}).then((t=>{o({type:"LYRICS_LOADED",uri:e,response:t})})).catch((()=>{o({type:"LYRICS_ERROR",uri:e})})))}),[o,a,t,i,c,e]),e&&(0,g.U_m)(e)&&!t&&i?c||$t:zt},Zt=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const{data:r}=Ht({uri:e,imageForLyricsRequest:t,isPlayable:a});return r?.hasLyrics?(0,pe.jsx)(jt,{providerDisplayName:r.providerDisplayName}):null};var Xt=a(62411),Qt=a(77676);const Jt="QhDsXG1Gmo7XmQWLggAO",Kt="bZgWQj7UxvK8GYKWDA7N",ea="AW61P3tnW5cKJCWtbhFh",ta=({buttonText:e,className:t,onSecondaryButtonClick:a,onPrimaryButtonClick:r,secondaryButtonText:i,text:n})=>(0,pe.jsxs)("div",{className:s()(Jt,t),"data-testid":"static-activation-trigger",children:[(0,pe.jsx)(o.E,{className:Kt,variant:"bodyMediumBold",semanticColor:"textBase",children:n}),(0,pe.jsxs)("div",{className:ea,children:[(0,pe.jsx)(l.H,{onClick:a,semanticColor:"textBase",children:i}),(0,pe.jsx)(Qt.$,{onClick:r,colorSet:"invertedLight",children:e})]})]});var aa=a(98418),ra=a(76358),ia=a(76541),sa=a(13185),na=a(5028),oa=a(5082),ca=a(88012),la=a(6999);const ua=e=>{const t=(0,aa.vh)(),a=(0,Xt.d4)(oa.F6),r=(0,Xt.d4)(na.JJ),i=(0,Xt.d4)(oa.oo),s=(0,sa.V)();return()=>{(0,be.fE)({metric_type:T.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const n={category:"lyrics_render_error",label:"dwp",os:(0,la.f)(),context:JSON.stringify({uri:e,product:i}),country:a?r:"",sp_t:(0,ca.v8)("sp_t")},o=s?ia.r:ra._;t.send(o(n))}};a(6441);var da=a(13932),pa=a(8558);var ha=a(72763),ma=a(24552),ya=a(12264);const ga=()=>{const e=(0,te.c)(),t=(0,n.zy)(),{trackId:a=""}=(0,n.g)(),r=(0,ha.o)(ma.P.SeoLyricsReferrer,t),i=(0,ya.sp)(document.referrer)||r,s=(0,ha.o)(ma.P.SeoLyrics,t),o=(0,da.NC)(pa.gAe)===pa.vh7.Enabled,c=atob((0,ca.v8)("x-unauth-referred")||"");return!((0,ya.w2)(window.navigator.userAgent)||!e||!i||c!==a)&&(s||o)};var xa=a(8335);const ba="EaTxqhHk6J4ecKHwpY5m",La="dUQl9yd5x_1oWk4L0Ntm",va="xt5C47eHPYNiriMJxGnC";var Aa=a(97504),ka=a(90131);const ja=({words:e,onObserve:t,lyricsInView:a,...i})=>{const{ref:s,inView:n}=(0,xa.Wx)({threshold:1}),c=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{a||(c.current=!1)}),[a]),(0,r.useEffect)((()=>{c.current||n&&(t({text:e,outOfView:!1}),c.current=!0)}),[n,t,e]),(0,pe.jsx)(o.E,{ref:s,as:"p",dir:"auto",variant:"bodyMedium",className:va,"data-testid":i["data-testid"],children:e})},_a="q1JbsdMqX7OImgIFWa6J",fa="hAGejMh7SncdbJ5wcfUi",Ca="IaG9Zc3xGxeYjsn73RAz",Na="zgSEYVU2gMYxihFVEJPn",Ra=420,Ia=280,wa="expandable-lyrics-container";const Pa=({lyrics:e,lyricsInView:t,onObserve:a,previewCount:i})=>{const[n,c]=(0,r.useState)(!1),{visibleLyrics:l,collapsibleLyrics:u}=function(e,t){let a=0,r=-1;const i=e.filter((e=>!!e.words));for(const[e,s]of i.entries())if(a+=s.words.length,a>t){r=e;break}if(r>-1)return{visibleLyrics:i.slice(0,r),collapsibleLyrics:i.slice(r)};return{visibleLyrics:i,collapsibleLyrics:[]}}(e,i),d=u.length>0,p=n?x.Ru.get("show_less"):`…${x.Ru.get("show_more")}`;return(0,pe.jsxs)(pe.Fragment,{children:[l.map((({words:e},r)=>(0,pe.jsx)(ja,{onObserve:a,words:e,lyricsInView:t,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${r}`))),(0,pe.jsx)("span",{"aria-hidden":!n,className:s()(Ca,{[Na]:n}),children:u.map((({words:e},r)=>(0,pe.jsx)(ja,{onObserve:n?a:()=>{},words:e,lyricsInView:n&&t},`lyrics-seo-line-${r}`)))}),d&&(0,pe.jsx)("button",{className:_a,onClick:()=>{c(!n)},"aria-controls":wa,"aria-owns":wa,"aria-label":p,children:(0,pe.jsx)(o.E,{variant:"bodyMediumBold",className:fa,children:p})})]})},Ea=({data:e,eventSender:t,playbackId:a,previewCount:i,uri:s})=>{const{lyrics:n=[],provider:c,providerLyricsId:l,syncType:u}=e,{ref:d,inView:p}=(0,xa.Wx)({threshold:0}),h=function(e){const{trackUri:t,provider:a,providerLyricsId:i,syncType:s,eventSender:n,playbackId:o}=e,c=(0,r.useRef)(null),[l,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(0),[y,g]=(0,r.useState)(!1),x=(0,r.useMemo)((()=>(0,Aa.W)({lyrics_format:"track-page",track_uri:t,provider:a,provider_lyrics_id:i,sync_type:s,playback_id:o})),[t,a,i,s,o]),b=(0,r.useMemo)((()=>(0,ka.X)({track_uri:t,playback_id:o,provider:a,provider_lyrics_id:i,sync_type:s,lyrics_format:"track-page"})),[t,a,i,s,o]);return(0,r.useEffect)((()=>{p(!1),u(!1),m(0),g(!1),c.current=null}),[t]),(0,r.useEffect)((()=>{o&&(l&&u(!1),d&&p(!1))}),[o]),(0,r.useEffect)((()=>{l||(!d&&h>0&&(n?.send(b),p(!0)),h>=140&&y&&(n?.send(x),u(!0)))}),[h,d,b,l,x,n,y]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(m((e=>e+t.length)),l||null!==c.current||(c.current=setTimeout((()=>{g(!0)}),1500))),a&&(c.current&&clearTimeout(c.current),c.current=null,m(0))}),[m,l])}({trackUri:s,provider:c,providerLyricsId:l,syncType:u,eventSender:t,playbackId:a});return(0,r.useEffect)((()=>{p||h({outOfView:!0})}),[p,h]),(0,pe.jsxs)("div",{className:ba,ref:d,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:La,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)(Pa,{lyrics:n,lyricsInView:p,onObserve:h,previewCount:i})]})};function Sa(e){return{name:"SeoLyricsImpressionNonAuth",environments:["browsernonauth"],data:e}}const Ta=({data:e,eventSender:t,isBot:a,previewCount:i,trackTitle:s,trackArtists:n,uri:c})=>{const{ref:l,inView:u}=(0,xa.Wx)({threshold:0}),d=function(e){const{eventSender:t,isBot:a,provider:i,providerLyricsId:s,trackTitle:n,trackArtists:o,trackUri:c}=e,l=(0,r.useRef)(null),[u,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,y]=(0,r.useState)(0),[g,x]=(0,r.useState)(!1),b=(0,r.useMemo)((()=>Sa({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,ca.v8)("sp_t"):void 0,impression_type:"minimumCharactersSeen",lyrics_provider:i,lyrics_provider_id:s,track_title:n,track_artist:o,track_uri:c})),[a,i,s,n,o,c]),L=(0,r.useMemo)((()=>Sa({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,ca.v8)("sp_t"):void 0,impression_type:"snippet",lyrics_provider:i,lyrics_provider_id:s,track_title:n,track_artist:o,track_uri:c})),[a,i,s,n,o,c]);return(0,r.useEffect)((()=>{h(!1),d(!1),y(0),x(!1),l.current=null}),[c]),(0,r.useEffect)((()=>{u||(!p&&m>0&&(t?.send(L),h(!0)),m>=140&&g&&(t?.send(b),d(!0)))}),[m,p,L,u,b,t,g]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(y((e=>e+t.length)),u||null!==l.current||(l.current=setTimeout((()=>{x(!0)}),1500))),a&&(l.current&&clearTimeout(l.current),l.current=null,y(0))}),[y,u])}({eventSender:t,isBot:a,provider:e?.provider||"",providerLyricsId:e?.providerLyricsId||"",trackUri:c,trackArtists:n,trackTitle:s});return(0,r.useEffect)((()=>{u||d({outOfView:!0})}),[u,d]),e?(0,pe.jsxs)("div",{className:ba,ref:l,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:La,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)(Pa,{lyrics:e.lyrics,lyricsInView:u,onObserve:d,previewCount:i})]}):null};var Ba=a(99413);const Ua=({uri:e,isPlayable:t,trackArtists:a,trackTitle:i})=>{const[s,n]=(0,r.useState)(Ra),o=ga(),{data:c}=Lt({uri:e,isNotPermittedToFetchLyrics:!o,isPlayable:t}),l=(0,aa.vh)(),u=(0,r.useCallback)((()=>{window.innerWidth<=768?n(Ia):window.innerWidth>768&&s===Ia&&n(Ra)}),[s]);return(0,r.useEffect)((()=>{u()}),[u]),(0,Ba.s)(u),c&&c?.hasLyrics?(0,pe.jsx)(Ta,{data:c,eventSender:l,isBot:(0,ya.w2)(window.navigator.userAgent),previewCount:s,trackArtists:a,trackTitle:i,uri:e}):null},Va=e=>{const t=ua(e.uri);return(0,pe.jsx)(B.s,{onError:t,children:(0,pe.jsx)(Ua,{...e})})};var Fa=a(5956),Oa=a(41097);const Ma=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const[i,s]=(0,r.useState)(Ra),{data:n}=Ht({uri:e,imageForLyricsRequest:t,isPlayable:a}),o=(0,aa.vh)(),{isPaused:c,currentTrackUri:l,playbackId:u}=(0,Fa.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),Oa.a),d=!c&&l===e,p=(0,r.useCallback)((()=>{window.innerWidth<=768?s(Ia):window.innerWidth>768&&i===Ia&&s(Ra)}),[i]);return(0,r.useEffect)((()=>{p()}),[p]),(0,Ba.s)(p),n&&n?.hasLyrics?(0,pe.jsx)(Ea,{data:n,uri:e,eventSender:o,playbackId:d?u:void 0,previewCount:i}):null},Da=e=>{const t=ua(e.uri);return(0,pe.jsx)(B.s,{onError:t,children:(0,pe.jsx)(Ma,{...e})})};var qa=a(1447);const Ga="T1nqQ4HEh3heHy4RCCKa",$a="L8zjshPVgUMXyZR4FtOk",za="YMn1FWcFmOz9osBrNvhF",Wa="Inbyq3TnvKDOJtcKFTDQ",Ya="lWk5se4WETUOJwaEb8D6",Ha="i8DyQbWCmDV_8N5XGJQT",Za="t5WPFlGTY6GCd9UOFfLu",Xa="AGQ3wRyMVK1odq860qnT",Qa="ZX_r7uZgPgssaUplfpxT",Ja="qrqctaPu2XBpxsw23nPX",Ka="XnWidTagai3nQwMPxIMF";var er=a(66408),tr=a(40381),ar=a(63347),rr=a(97207);let ir=function(e){return e.SMALL="small",e.LARGE="large",e}({});const sr=e=>{const{disabled:t,images:a,LinkComponent:r,name:i,size:o,uri:c,enableI18nAdditionalPages:l}=e,u=o===ir.SMALL,d=(0,n.Zp)(),p=(0,g.o_h)(c),h=p?.type,m=x.Ru.getLocaleForURLPath(),y=(0,ar.p)({entityFeatureFlag:l,urlLocale:m,entity:h,type:"link"});return(0,pe.jsxs)("div",{className:s()($a,{[za]:t}),"data-testid":"track-artist-link-card",children:[(0,pe.jsx)(er.b,{shape:er.u.CIRCLE,images:a,size:tr.Qe.SIZE_80,title:i,type:ve.c.ARTIST}),(0,pe.jsxs)("div",{className:s()(Ya,{[Ha]:u}),children:[(0,pe.jsx)(vt.Z,{variant:"mestoBold",className:Wa,children:x.Ru.get("card.tag.artist")}),(0,pe.jsx)(r,{to:c,children:(0,pe.jsx)(vt.Z,{as:"div",dir:"ltr",className:Za,variant:"balladBold",children:i})})]}),(0,pe.jsx)("div",{onClick:()=>{const e=p?.toURL(`/${rr.CT}${m}/`);if(p){const t=y?e:p.toURLPath(!0);d(t)}},className:Xa})]})},nr=({size:e=ir.LARGE,disabled:t=!1,enableI18nRoutes:a,enableI18nAdditionalPages:i,...n})=>{const[o,c]=(0,r.useState)(!1),u=(0,r.useCallback)((()=>{c(!o)}),[o]),d=n.artists;return(0,pe.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,pe.jsx)("div",{className:Ga,children:d.map(((r,c)=>(0,pe.jsx)("div",{className:s()({[Ja]:o&&c>5,[Qa]:c>5}),children:(0,pe.jsx)(sr,{name:r.name,uri:r.uri,images:r.images,size:e,LinkComponent:n.LinkComponent,disabled:t,enableI18nRoutes:a,enableI18nAdditionalPages:i},r.id)},`${r.uri}-${c}`)))}),d.length>6&&(0,pe.jsx)(l.H,{onClick:u,className:Ka,children:(0,pe.jsx)(vt.Z,{as:"p",variant:"violaBold",children:o?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})})]})};var or=a(2830);const cr=e=>{const{albumArtists:t,columnCount:a,imageForLyricsRequest:i,isPlayable:n,uri:o,title:c}=e,l=a-2,u={"--column-count":a,"--left-column-end":l-2,"--right-column-start":l},{isAnonymous:d}=(0,Xt.d4)(oa.Ht),p=(0,Bt.n)(),{data:h,status:m}=Ht({uri:o,isNotPermittedToFetchLyrics:d,imageForLyricsRequest:i,isPlayable:n}),y=!!h?.hasLyrics&&m!==Dt.UNAVAILABLE,g=ga(),{data:b,status:L}=Lt({uri:o,isPlayable:n,isNotPermittedToFetchLyrics:!g}),v=!!b?.hasLyrics&&L!==ct.UNAVAILABLE,A=y||d&&(!g||v),k=(0,Xt.d4)(qa.M),j=(0,Xt.d4)(qa.N),_=(()=>{const e=(0,da.NC)(pa.gAe),t=(0,aa.vh)(),a=(0,te.c)(),r=(0,sa.V)();return({referrer:i,seoLyricsEnabled:s,hasLyrics:n,uri:o})=>{if(!a||!r)return;const c={category:"track_unauth_lyrics_exposure",action:"viewed",variant:e,label:"dwp",os:(0,la.f)(),context:JSON.stringify({referrer:i,seoLyricsEnabled:s,hasLyrics:n}),destination_url:o,sp_t:(0,ca.v8)("sp_t")};t.send((0,ia.r)(c))}})();(0,r.useEffect)((()=>{_({referrer:document.referrer,seoLyricsEnabled:g,hasLyrics:b?.hasLyrics??!1,uri:o})}),[_,g,v,b?.hasLyrics,o]);return(0,pe.jsxs)(r.Suspense,{fallback:null,children:[A&&(0,pe.jsx)("div",{className:s()(Ye,{[He]:a>5}),style:{...u},"data-testid":"lyrics-container",children:d?d&&g?(0,pe.jsx)(Va,{uri:o,isPlayable:n,trackArtists:t.map((e=>e.name)).join(x.Ru.getSeparator()),trackTitle:c}):(0,pe.jsx)(ta,{buttonText:x.Ru.get("sign_up"),secondaryButtonText:x.Ru.get("login"),text:x.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:or.ie,onSecondaryButtonClick:or.PW,className:"paywall"}):(0,pe.jsx)(Da,{uri:o,imageForLyricsRequest:i,isPlayable:n})}),(0,pe.jsx)("div",{className:s()(ze,{[We]:a>5&&A}),style:{...u},children:(0,pe.jsx)(nr,{artists:t,LinkComponent:je.N,disabled:!p,enableI18nRoutes:k,enableI18nAdditionalPages:j})})]})};function lr({playcount:e,durationMs:t}){return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(I.q,{children:(0,Be.f)(t)}),e&&e>0?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.J,{}),(0,pe.jsx)(I.q,{variant:"bodySmall","data-testid":"playcount",children:x.Ru.formatNumber(e)})]}):null]})}var ur=a(46719),dr=a(22691),pr=a(32485),hr=a(22987),mr=a(35714);const yr="o2TlnuNKxRO5RnB9BpHB",gr="q0Ke_aAvTcc4dO4wCHQt",xr="UlKUfS_GcROZmofuafOW",br="I5LORTI1u3A6VoUvRCBf",Lr="TS85Qkpioa31wR0p4kzT",vr="yL1DLXBc05CR_ACv_NhA",Ar="k5kRkUyoz9znqg_SGOVQ";var kr=a(54316),jr=a(61940);let _r=function(e){return e.SMALL="small",e.LARGE="large",e}({});const fr=({art:e,disabled:t=!1,LinkComponent:a,name:r,size:i=_r.SMALL,type:o,uri:c})=>{const l=e?[e]:[],u=i===_r.SMALL?(0,kr.C)(o):function(e){switch(e){case jr.s.SINGLE:return x.Ru.get("track-page.from-the-single");case jr.s.EP:return x.Ru.get("track-page.from-the-ep");case jr.s.COMPILATION:return x.Ru.get("track-page.from-the-compilation");case jr.s.ALBUM:default:return x.Ru.get("track-page.from-the-album")}}(o),d=(0,n.Zp)();return(0,pe.jsxs)("div",{className:s()(yr,{[xr]:i===_r.SMALL,[gr]:t}),children:[(0,pe.jsx)("div",{className:br,children:(0,pe.jsx)(er.b,{images:l,size:tr.Qe.SIZE_80,title:r,type:ve.c.ALBUM})}),(0,pe.jsxs)("div",{className:Lr,children:[(0,pe.jsx)(vt.Z,{variant:i===_r.SMALL?"mestoBold":"finale",children:u}),(0,pe.jsx)(a,{to:c,children:(0,pe.jsx)(vt.Z,{as:"div",className:vr,variant:"balladBold",dir:"auto",children:r})})]}),(0,pe.jsx)("div",{onClick:()=>{d((0,g.o_h)(c).toURLPath(!0))},className:Ar})]})};var Cr=a(58623),Nr=a(62290),Rr=a(38012),Ir=a(14862),wr=a(78476),Pr=a(31500);const Er=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),Sr=e=>(e||[]).map((e=>e.profile.name)),Tr=({uri:e,track:t})=>{const a=(0,Bt.n)(),i=(0,sa.V)(),n=(0,pr.W)({type:"locale",uri:e}),u=x.Ru.getLocaleForTranslation(),d=parseInt(t.playcount||"0",10),{firstArtist:p,otherArtists:h,albumOfTrack:y,duration:g,name:T}=t,B=y?.coverArt,U=y?.copyright.items,V=y?.courtesyLine,F=y?.date,O=B?.extractedColors?.colorRaw.hex,M=(B?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),D=Sr(p.items),q=Sr(h.items),G=Er(p),$=Er(h),z=[...G,...$],W=p.items[0],Y=t.albumOfTrack,H=Y?.playability?.playable,Z={artistId:W?.id,artistName:W?.profile?.name,artistUri:W?.uri},X=t.albumOfTrack?.coverArt?.sources,Q=(0,Be.h)(X||void 0,{desiredLabel:"large",desiredSize:600})??X?.[0]?.url??"",[J,K]=(0,r.useState)(!1),ee=(0,r.useCallback)((()=>{K(!J)}),[J]),te=h&&h.items.length>5,{spec:ae,logger:re}=(0,Ot.r)(m,{data:{uri:e}}),ie=t.playability.playable,{togglePlay:se,isPlaying:ne,isActive:oe}=(0,xe.P)({uri:e},{featureIdentifier:"track"}),ce=(0,r.useCallback)((()=>(0,wr.rO)({i18n:x.Ru,trackArtistsList:[...D,...q].join(x.Ru.getSeparator()),trackName:t.name,shouldLocalize:n})),[D,q,n,t.name]),le=(0,r.useCallback)(((e,t)=>{re.logInteraction(ae.headerFactory().artistLinkFactory({position:t.position,uri:t.creator.uri}).hitUiNavigate({destination:t.creator.uri}))}),[re,ae]),ue=(0,r.useCallback)((()=>{const t=(0,Ut.$I)({isPlaying:ne,isActive:oe,spec:ae.actionBarFactory().playButtonFactory(),logger:re,uri:e});se({loggingParams:t})}),[oe,ne,re,ae,se,e]),de=Y?.uri,he=(0,r.useMemo)((()=>[...p.items,...h.items].map((e=>({uri:e.uri,name:e.profile.name})))),[p.items,h.items]),me=ga();(0,ur.L)({uri:e});const ye=(0,pe.jsx)(L.P,{uri:e,albumUri:de,artists:he});return(0,pe.jsxs)("section",{"data-testid":"track-page",children:[(0,pe.jsx)(v.Q,{children:ce()}),(0,pe.jsx)(Oe.c,{artistOrShow:he.map((e=>e.name)).join(x.Ru.getSeparator()),title:T,uri:e,entityType:Oe.p.TRACK}),(0,pe.jsxs)(A.z,{backgroundColor:O,children:[(0,pe.jsxs)(_.h,{children:[(0,pe.jsx)(fe.D,{size:"medium",onClick:ue,disabled:!ie,isPlaying:ne,uri:e}),(0,pe.jsx)(b.h,{menu:ye,children:(0,pe.jsx)(f.X,{text:T,dragUri:e,dragLabel:T})})]}),(0,pe.jsx)(b.h,{menu:ye,children:(0,pe.jsx)(k.K,{dragUri:e,images:M,name:T,placeholderType:"album"})}),(0,pe.jsxs)(j.Y,{children:[(0,pe.jsx)(o.E,{variant:"bodySmallBold",children:x.Ru.get("song")}),(0,pe.jsx)(b.h,{menu:ye,children:(0,pe.jsx)(P.mm,{dragUri:e,dragLabel:T,children:T})}),(0,pe.jsxs)(C.X,{children:[(0,pe.jsx)(N.j,{creators:G,onCreatorClick:le}),Y&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.J,{}),(0,pe.jsx)(I.q,{children:(0,pe.jsx)(je.N,{to:Y.uri,children:Y.name})})]}),(0,pe.jsx)(w.J,{}),(0,pe.jsx)(R.H,{releaseDate:F}),(0,pe.jsx)(w.J,{}),(0,pe.jsx)(lr,{playcount:d,durationMs:g.totalMilliseconds})]})]})]}),(0,pe.jsx)(Mt,{uri:e,togglePlay:se,isPlaying:ne,isActive:oe,spec:(0,r.useMemo)((()=>ae.actionBarFactory()),[ae]),logger:re,backgroundColor:O,name:T,isPlayable:ie,albumUri:de,artists:he}),(0,pe.jsx)(bt,{children:(0,pe.jsxs)(Yt,{children:[(0,pe.jsxs)("div",{className:"contentSpacing",children:[(0,pe.jsx)("div",{className:Ze,children:(0,pe.jsx)(mr.E,{render:({columnCount:a})=>(0,pe.jsx)(cr,{imageForLyricsRequest:Q,albumArtists:z,columnCount:a,uri:e,isPlayable:ie,title:t.name}),rowGap:c.lT})}),(0,pe.jsx)(E.N$,{renderInVariant:pa.ssn.AboveRecommendedBasedOnThisSong,uri:e}),(0,pe.jsx)(ke,{subtitle:x.Ru.get("internal-link-recommender.based-on-this-song"),uri:t.uri,entityType:ve.c.TRACK}),(0,pe.jsx)(Te,{artistName:W.profile.name,artistUri:W.uri,headerClassName:Ke,rowClassName:Ze,topTracks:W.discography.topTracks,topTracksTransformer:Fe.fX,uri:t.uri}),(0,pe.jsx)(E.N$,{renderInVariant:pa.ssn.AbovePopularReleases,uri:e}),(0,pe.jsx)(Ue,{className:Je,releases:W?.discography?.popularReleasesAlbums,...Z}),(0,pe.jsx)(Ie,{albums:W?.discography?.albums,className:Je,...Z}),(0,pe.jsx)(Ve,{className:Je,singles:W?.discography?.singles,...Z}),h.items.length>0&&(0,pe.jsx)("div",{className:tt,children:h.items.map(((e,t)=>(0,pe.jsx)(Ue,{className:s()(et,{[rt]:t>4,[it]:J&&t>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),te&&(0,pe.jsx)(l.H,{onClick:ee,className:st,children:(0,pe.jsx)(o.E,{as:"h2",variant:"bodySmallBold",children:J?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})}),(0,pe.jsx)(S.b,{uri:e,className:Je}),(0,pe.jsx)(E.N$,{renderInVariant:pa.ssn.AboveFansAlsoLike,uri:e}),(0,pe.jsx)(Pe,{artistId:W.id,className:s()(Je,{[at]:h.items.length>0}),fansAlsoLike:W.relatedContent.relatedArtists.items,title:x.Ru.get("artist-page.fansalsolike")}),Y&&(0,pe.jsx)(fr,{art:Y.coverArt?.sources[0],disabled:!H||!a,LinkComponent:je.N,name:Y.name,type:Y.type,size:_r.LARGE,uri:Y.uri}),(0,pe.jsx)(ot,{richTrack:t})]}),(0,pe.jsx)("div",{className:"contentSpacing",children:(0,pe.jsxs)("div",{className:Xe,children:[F?.isoString&&(0,pe.jsx)(o.E,{as:"p",variant:"bodySmall",className:nt,children:(0,Pr.rh)((0,Pr.ad)(F.isoString),u,{year:"numeric",month:"long",day:"numeric"},(0,Pr.rk)(F.precision))}),(0,pe.jsx)(hr.Z,{copyrights:U||[],courtesyLine:V}),!i&&(0,pe.jsx)(Zt,{uri:e,imageForLyricsRequest:Q,isPlayable:ie}),i&&me&&(0,pe.jsx)(_t,{uri:e,isPlayable:ie})]})})]})})]})},Br=(0,r.memo)((function(){const{trackId:e=""}=(0,n.g)(),t=(0,g.Mce)(e).toURI(),a=(0,dr.J)({uri:t}),r="Track"===a.data?.trackUnion?.__typename&&a.data?.trackUnion?.visualIdentity?.squareCoverImage?.extractedColorSet?(0,Rr.V)(a.data?.trackUnion?.visualIdentity.squareCoverImage.extractedColorSet):null;return a.loading||a.error||"Track"!==a.data?.trackUnion?.__typename?(0,pe.jsx)(_e.LoadingPage,{hasError:!a.loading,errorMessage:x.Ru.get("track-page.error")}):(0,pe.jsx)(Nr.P,{surface:Cr.u.TRACK,uris:[t,a.data.trackUnion.albumOfTrack?.uri??null],children:(0,pe.jsx)(Ir.d,{dynamicColors:r,children:(0,pe.jsx)(Tr,{uri:t,track:a.data.trackUnion})})})}))},86838:(e,t,a)=>{a.d(t,{j:()=>R});var r=a(30758),i=(a(14126),a(32807),a(97500)),s=a.n(i),n=a(17369),o=a(91395),c=a(23736),l=a(29174),u=a(67125),d=a(96535),p=a(95144),h=a(54199),m=a(70719);var y=a(9640),g=a(28191),x=a(28155),b=a(71875),L=a(86070);function v(e){return e?.displayName||e?.name||""}const A=e=>{let t=null;return(0,c.ecE)(e)&&(t=(0,L.jsx)(p.t,{uri:e})),(0,c.APS)(e)&&(t=(0,L.jsx)(h.B,{uri:e})),t},k=({creator:e,onClick:t,position:a=0})=>{const i=(0,r.useCallback)((r=>{t?.(r,{position:a,creator:e})}),[e,t,a]);return(0,y.s)(e)?(0,L.jsx)(d.h,{menu:A(e.uri),children:(0,L.jsx)(n.E,{variant:"bodySmallBold",children:(0,L.jsx)(m.N,{"data-testid":"creator-link",to:e.uri,onClick:i,children:v(e)})})}):(0,L.jsx)(n.E,{variant:"bodySmall",children:v(e)})},j=({creator:e,onClick:t,isSmallIcon:a})=>{const[r,i]=l.Ru.get("playlist.header.made-for","USER").split("USER");return(0,L.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper,{[b.A.smallMadeForIcon]:a}),children:[(0,L.jsx)(o.D,{semanticColor:"textBrightAccent"}),(0,L.jsx)(n.E,{variant:"bodySmall",children:r}),(0,L.jsx)(k,{creator:e,onClick:t}),i&&(0,L.jsx)(n.E,{variant:"bodySmall",children:i})]})},_=({creator:e,onClick:t,isSmallIcon:a,prefix:r})=>(0,L.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[e.images.length>0&&(0,L.jsx)(u.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small"}),r&&(0,L.jsx)(n.E,{variant:"bodySmall",children:r}),(0,L.jsx)(k,{creator:e,onClick:t})]}),f=({creators:e,onPiledCreatorsClick:t,isSmallIcon:a})=>{const r=(0,L.jsx)("div",{className:b.A.piled,children:e.slice(0,3).map(((e,t)=>(0,L.jsx)(u.e,{label:v(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small",piled:t>0},e.uri)))});let i=l.Ru.get("playlist.header.creator-and-others",v(e[0]),e.length-1);return 2===e.length&&(i=l.Ru.get("playlist.header.creator-and-co-creator",v(e[0]),v(e[1]))),t?(0,L.jsxs)("button",{className:s()(b.A.metaDataText,b.A.creatorWrapper,b.A.creatorButton),onClick:t,children:[r,i]}):(0,L.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[r,i]})},C=({creators:e,onCreatorClick:t})=>(0,L.jsx)(L.Fragment,{children:e.map(((e,a)=>(0,L.jsxs)(r.Fragment,{children:[0!==a&&(0,L.jsx)("span",{className:b.A.divider}),(0,L.jsx)(k,{creator:e,onClick:t,position:a})]},e.id)))}),N=({creators:e,onPiledCreatorsClick:t,onCreatorClick:a,isTunaApplied:r})=>{const i=(0,x.y)(),s=i===(g.E.SMALL||i===g.E.XSMALL);if(1===e.length&&e[0]){const t=e[0];return t.isMadeFor?(0,L.jsx)(j,{creator:t,onClick:a,isSmallIcon:s}):(0,L.jsx)(_,{creator:t,onClick:a,isSmallIcon:s,prefix:r?"":void 0})}return e.length>0&&e.every((e=>(0,c.APS)(e.uri)))?(0,L.jsx)(f,{creators:e,onPiledCreatorsClick:t,isSmallIcon:s}):(0,L.jsx)(C,{creators:e,onCreatorClick:a})};function R({creators:e,onCreatorClick:t,onPiledCreatorsClick:a,isTunaApplied:i}){return(0,L.jsx)(r.Suspense,{fallback:null,children:(0,L.jsx)(N,{creators:e,onPiledCreatorsClick:a,onCreatorClick:t,isTunaApplied:i})})}}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map