"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{11936:(e,t,a)=>{a.d(t,{J:()=>n});var r=a(48692),i=a(37007);const s=Spicetify.GraphQL.Definitions["getTrack"]=new r.l("getTrack","query","26cd58ab86ebba80196c41c3d48a4324c619e9a9d7df26ecca22417e0c50c6a4",null),n=(e,t)=>(0,i.I)(s,e,t)},26586:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Br});var r=a(30758),i=a(97500),s=a.n(i),n=a(85387),o=a(39629),l=a(67380),c=a(4882);const u="music",d="5.1.0",p="default",h="16.2.6";function m(e){return new y(e)}class y{constructor(e){this._path=[{name:"desktop-track",...e.data}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}headerFactory(){return new y.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new y.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"header"}),t&&(this._parentAbsoluteLocation=t)}artistLinkFactory(t){return new e.HeaderEventFactory.ArtistLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"action_bar"}),t&&(this._parentAbsoluteLocation=t)}playButtonFactory(){return new e.ActionBarEventFactory.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.ActionBarEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextButtonFactory(){return new e.ActionBarEventFactory.ContextButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new e.ActionBarEventFactory.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){!function(e){e.ArtistLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({...a,name:"artist_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(y||(y={})),function(e){!function(e){e.PlayButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"play_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.ContextButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"context_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.DownloadButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"download_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={}));var g=a(76082),x=a(87579),b=a(42738),v=a(73693),L=a(1214),A=a(3364),j=a(1039),k=a(22923),f=a(11738),_=a(50498),C=a(24026),R=a(87476),N=a(43525),w=a(9401),P=a(86642),I=a(83332),E=a(96019),S=a(41350),T=a(57826),B=a(48692),U=a(37007);const V=Spicetify.GraphQL.Definitions["internalLinkRecommenderTrack"]=new B.l("internalLinkRecommenderTrack","query","c77098ee9d6ee8ad3eb844938722db60570d040b49f41f5ec6e7be9160a7c86b",null);var F=a(92432),O=a(8413),M=a(26527),D=a(56003),q=a(59199),G=a(18709),W=a(97959),z=a(94647),Z=a(27619),$=a(66443),Y=a(53827),H=a(65831),X=a(83713),Q=a(3668),J=a(77336),K=a(78624),ee=a(51034),te=a(44497),ae=a(48653),re=a(44089),ie=a(32639),se=a(18940),ne=a(52270),oe=a(29618);const le="Z9Dr8PkXFtlO8KnnDcxp",ce="Bm0LUMlhVIcF5qusgdUP",ue="GIyB7JDkRwjtVL6PSBbg",de="whTIka0YYAkqhqrs26Wa";var pe=a(86070);const he=r.memo((function({uri:e,name:t,imgUrl:a,artists:r,isExplicit:i,index:s,albumUri:n,contextUri:o,isPlayable:l,isMOGEFRestricted:c,totalMilliseconds:u,playcount:d,usePlayContextItem:p}){const{isActive:h,isPlaying:m,triggerPlay:y,togglePlay:g}=p({uri:e,index:s}),L=(0,ne.T)(e),{isPlayable:A,isAnyArtistBanned:j}=(0,te.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:r.map((e=>e.uri))}),{unBanArtists:k}=(0,K.M)(r.map((e=>e.uri))),f=r.map((e=>e.name)).join(x.Ru.getSeparator()),{badges:_,hasBadges:C}=(0,oe.b)({isMOGEFRestricted:c,downloadAvailability:L,isExplicit:i}),R=r.map((e=>e.name)).join(x.Ru.getSeparator()),N=(0,ee.c)();return(0,pe.jsx)(se.pZ,{value:"row",index:s,children:(0,pe.jsx)(b.h,{menu:(0,pe.jsx)(v.P,{uri:e,albumUri:n,artists:r,contextUri:o}),children:(0,pe.jsxs)(Q.w,{uri:e,contextUri:o,isPlayable:A,isAnyArtistBanned:j,handleArtistBanUndoClick:k,onTriggerPlay:(e,t)=>{y({loggingParams:t})},isActive:h,index:s,ariaRowIndex:s,dragMetadata:{name:t,createdBy:f},isExplicit:i,children:[(0,pe.jsxs)($.U,{ariaColIndex:0,children:[(0,pe.jsx)(q.u,{uri:e,src:a,onClick:(e,t)=>{g({loggingParams:t})},isLocked:!1,isPlaying:m,isActive:h,playAriaLabel:x.Ru.get("tracklist.a11y.play",t,f)}),(0,pe.jsxs)(G.l,{children:[(0,pe.jsx)(F.R,{uri:e,enabled:N,className:ue,children:(0,pe.jsx)(X.p,{titleText:t,children:t})}),C&&(0,pe.jsxs)(M.P,{children:[_.download&&(0,pe.jsx)(re._,{}),_.explicit&&(0,pe.jsx)(ae.U,{}),_.nineteen&&(0,pe.jsx)(ie.q,{className:de,size:16})]}),(0,pe.jsx)(H.p,{children:(0,pe.jsx)(O.l,{artists:r})})]})]}),(0,pe.jsx)(Y.o,{ariaColIndex:1,children:(0,pe.jsx)(z.Y,{playcount:d})}),(0,pe.jsxs)(Z.l,{ariaColIndex:2,children:[(0,pe.jsx)(J.d,{uri:e}),(0,pe.jsx)(D.P,{duration:u}),(0,pe.jsx)(W.Y,{menu:(0,pe.jsx)(v.P,{uri:e,albumUri:n,contextUri:o,artists:r}),label:x.Ru.get("more.label.track",t,R)})]})]})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));var me=a(2391),ye=a(92627),ge=a(2742),xe=a(3192),be=a(46606),ve=a(67721),Le=a(69479);const Ae=r.memo((function({subtitle:e,uri:t}){const{data:a}=(i={uri:t,limit:5},(0,U.I)(V,i,s));var i,s;const n=function(e){return(e||[]).filter((e=>(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Track"===e.__typename;var t})(e.data))).map((e=>e.data))}(a?.seoRecommendedTrack.items),c=(0,r.useMemo)((()=>n?.slice(0,Math.min(n.length,5))),[n]),u=(0,r.useCallback)((e=>({uri:"uri"in e?e.uri:""})),[]),d=(0,r.useMemo)((()=>[ge.$.TITLE_AND_ARTIST,ge.$.ALBUM,ge.$.DURATION]),[]),{usePlayContextItem:p}=(0,xe.P)({uri:"spotify:internal:recs:track-ilr",pages:[{items:n?.map((e=>({uri:e.uri,uid:null,type:Le.c.TRACK,provider:null})))}]},{featureIdentifier:"ilr"}),h=(0,r.useCallback)(((e,a)=>(0,pe.jsx)(he,{index:a,contextUri:t,uri:e.uri,name:e.name,totalMilliseconds:e.duration.totalMilliseconds,imgUrl:e.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:e.playability.playable,artists:e.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:e?.albumOfTrack?.uri||"",isExplicit:e.contentRating?.label===ve.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===ve.x7.NineteenPlus,playcount:parseInt(e.playcount||"0",10),usePlayContextItem:p},`${a}-${e.uri}`)),[t,p]);return n?.length?(0,pe.jsxs)("div",{className:le,children:[(0,pe.jsxs)("div",{className:ce,children:[(0,pe.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:x.Ru.get("playlist.extender.recommended.title")}),(0,pe.jsx)(o.E,{variant:"bodySmall",paddingBottom:l.CD,children:e})]}),(0,pe.jsx)(ye.S4,{ariaLabel:x.Ru.get("playlist.extender.recommended.title"),nrTracks:c.length,rowPlaceholder:me.qq,tracks:c,renderRow:h,resolveItem:u,columns:d},"internal-link-recommender-track-list")]}):null})),je=e=>{const{entityType:t}=e;return(0,pe.jsx)(T.s,{onError:()=>{(0,be.fE)({metric_type:S.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:t}})},children:(0,pe.jsx)(Ae,{...e})})};var ke=a(79462),fe=a(24454),_e=a(3864),Ce=a(5636),Re=a(87368),Ne=a(32411);const we=({albums:e,artistName:t,artistId:a,artistUri:r,className:i})=>e?(0,pe.jsx)(se.pZ,{value:"shelf/albums",children:(0,pe.jsx)(Re.$,{total:e.totalCount,title:x.Ru.get("rich-page.popular-albums-by-artist",{artist:t}),seeAllUri:`${(0,Ne.Dh)(a)}:discography:${ve._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,Ne.Ey)(e.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:r},e.uri)))})}):null;var Pe=a(46323);const Ie=({artistId:e,className:t,fansAlsoLike:a,title:r})=>(0,pe.jsx)(se.pZ,{value:"shelf/fans-also-like",children:(0,pe.jsx)(Re.$,{total:a.length,title:r??x.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,Ne.Dh)(e)}:related`,className:t,children:a.map(((e,t)=>(0,pe.jsx)(se.pZ,{value:"card",index:t,children:(0,pe.jsx)(Pe.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Ee=a(49247);const Se="ERm7dIKbVoqGwPb_lXPH",Te=({artistName:e,artistUri:t,headerClassName:a,rowClassName:i,topTracks:s,topTracksTransformer:n,uri:l})=>{const c=(0,r.useMemo)((()=>s?.items.map((e=>n(e,l)))),[s?.items,n,l]);return c&&c.length>0?(0,pe.jsxs)("div",{className:i,children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)(o.E,{variant:"bodySmall",className:Se,children:x.Ru.get("rich-page.popular-tracks")}),(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:a,children:e})]}),(0,pe.jsx)(Ee.z,{uri:t,nrTracks:c.length,initialTracks:c})]}):null};var Be=a(16467);const Ue=({artistName:e,artistId:t,artistUri:a,className:i,releases:s,artistImages:n})=>{const o=(0,r.useMemo)((()=>n?{title:e,pretitle:x.Ru.get("artist-page.popular"),media:(0,Be.h)(n,{desiredSize:48})||""}:null),[n,e]);return s?(0,pe.jsx)(se.pZ,{value:"shelf/releases",children:(0,pe.jsx)(Re.$,{total:10,title:x.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Ne.Dh)(t)}:discography:${ve._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,...o,children:s.items.map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))})}):null},Ve=({artistId:e,artistName:t,artistUri:a,className:r,singles:i})=>i?(0,pe.jsx)(se.pZ,{value:"shelf/singles-and-eps",children:(0,pe.jsx)(Re.$,{total:i.totalCount,title:x.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:t}),seeAllUri:`${(0,Ne.Dh)(e)}:discography:${ve._m.Single.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Ne.Ey)(i.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))})}):null;var Fe=a(45061),Oe=a(97910),Me=a(33100),De=a(74929),qe=a(32408),Ge=a(75875);function We({renderInVariant:e}){if((()=>{const e=(0,ee.c)(),t=(0,n.zy)(),a=(0,Me.NC)(De.tDl);return e?(0,qe.o)(Ge.P.PlaylistsWithThisSongControl,t)?De.ssn.Control:(0,qe.o)(Ge.P.PlaylistsWithThisSongAboveFansAlsoLike,t)?De.ssn.AboveFansAlsoLike:(0,qe.o)(Ge.P.PlaylistsWithThisSongAbovePopularReleases,t)?De.ssn.AbovePopularReleases:(0,qe.o)(Ge.P.PlaylistsWithThisSongAboveRecommendedBasedOnThisSong,t)?De.ssn.AboveRecommendedBasedOnThisSong:a:De.ssn.Default})()!==e)return null;switch(e){case De.ssn.AboveFansAlsoLike:return(0,pe.jsx)("div",{"data-testid":"pwts-afal"});case De.ssn.AbovePopularReleases:return(0,pe.jsx)("div",{"data-testid":"pwts-apr"});case De.ssn.AboveRecommendedBasedOnThisSong:return(0,pe.jsx)("div",{"data-testid":"pwts-arbots"});default:return null}}var ze=a(34358),Ze=a(33137),$e=a(39144),Ye=a(5638),He=a(24325);const Xe="VdIaMy6YRQX6cN5B7OVC",Qe="LjkmarFarmUOq0nmv9iy",Je="VHigmLQwT1FxkKEbCs4H",Ke="qX5K6LTMIuXG1gFBXzjZ",et="fsH_X6pBkexdxtu19q5k",tt="sDbr7RxY_jjg1XXq8zU5",at="MiWZGlZeQCy1tibDTql5",rt="uci6FedOoLZEL163ZR8k",it="GDA6ugyRoV7ZiqIyOU4d",st="IUBwxdZXklSkRPTZ9w_Q",nt="f7XB243E_dNMV9dkUXV6",ot="gQQC7YFmzffMUaCqbx3o",lt="QJVNM_FcLpEHhjDc_FU3",ct="Vd2oInYt1Ynz9X6KgL7o",ut="yUA20RYjsLIb7xXNRlfn",dt="MVDvKVX1aJ05U9lmHzaz",pt=({richTrack:e})=>{const{search:t}=(0,n.zy)(),a=(0,r.useCallback)((()=>new URLSearchParams(t.slice(1)).get("highlight")||""),[t])(),{tracklistRef:i}=(0,He.h)(),s=e.albumOfTrack,{playUri:o,playOptions:l}=(0,Ye.J)(s?.uri||""),{usePlayContextItem:c}=(0,xe.P)({uri:o},{featureIdentifier:"album"},l),u=(0,r.useMemo)((()=>({items:[],totalCount:0})),[]),d=(0,$e.t)();return s?(0,pe.jsx)("div",{ref:i,className:at,children:(0,pe.jsx)(ze.a,{columns:d,children:(0,pe.jsx)(Ze.F,{albumName:s.name,nrTracks:s.tracks.totalCount,albumUri:s.uri,highlightUri:a,discs:u,usePlayContextItem:c,hasHeaderRow:!1})})}):null};let ht=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});var mt=a(99983);const yt=(e,t)=>{switch(t.type){case"SEO_LYRICS_LOADING":return{...e,[t.uri]:{status:ht.LOADING}};case"SEO_LYRICS_LOADED":return{...e,[t.uri]:{status:ht.LOADED,data:t.response}};case"SEO_LYRICS_ERROR":return{...e,[t.uri]:{status:ht.UNAVAILABLE}};default:return(0,mt.d)(t,`Unhandled lyrics action with type: ${t.type}`)}};var gt=a(65748),xt=a(30187);var bt=a(67850);const vt=async({api:e,uri:t,isPlayable:a,clientId:r=""})=>{if(!a||!t||!r)return{hasLyrics:!1};try{const a=await(async(e,t,a)=>(await e.build().withHost(xt.Hj).withPath(`/seo/track/${t}`).withEndpointIdentifier("/track/{trackId}").withHeaders([{key:"x-spotify-seolyrics-clientid",value:a}]).send()).body)(e||gt.n.getInstance(),t.id,r);return{hasLyrics:!0,lyrics:a.lyrics.lines,provider:a.lyrics.provider,providerDisplayName:a.lyrics.providerDisplayName,providerLyricsId:a.lyrics.providerLyricsId,isRtlLanguage:a.lyrics.isRtlLanguage}}catch(e){if(e instanceof bt.O&&404===e.status)return{hasLyrics:!1};throw e}},Lt={status:ht.LOADING},At={status:ht.UNAVAILABLE},jt=r.createContext(void 0),kt=({children:e,initialState:t={}})=>{const a=r.useReducer(yt,t);return(0,pe.jsx)(jt.Provider,{value:a,children:e})},ft=({uri:e,isNotPermittedToFetchLyrics:t,isPlayable:a})=>{const i=r.useContext(jt);if(void 0===i)throw new Error("useSeoLyrics must be used within a SeoLyricsProvider");const[s,n]=i,o=e?s[e]:null;return(0,r.useEffect)((()=>{t||!o&&e&&(n({type:"SEO_LYRICS_LOADING",uri:e}),vt({uri:(0,g.o_h)(e)??void 0,isPlayable:a,clientId:"65b708073fc0480ea92a077233ca87bd"}).then((t=>{n({type:"SEO_LYRICS_LOADED",uri:e,response:t})})).catch((()=>{n({type:"SEO_LYRICS_ERROR",uri:e})})))}),[n,t,a,o,e]),e&&(0,g.U_m)(e)&&!t&&a?o||Lt:At};var _t=a(67064);const Ct="OH5mnpJIVCJozYM3raMt",Rt="etw0slM6uVrCi5RR3iDi",Nt=({padded:e,providerDisplayName:t})=>t?(0,pe.jsx)(_t.Z,{as:"p",dir:"auto",variant:"finale",className:`${Ct} ${e?Rt:""}`,children:x.Ru.get("web-player.lyrics.providedBy",t)}):null,wt=({uri:e,isPlayable:t})=>{const{data:a}=ft({uri:e,isPlayable:t});return a?.hasLyrics?(0,pe.jsx)(Nt,{providerDisplayName:a.providerDisplayName}):null};var Pt=a(93672),It=a(8912),Et=a(57978),St=a(86994),Tt=a(42772),Bt=a(87681),Ut=a(61570),Vt=a(1435),Ft=a(44788),Ot=a(95948),Mt=a(36962),Dt=a(29761),qt=a(71589),Gt=a(73737),Wt=a(85105);const zt=r.memo((function({uri:e,togglePlay:t,isPlaying:a,isActive:i,spec:s,logger:n,backgroundColor:o,name:l,isPlayable:c,albumUri:u,artists:d}){const p=(0,Mt.n)(),[h,m]=(0,Gt.A)(e),y=(0,Ft.d$)(),{spec:g,logger:b}=(0,Wt.r)(Pt.e,{data:{uri:e}});(0,r.useEffect)((()=>{y&&b.logImpression(g.impression())}),[y,b,g]);const L=(0,r.useCallback)((async()=>{const t=s.saveButtonFactory();n.logInteraction(h?t.hitRemoveLike({itemNoLongerLiked:e}):t.hitLike({itemToBeLiked:e})),h&&y&&b.logInteraction(g.hitAddToPlaylist({itemToBeAdded:e,playlist:qt.BP}));try{await m(!h)}catch{}}),[e,h,s,n,m,y,b,g]),A=(0,r.useCallback)((()=>{const r=(0,Dt.$I)({isPlaying:a,isActive:i,spec:s.playButtonFactory(),logger:n,uri:e});t({loggingParams:r})}),[i,a,n,s,t,e]),j=(0,r.useCallback)((()=>{n.logInteraction(s.contextButtonFactory().hitUiReveal())}),[n,s]),k=(0,Ot.j)();return(0,pe.jsx)(It.E,{backgroundColor:o,children:(0,pe.jsxs)(Et.S,{children:[(0,pe.jsx)(Vt.e,{children:(0,pe.jsx)(_e.D,{onClick:A,isPlaying:a,disabled:!c,size:k,uri:e})}),(0,pe.jsx)(Vt.e,{children:(0,pe.jsx)(St.M,{isAdded:h,onClick:L,disabled:!p,size:k,condensed:!0})}),(0,pe.jsx)(Tt.f,{uri:e,isFollowing:h,onFollow:L,size:k,condensed:!0,onClick:(t,a)=>(0,Dt.Qv)(a,s.downloadButtonFactory(),n,e)}),(0,pe.jsx)(Ut.b,{menu:(0,pe.jsx)(v.P,{uri:e,albumUri:u,artists:d}),onShow:j,children:(0,pe.jsx)(Bt.e,{label:x.Ru.get("more.label.context",l),size:k})})]})})}));let Zt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const $t=(e,t)=>{switch(t.type){case"LYRICS_LOADING":return{...e,[t.uri]:{status:Zt.LOADING}};case"LYRICS_LOADED":return{...e,[t.uri]:{status:Zt.LOADED,data:t.response}};case"LYRICS_ERROR":return{...e,[t.uri]:{status:Zt.UNAVAILABLE}};default:return(0,mt.d)(t,`Unhandled lyrics action with type: ${t.type}`)}},Yt=async({trackUri:e,api:t,imageForLyricsRequest:a,isPlayable:r})=>{if(!r)return{hasLyrics:!1};const i=(0,g.o_h)(e);try{const e=await(async(e,t,a)=>(await e.build().withHost(xt.Hj).withPath(`/track/${encodeURIComponent(t)}/image/${encodeURIComponent(a)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(t||gt.n.getInstance(),i.id,a||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof bt.O&&404===e.status)return{hasLyrics:!1};throw e}},Ht={status:Zt.LOADING},Xt={status:Zt.UNAVAILABLE},Qt=r.createContext(void 0),Jt=({children:e,initialState:t={}})=>{const a=r.useReducer($t,t);return(0,pe.jsx)(Qt.Provider,{value:a,children:e})},Kt=({uri:e,isNotPermittedToFetchLyrics:t,imageForLyricsRequest:a,isPlayable:i})=>{const s=r.useContext(Qt);if(void 0===s)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,o]=s,l=e?n[e]:null;return(0,r.useEffect)((()=>{t||!l&&e&&(o({type:"LYRICS_LOADING",uri:e}),Yt({trackUri:e,imageForLyricsRequest:a,isPlayable:i}).then((t=>{o({type:"LYRICS_LOADED",uri:e,response:t})})).catch((()=>{o({type:"LYRICS_ERROR",uri:e})})))}),[o,a,t,i,l,e]),e&&(0,g.U_m)(e)&&!t&&i?l||Ht:Xt},ea=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const{data:r}=Kt({uri:e,imageForLyricsRequest:t,isPlayable:a});return r?.hasLyrics?(0,pe.jsx)(Nt,{providerDisplayName:r.providerDisplayName}):null};var ta=a(62411),aa=a(60992);const ra="QhDsXG1Gmo7XmQWLggAO",ia="bZgWQj7UxvK8GYKWDA7N",sa="AW61P3tnW5cKJCWtbhFh",na=({buttonText:e,className:t,onSecondaryButtonClick:a,onPrimaryButtonClick:r,secondaryButtonText:i,text:n})=>(0,pe.jsxs)("div",{className:s()(ra,t),"data-testid":"static-activation-trigger",children:[(0,pe.jsx)(o.E,{className:ia,variant:"bodyMediumBold",semanticColor:"textBase",children:n}),(0,pe.jsxs)("div",{className:sa,children:[(0,pe.jsx)(c.H,{onClick:a,semanticColor:"textBase",children:i}),(0,pe.jsx)(aa.$,{onClick:r,colorSet:"invertedLight",children:e})]})]});var oa=a(30767),la=a(76358),ca=a(76541),ua=a(97304),da=a(29915),pa=a(15817),ha=a(33091),ma=a(25368);const ya=e=>{const t=(0,oa.vh)(),a=(0,ta.d4)(pa.F6),r=(0,ta.d4)(da.JJ),i=(0,ta.d4)(pa.oo),s=(0,ua.V)();return()=>{(0,be.fE)({metric_type:S.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const n={category:"lyrics_render_error",label:"dwp",os:(0,ma.f)(),context:JSON.stringify({uri:e,product:i}),country:a?r:"",sp_t:(0,ha.v8)("sp_t")},o=s?ca.r:la._;t.send(o(n))}};a(51670);var ga=a(4949);const xa=()=>{const e=(0,ee.c)(),t=(0,n.zy)(),{trackId:a=""}=(0,n.g)(),r=(0,qe.o)(Ge.P.SeoLyricsReferrer,t),i=(0,ga.sp)(document.referrer)||r,s=(0,qe.o)(Ge.P.SeoLyrics,t),o=(0,Me.NC)(De.gAe)===De.vh7.Enabled,l=atob((0,ha.v8)("x-unauth-referred")||"");return!((0,ga.w2)(window.navigator.userAgent)||!e||!i||l!==a)&&(s||o)};var ba=a(8335);const va="EaTxqhHk6J4ecKHwpY5m",La="dUQl9yd5x_1oWk4L0Ntm",Aa="xt5C47eHPYNiriMJxGnC";var ja=a(97504),ka=a(90131);const fa=({words:e,onObserve:t,lyricsInView:a,...i})=>{const{ref:s,inView:n}=(0,ba.Wx)({threshold:1}),l=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{a||(l.current=!1)}),[a]),(0,r.useEffect)((()=>{l.current||n&&(t({text:e,outOfView:!1}),l.current=!0)}),[n,t,e]),(0,pe.jsx)(o.E,{ref:s,as:"p",dir:"auto",variant:"bodyMedium",className:Aa,"data-testid":i["data-testid"],children:e})},_a="q1JbsdMqX7OImgIFWa6J",Ca="hAGejMh7SncdbJ5wcfUi",Ra="IaG9Zc3xGxeYjsn73RAz",Na="zgSEYVU2gMYxihFVEJPn",wa=420,Pa=280,Ia="expandable-lyrics-container";const Ea=({lyrics:e,lyricsInView:t,onObserve:a,previewCount:i})=>{const[n,l]=(0,r.useState)(!1),{visibleLyrics:c,collapsibleLyrics:u}=function(e,t){let a=0,r=-1;const i=e.filter((e=>!!e.words));for(const[e,s]of i.entries())if(a+=s.words.length,a>t){r=e;break}if(r>-1)return{visibleLyrics:i.slice(0,r),collapsibleLyrics:i.slice(r)};return{visibleLyrics:i,collapsibleLyrics:[]}}(e,i),d=u.length>0,p=n?x.Ru.get("show_less"):`…${x.Ru.get("show_more")}`;return(0,pe.jsxs)(pe.Fragment,{children:[c.map((({words:e},r)=>(0,pe.jsx)(fa,{onObserve:a,words:e,lyricsInView:t,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${r}`))),(0,pe.jsx)("span",{"aria-hidden":!n,className:s()(Ra,{[Na]:n}),children:u.map((({words:e},r)=>(0,pe.jsx)(fa,{onObserve:n?a:()=>{},words:e,lyricsInView:n&&t},`lyrics-seo-line-${r}`)))}),d&&(0,pe.jsx)("button",{className:_a,onClick:()=>{l(!n)},"aria-controls":Ia,"aria-owns":Ia,"aria-label":p,children:(0,pe.jsx)(o.E,{variant:"bodyMediumBold",className:Ca,children:p})})]})},Sa=({data:e,eventSender:t,playbackId:a,previewCount:i,uri:s})=>{const{lyrics:n=[],provider:l,providerLyricsId:c,syncType:u}=e,{ref:d,inView:p}=(0,ba.Wx)({threshold:0}),h=function(e){const{trackUri:t,provider:a,providerLyricsId:i,syncType:s,eventSender:n,playbackId:o}=e,l=(0,r.useRef)(null),[c,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(0),[y,g]=(0,r.useState)(!1),x=(0,r.useMemo)((()=>(0,ja.W)({lyrics_format:"track-page",track_uri:t,provider:a,provider_lyrics_id:i,sync_type:s,playback_id:o})),[t,a,i,s,o]),b=(0,r.useMemo)((()=>(0,ka.X)({track_uri:t,playback_id:o,provider:a,provider_lyrics_id:i,sync_type:s,lyrics_format:"track-page"})),[t,a,i,s,o]);return(0,r.useEffect)((()=>{p(!1),u(!1),m(0),g(!1),l.current=null}),[t]),(0,r.useEffect)((()=>{o&&(c&&u(!1),d&&p(!1))}),[o]),(0,r.useEffect)((()=>{c||(!d&&h>0&&(n?.send(b),p(!0)),h>=140&&y&&(n?.send(x),u(!0)))}),[h,d,b,c,x,n,y]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(m((e=>e+t.length)),c||null!==l.current||(l.current=setTimeout((()=>{g(!0)}),1500))),a&&(l.current&&clearTimeout(l.current),l.current=null,m(0))}),[m,c])}({trackUri:s,provider:l,providerLyricsId:c,syncType:u,eventSender:t,playbackId:a});return(0,r.useEffect)((()=>{p||h({outOfView:!0})}),[p,h]),(0,pe.jsxs)("div",{className:va,ref:d,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:La,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)(Ea,{lyrics:n,lyricsInView:p,onObserve:h,previewCount:i})]})};function Ta(e){return{name:"SeoLyricsImpressionNonAuth",environments:["browsernonauth"],data:e}}const Ba=({data:e,eventSender:t,isBot:a,previewCount:i,trackTitle:s,trackArtists:n,uri:l})=>{const{ref:c,inView:u}=(0,ba.Wx)({threshold:0}),d=function(e){const{eventSender:t,isBot:a,provider:i,providerLyricsId:s,trackTitle:n,trackArtists:o,trackUri:l}=e,c=(0,r.useRef)(null),[u,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,y]=(0,r.useState)(0),[g,x]=(0,r.useState)(!1),b=(0,r.useMemo)((()=>Ta({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,ha.v8)("sp_t"):void 0,impression_type:"minimumCharactersSeen",lyrics_provider:i,lyrics_provider_id:s,track_title:n,track_artist:o,track_uri:l})),[a,i,s,n,o,l]),v=(0,r.useMemo)((()=>Ta({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,ha.v8)("sp_t"):void 0,impression_type:"snippet",lyrics_provider:i,lyrics_provider_id:s,track_title:n,track_artist:o,track_uri:l})),[a,i,s,n,o,l]);return(0,r.useEffect)((()=>{h(!1),d(!1),y(0),x(!1),c.current=null}),[l]),(0,r.useEffect)((()=>{u||(!p&&m>0&&(t?.send(v),h(!0)),m>=140&&g&&(t?.send(b),d(!0)))}),[m,p,v,u,b,t,g]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(y((e=>e+t.length)),u||null!==c.current||(c.current=setTimeout((()=>{x(!0)}),1500))),a&&(c.current&&clearTimeout(c.current),c.current=null,y(0))}),[y,u])}({eventSender:t,isBot:a,provider:e?.provider||"",providerLyricsId:e?.providerLyricsId||"",trackUri:l,trackArtists:n,trackTitle:s});return(0,r.useEffect)((()=>{u||d({outOfView:!0})}),[u,d]),e?(0,pe.jsxs)("div",{className:va,ref:c,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:La,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)(Ea,{lyrics:e.lyrics,lyricsInView:u,onObserve:d,previewCount:i})]}):null};var Ua=a(25666);const Va=({uri:e,isPlayable:t,trackArtists:a,trackTitle:i})=>{const[s,n]=(0,r.useState)(wa),o=xa(),{data:l}=ft({uri:e,isNotPermittedToFetchLyrics:!o,isPlayable:t}),c=(0,oa.vh)(),u=(0,r.useCallback)((()=>{window.innerWidth<=768?n(Pa):window.innerWidth>768&&s===Pa&&n(wa)}),[s]);return(0,r.useEffect)((()=>{u()}),[u]),(0,Ua.s)(u),l&&l?.hasLyrics?(0,pe.jsx)(Ba,{data:l,eventSender:c,isBot:(0,ga.w2)(window.navigator.userAgent),previewCount:s,trackArtists:a,trackTitle:i,uri:e}):null},Fa=e=>{const t=ya(e.uri);return(0,pe.jsx)(T.s,{onError:t,children:(0,pe.jsx)(Va,{...e})})};var Oa=a(26945),Ma=a(41678);const Da=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const[i,s]=(0,r.useState)(wa),{data:n}=Kt({uri:e,imageForLyricsRequest:t,isPlayable:a}),o=(0,oa.vh)(),{isPaused:l,currentTrackUri:c,playbackId:u}=(0,Oa.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),Ma.a),d=!l&&c===e,p=(0,r.useCallback)((()=>{window.innerWidth<=768?s(Pa):window.innerWidth>768&&i===Pa&&s(wa)}),[i]);return(0,r.useEffect)((()=>{p()}),[p]),(0,Ua.s)(p),n&&n?.hasLyrics?(0,pe.jsx)(Sa,{data:n,uri:e,eventSender:o,playbackId:d?u:void 0,previewCount:i}):null},qa=e=>{const t=ya(e.uri);return(0,pe.jsx)(T.s,{onError:t,children:(0,pe.jsx)(Da,{...e})})};var Ga=a(49080);const Wa="T1nqQ4HEh3heHy4RCCKa",za="L8zjshPVgUMXyZR4FtOk",Za="YMn1FWcFmOz9osBrNvhF",$a="Inbyq3TnvKDOJtcKFTDQ",Ya="lWk5se4WETUOJwaEb8D6",Ha="i8DyQbWCmDV_8N5XGJQT",Xa="t5WPFlGTY6GCd9UOFfLu",Qa="AGQ3wRyMVK1odq860qnT",Ja="ZX_r7uZgPgssaUplfpxT",Ka="qrqctaPu2XBpxsw23nPX",er="XnWidTagai3nQwMPxIMF";var tr=a(8065),ar=a(15652),rr=a(78684),ir=a(77170);let sr=function(e){return e.SMALL="small",e.LARGE="large",e}({});const nr=e=>{const{disabled:t,images:a,LinkComponent:r,name:i,size:o,uri:l,enableI18nAdditionalPages:c}=e,u=o===sr.SMALL,d=(0,n.Zp)(),p=(0,g.o_h)(l),h=p?.type,m=x.Ru.getLocaleForURLPath(),y=(0,rr.p)({entityFeatureFlag:c,urlLocale:m,entity:h,type:"link"});return(0,pe.jsxs)("div",{className:s()(za,{[Za]:t}),"data-testid":"track-artist-link-card",children:[(0,pe.jsx)(tr.b,{shape:tr.u.CIRCLE,images:a,size:ar.Qe.SIZE_80,title:i,type:Le.c.ARTIST}),(0,pe.jsxs)("div",{className:s()(Ya,{[Ha]:u}),children:[(0,pe.jsx)(_t.Z,{variant:"mestoBold",className:$a,children:x.Ru.get("card.tag.artist")}),(0,pe.jsx)(r,{to:l,children:(0,pe.jsx)(_t.Z,{as:"div",dir:"ltr",className:Xa,variant:"balladBold",children:i})})]}),(0,pe.jsx)("div",{onClick:()=>{const e=p?.toURL(`/${ir.CT}${m}/`);if(p){const t=y?e:p.toURLPath(!0);d(t)}},className:Qa})]})},or=({size:e=sr.LARGE,disabled:t=!1,enableI18nRoutes:a,enableI18nAdditionalPages:i,...n})=>{const[o,l]=(0,r.useState)(!1),u=(0,r.useCallback)((()=>{l(!o)}),[o]),d=n.artists;return(0,pe.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,pe.jsx)("div",{className:Wa,children:d.map(((r,l)=>(0,pe.jsx)("div",{className:s()({[Ka]:o&&l>5,[Ja]:l>5}),children:(0,pe.jsx)(nr,{name:r.name,uri:r.uri,images:r.images,size:e,LinkComponent:n.LinkComponent,disabled:t,enableI18nRoutes:a,enableI18nAdditionalPages:i},r.id)},`${r.uri}-${l}`)))}),d.length>6&&(0,pe.jsx)(c.H,{onClick:u,className:er,children:(0,pe.jsx)(_t.Z,{as:"p",variant:"violaBold",children:o?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})})]})};var lr=a(3128);const cr=e=>{const{albumArtists:t,columnCount:a,imageForLyricsRequest:i,isPlayable:n,uri:o,title:l}=e,c=a-2,u={"--column-count":a,"--left-column-end":c-2,"--right-column-start":c},{isAnonymous:d}=(0,ta.d4)(pa.Ht),p=(0,Mt.n)(),{data:h,status:m}=Kt({uri:o,isNotPermittedToFetchLyrics:d,imageForLyricsRequest:i,isPlayable:n}),y=!!h?.hasLyrics&&m!==Zt.UNAVAILABLE,g=xa(),{data:b,status:v}=ft({uri:o,isPlayable:n,isNotPermittedToFetchLyrics:!g}),L=!!b?.hasLyrics&&v!==ht.UNAVAILABLE,A=y||d&&(!g||L),j=(0,ta.d4)(Ga.M),k=(0,ta.d4)(Ga.N),f=(()=>{const e=(0,Me.NC)(De.gAe),t=(0,oa.vh)(),a=(0,ee.c)(),r=(0,ua.V)();return(i,s)=>{if(!a||!r)return;const n={category:"track_unauth_lyrics_exposure",action:"viewed",variant:e,label:"dwp",os:(0,ma.f)(),context:JSON.stringify({referrer:i,seoLyricsEnabled:s}),sp_t:(0,ha.v8)("sp_t")};t.send((0,ca.r)(n))}})();(0,r.useEffect)((()=>{f(document.referrer,g)}),[f,g]);return(0,pe.jsxs)(r.Suspense,{fallback:null,children:[A&&(0,pe.jsx)("div",{className:s()(Je,{[Ke]:a>5}),style:{...u},"data-testid":"lyrics-container",children:d?d&&g?(0,pe.jsx)(Fa,{uri:o,isPlayable:n,trackArtists:t.map((e=>e.name)).join(x.Ru.getSeparator()),trackTitle:l}):(0,pe.jsx)(na,{buttonText:x.Ru.get("sign_up"),secondaryButtonText:x.Ru.get("login"),text:x.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:lr.ie,onSecondaryButtonClick:lr.PW,className:"paywall"}):(0,pe.jsx)(qa,{uri:o,imageForLyricsRequest:i,isPlayable:n})}),(0,pe.jsx)("div",{className:s()(Xe,{[Qe]:a>5&&A}),style:{...u},children:(0,pe.jsx)(or,{artists:t,LinkComponent:ke.N,disabled:!p,enableI18nRoutes:j,enableI18nAdditionalPages:k})})]})};function ur({playcount:e,durationMs:t}){return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.q,{children:(0,Be.f)(t)}),e&&e>0?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(P.J,{}),(0,pe.jsx)(w.q,{variant:"bodySmall","data-testid":"playcount",children:x.Ru.formatNumber(e)})]}):null]})}var dr=a(11936),pr=a(18257),hr=a(43375),mr=a(35556);const yr="o2TlnuNKxRO5RnB9BpHB",gr="q0Ke_aAvTcc4dO4wCHQt",xr="UlKUfS_GcROZmofuafOW",br="I5LORTI1u3A6VoUvRCBf",vr="TS85Qkpioa31wR0p4kzT",Lr="yL1DLXBc05CR_ACv_NhA",Ar="k5kRkUyoz9znqg_SGOVQ";var jr=a(22391),kr=a(48253);let fr=function(e){return e.SMALL="small",e.LARGE="large",e}({});const _r=({art:e,disabled:t=!1,LinkComponent:a,name:r,size:i=fr.SMALL,type:o,uri:l})=>{const c=e?[e]:[],u=i===fr.SMALL?(0,jr.C)(o):function(e){switch(e){case kr.s.SINGLE:return x.Ru.get("track-page.from-the-single");case kr.s.EP:return x.Ru.get("track-page.from-the-ep");case kr.s.COMPILATION:return x.Ru.get("track-page.from-the-compilation");case kr.s.ALBUM:default:return x.Ru.get("track-page.from-the-album")}}(o),d=(0,n.Zp)();return(0,pe.jsxs)("div",{className:s()(yr,{[xr]:i===fr.SMALL,[gr]:t}),children:[(0,pe.jsx)("div",{className:br,children:(0,pe.jsx)(tr.b,{images:c,size:ar.Qe.SIZE_80,title:r,type:Le.c.ALBUM})}),(0,pe.jsxs)("div",{className:vr,children:[(0,pe.jsx)(_t.Z,{variant:i===fr.SMALL?"mestoBold":"finale",children:u}),(0,pe.jsx)(a,{to:l,children:(0,pe.jsx)(_t.Z,{as:"div",className:Lr,variant:"balladBold",dir:"auto",children:r})})]}),(0,pe.jsx)("div",{onClick:()=>{d((0,g.o_h)(l).toURLPath(!0))},className:Ar})]})};var Cr=a(56616),Rr=a(11643),Nr=a(1983),wr=a(4437),Pr=a(86779),Ir=a(61469);const Er=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),Sr=e=>(e||[]).map((e=>e.profile.name)),Tr=({uri:e,track:t})=>{const a=(0,Mt.n)(),i=(0,ua.V)(),n=(0,pr.W)({type:"locale",uri:e}),u=x.Ru.getLocaleForTranslation(),d=parseInt(t.playcount||"0",10),{firstArtist:p,otherArtists:h,albumOfTrack:y,duration:g,name:S}=t,T=y?.coverArt,B=y?.copyright.items,U=y?.courtesyLine,V=y?.date,F=T?.extractedColors?.colorRaw.hex,O=(T?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),M=Sr(p.items),D=Sr(h.items),q=Er(p),G=Er(h),W=[...q,...G],z=p.items[0],Z=t.albumOfTrack,$=Z?.playability?.playable,Y={artistId:z?.id,artistName:z?.profile?.name,artistUri:z?.uri},H=t.albumOfTrack?.coverArt?.sources,X=(0,Be.h)(H||void 0,{desiredLabel:"large",desiredSize:600})??H?.[0]?.url??"",[Q,J]=(0,r.useState)(!1),K=(0,r.useCallback)((()=>{J(!Q)}),[Q]),ee=h&&h.items.length>5,{spec:te,logger:ae}=(0,Wt.r)(m,{data:{uri:e}}),re=t.playability.playable,{togglePlay:ie,isPlaying:se,isActive:ne}=(0,xe.P)({uri:e},{featureIdentifier:"track"}),oe=(0,r.useCallback)((()=>(0,Pr.rO)({i18n:x.Ru,trackArtistsList:[...M,...D].join(x.Ru.getSeparator()),trackName:t.name,shouldLocalize:n})),[M,D,n,t.name]),le=(0,r.useCallback)(((e,t)=>{ae.logInteraction(te.headerFactory().artistLinkFactory({position:t.position,uri:t.creator.uri}).hitUiNavigate({destination:t.creator.uri}))}),[ae,te]),ce=(0,r.useCallback)((()=>{const t=(0,Dt.$I)({isPlaying:se,isActive:ne,spec:te.actionBarFactory().playButtonFactory(),logger:ae,uri:e});ie({loggingParams:t})}),[ne,se,ae,te,ie,e]),ue=Z?.uri,de=(0,r.useMemo)((()=>[...p.items,...h.items].map((e=>({uri:e.uri,name:e.profile.name})))),[p.items,h.items]),he=xa(),me=(0,pe.jsx)(v.P,{uri:e,albumUri:ue,artists:de});return(0,pe.jsxs)("section",{"data-testid":"track-page",children:[(0,pe.jsx)(L.Q,{children:oe()}),(0,pe.jsx)(Oe.c,{artistOrShow:de.map((e=>e.name)).join(x.Ru.getSeparator()),title:S,uri:e,entityType:Oe.p.TRACK}),(0,pe.jsxs)(A.z,{backgroundColor:F,children:[(0,pe.jsxs)(f.h,{children:[(0,pe.jsx)(_e.D,{size:"medium",onClick:ce,disabled:!re,isPlaying:se,uri:e}),(0,pe.jsx)(b.h,{menu:me,children:(0,pe.jsx)(_.X,{text:S,dragUri:e,dragLabel:S})})]}),(0,pe.jsx)(b.h,{menu:me,children:(0,pe.jsx)(j.K,{dragUri:e,images:O,name:S,placeholderType:"album"})}),(0,pe.jsxs)(k.Y,{children:[(0,pe.jsx)(o.E,{variant:"bodySmallBold",children:x.Ru.get("song")}),(0,pe.jsx)(b.h,{menu:me,children:(0,pe.jsx)(I.mm,{dragUri:e,dragLabel:S,children:S})}),(0,pe.jsxs)(C.X,{children:[(0,pe.jsx)(R.j,{creators:q,onCreatorClick:le}),Z&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(P.J,{}),(0,pe.jsx)(w.q,{children:(0,pe.jsx)(ke.N,{to:Z.uri,children:Z.name})})]}),(0,pe.jsx)(P.J,{}),(0,pe.jsx)(N.H,{releaseDate:V}),(0,pe.jsx)(P.J,{}),(0,pe.jsx)(ur,{playcount:d,durationMs:g.totalMilliseconds})]})]})]}),(0,pe.jsx)(zt,{uri:e,togglePlay:ie,isPlaying:se,isActive:ne,spec:(0,r.useMemo)((()=>te.actionBarFactory()),[te]),logger:ae,backgroundColor:F,name:S,isPlayable:re,albumUri:ue,artists:de}),(0,pe.jsx)(kt,{children:(0,pe.jsxs)(Jt,{children:[(0,pe.jsxs)("div",{className:"contentSpacing",children:[(0,pe.jsx)("div",{className:et,children:(0,pe.jsx)(mr.E,{render:({columnCount:a})=>(0,pe.jsx)(cr,{imageForLyricsRequest:X,albumArtists:W,columnCount:a,uri:e,isPlayable:re,title:t.name}),rowGap:l.lT})}),(0,pe.jsx)(We,{renderInVariant:De.ssn.AboveRecommendedBasedOnThisSong}),(0,pe.jsx)(je,{subtitle:x.Ru.get("internal-link-recommender.based-on-this-song"),uri:t.uri,entityType:Le.c.TRACK}),(0,pe.jsx)(Te,{artistName:z.profile.name,artistUri:z.uri,headerClassName:it,rowClassName:et,topTracks:z.discography.topTracks,topTracksTransformer:Fe.fX,uri:t.uri}),(0,pe.jsx)(We,{renderInVariant:De.ssn.AbovePopularReleases}),(0,pe.jsx)(Ue,{className:rt,releases:z?.discography?.popularReleasesAlbums,...Y}),(0,pe.jsx)(we,{albums:z?.discography?.albums,className:rt,...Y}),(0,pe.jsx)(Ve,{className:rt,singles:z?.discography?.singles,...Y}),h.items.length>0&&(0,pe.jsx)("div",{className:nt,children:h.items.map(((e,t)=>(0,pe.jsx)(Ue,{className:s()(st,{[lt]:t>4,[ct]:Q&&t>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),ee&&(0,pe.jsx)(c.H,{onClick:K,className:ut,children:(0,pe.jsx)(o.E,{as:"h2",variant:"bodySmallBold",children:Q?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})}),(0,pe.jsx)(E.b,{uri:e,className:rt}),(0,pe.jsx)(We,{renderInVariant:De.ssn.AboveFansAlsoLike}),(0,pe.jsx)(Ie,{artistId:z.id,className:s()(rt,{[ot]:h.items.length>0}),fansAlsoLike:z.relatedContent.relatedArtists.items,title:x.Ru.get("artist-page.fansalsolike")}),Z&&(0,pe.jsx)(_r,{art:Z.coverArt?.sources[0],disabled:!$||!a,LinkComponent:ke.N,name:Z.name,type:Z.type,size:fr.LARGE,uri:Z.uri}),(0,pe.jsx)(pt,{richTrack:t})]}),(0,pe.jsx)("div",{className:"contentSpacing",children:(0,pe.jsxs)("div",{className:tt,children:[V?.isoString&&(0,pe.jsx)(o.E,{as:"p",variant:"bodySmall",className:dt,children:(0,Ir.rh)((0,Ir.ad)(V.isoString),u,{year:"numeric",month:"long",day:"numeric"},(0,Ir.rk)(V.precision))}),(0,pe.jsx)(hr.Z,{copyrights:B||[],courtesyLine:U}),!i&&(0,pe.jsx)(ea,{uri:e,imageForLyricsRequest:X,isPlayable:re}),i&&he&&(0,pe.jsx)(wt,{uri:e,isPlayable:re})]})})]})})]})},Br=(0,r.memo)((function(){const{trackId:e=""}=(0,n.g)(),t=(0,g.Mce)(e).toURI(),a=(0,dr.J)({uri:t}),r="Track"===a.data?.trackUnion?.__typename&&a.data?.trackUnion?.visualIdentity?.squareCoverImage?.extractedColorSet?(0,Nr.V)(a.data?.trackUnion?.visualIdentity.squareCoverImage.extractedColorSet):null;return a.loading||a.error||"Track"!==a.data?.trackUnion?.__typename?(0,pe.jsx)(fe.LoadingPage,{hasError:!a.loading,errorMessage:x.Ru.get("track-page.error")}):(0,pe.jsx)(Rr.P,{surface:Cr.u.TRACK,uris:[t,a.data.trackUnion.albumOfTrack?.uri??null],children:(0,pe.jsx)(wr.d,{dynamicColors:r,children:(0,pe.jsx)(Tr,{uri:t,track:a.data.trackUnion})})})}))},43375:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(67064);const i="rTMkDBDp47Eo12ZEQv4U";var s=a(86070);const n=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{if(e.untyped)return(0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${a}`},t)}));return t&&a.unshift((0,s.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,s.jsx)("div",{className:i,children:a})}},59199:(e,t,a)=>{a.d(t,{u:()=>h});var r=a(97500),i=a.n(r),s=a(40638),n=a(66796),o=a(32575),l=a(1997),c=a(15407),u=a(97485),d=a(41343),p=a(86070);const h=({uri:e,src:t,playAriaLabel:a,onClick:r,isPlaying:h,isActive:m,isLocked:y,isEpisode:g,isVideo:x,spec:b})=>{const v=(0,l.W)(),L=(0,u.s)(),A=(0,s.YQ)((t=>{let a;if(v({type:"click",intent:h?"pause":"play"}),b){const t=b.playbackButtonFactory();let r;r=m&&h?t.hitPause({itemToBePaused:e}):m&&!h?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),a=L.logInteraction(r)}r(t,a)}),c.d,{leading:!0,trailing:!1});return(0,p.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,p.jsx)(o.e,{src:t,isEpisode:g,isVideo:x}),(0,p.jsx)(n.x,{className:i()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:A,isPlaying:h,isLocked:y,playAriaLabel:a})]})}},87476:(e,t,a)=>{a.d(t,{j:()=>N});var r=a(30758),i=a(97500),s=a.n(i),n=a(39629),o=a(9239),l=a(76082),c=a(87579),u=a(62165),d=a(42738),p=a(85165),h=a(58721),m=a(79462);var y=a(13957),g=a(35524),x=a(64254),b=a(44383),v=a(86070);function L(e){return e.displayName||e.name||""}const A=e=>{let t=null;return(0,l.ecE)(e)&&(t=(0,v.jsx)(p.t,{uri:e})),(0,l.APS)(e)&&(t=(0,v.jsx)(h.B,{uri:e})),t},j=({creator:e,onClick:t,position:a=0})=>{const i=(0,r.useCallback)((r=>{t?.(r,{position:a,creator:e})}),[e,t,a]);return(0,y.s)(e)?(0,v.jsx)(d.h,{menu:A(e.uri),children:(0,v.jsx)(n.E,{variant:"bodySmallBold",children:(0,v.jsx)(m.N,{"data-testid":"creator-link",to:e.uri,onClick:i,children:L(e)})})}):(0,v.jsx)(n.E,{variant:"bodySmall",children:L(e)})},k=({creator:e,onClick:t,isSmallIcon:a})=>{const[r,i]=c.Ru.get("playlist.header.made-for","USER").split("USER");return(0,v.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper,{[b.A.smallMadeForIcon]:a}),children:[(0,v.jsx)(o.D,{semanticColor:"textBrightAccent"}),(0,v.jsx)(n.E,{variant:"bodySmall",children:r}),(0,v.jsx)(j,{creator:e,onClick:t}),i&&(0,v.jsx)(n.E,{variant:"bodySmall",children:i})]})},f=({creator:e,onClick:t,isSmallIcon:a,prefix:r})=>(0,v.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[e.images.length>0&&(0,v.jsx)(u.e,{label:L(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small"}),r&&(0,v.jsx)(n.E,{variant:"bodySmall",children:r}),(0,v.jsx)(j,{creator:e,onClick:t})]}),_=({creators:e,onPiledCreatorsClick:t,isSmallIcon:a})=>{const r=(0,v.jsx)("div",{className:b.A.piled,children:e.slice(0,3).map(((e,t)=>(0,v.jsx)(u.e,{label:L(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small",piled:t>0},e.uri)))});let i=c.Ru.get("playlist.header.creator-and-others",L(e[0]),e.length-1);return 2===e.length&&(i=c.Ru.get("playlist.header.creator-and-co-creator",L(e[0]),L(e[1]))),t?(0,v.jsxs)("button",{className:s()(b.A.metaDataText,b.A.creatorWrapper,b.A.creatorButton),onClick:t,children:[r,i]}):(0,v.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[r,i]})},C=({creators:e,onCreatorClick:t})=>(0,v.jsx)(v.Fragment,{children:e.map(((e,a)=>(0,v.jsxs)(r.Fragment,{children:[0!==a&&(0,v.jsx)("span",{className:b.A.divider}),(0,v.jsx)(j,{creator:e,onClick:t,position:a})]},e.id)))}),R=({creators:e,onPiledCreatorsClick:t,onCreatorClick:a,isTunaApplied:r})=>{const i=(0,x.y)(),s=i===(g.E.SMALL||i===g.E.XSMALL);if(1===e.length){const[t]=e;return t.isMadeFor?(0,v.jsx)(k,{creator:t,onClick:a,isSmallIcon:s}):(0,v.jsx)(f,{creator:t,onClick:a,isSmallIcon:s,prefix:r?"":void 0})}return e.length>0&&e.every((e=>(0,l.APS)(e.uri)))?(0,v.jsx)(_,{creators:e,onPiledCreatorsClick:t,isSmallIcon:s}):(0,v.jsx)(C,{creators:e,onCreatorClick:a})};function N({creators:e,onCreatorClick:t,onPiledCreatorsClick:a,isTunaApplied:i}){return(0,v.jsx)(r.Suspense,{fallback:null,children:(0,v.jsx)(R,{creators:e,onPiledCreatorsClick:a,onCreatorClick:t,isTunaApplied:i})})}},92432:(e,t,a)=>{a.d(t,{R:()=>s});var r=a(79462),i=a(86070);const s=({uri:e,enabled:t,className:a,children:s,onClick:n})=>t?(0,i.jsx)(r.N,{to:e,className:a,onClick:n,children:s}):(0,i.jsx)(i.Fragment,{children:s})}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map