"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{19844:(e,t,a)=>{a.d(t,{j:()=>N});var i=a(30758),r=a(97500),s=a.n(r),n=a(25270),o=a(41784),l=a(12599),c=a(17640),u=a(17871),d=a(43294),p=a(42256),m=a(98637),h=a(24498);var y=a(77729),g=a(41952),x=a(85586),b=a(86313),v=a(86070);function L(e){return e.displayName||e.name||""}const j=e=>{let t=null;return(0,l.ecE)(e)&&(t=(0,v.jsx)(p.t,{uri:e})),(0,l.APS)(e)&&(t=(0,v.jsx)(m.B,{uri:e})),t},A=({creator:e,onClick:t,position:a=0})=>{const r=(0,i.useCallback)((i=>{t?.(i,{position:a,creator:e})}),[e,t,a]);return(0,y.s)(e)?(0,v.jsx)(d.h,{menu:j(e.uri),children:(0,v.jsx)(n.E,{variant:"bodySmallBold",children:(0,v.jsx)(h.N,{"data-testid":"creator-link",to:e.uri,onClick:r,children:L(e)})})}):(0,v.jsx)(n.E,{variant:"bodySmall",children:L(e)})},k=({creator:e,onClick:t,isSmallIcon:a})=>{const[i,r]=c.Ru.get("playlist.header.made-for","USER").split("USER");return(0,v.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper,{[b.A.smallMadeForIcon]:a}),children:[(0,v.jsx)(o.D,{semanticColor:"textBrightAccent"}),(0,v.jsx)(n.E,{variant:"bodySmall",children:i}),(0,v.jsx)(A,{creator:e,onClick:t}),r&&(0,v.jsx)(n.E,{variant:"bodySmall",children:r})]})},C=({creator:e,onClick:t,isSmallIcon:a,prefix:i})=>(0,v.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[e.images.length>0&&(0,v.jsx)(u.e,{label:L(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small"}),i&&(0,v.jsx)(n.E,{variant:"bodySmall",children:i}),(0,v.jsx)(A,{creator:e,onClick:t})]}),f=({creators:e,onPiledCreatorsClick:t,isSmallIcon:a})=>{const i=(0,v.jsx)("div",{className:b.A.piled,children:e.slice(0,3).map(((e,t)=>(0,v.jsx)(u.e,{label:L(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small",piled:t>0},e.uri)))});let r=c.Ru.get("playlist.header.creator-and-others",L(e[0]),e.length-1);return 2===e.length&&(r=c.Ru.get("playlist.header.creator-and-co-creator",L(e[0]),L(e[1]))),t?(0,v.jsxs)("button",{className:s()(b.A.metaDataText,b.A.creatorWrapper,b.A.creatorButton),onClick:t,children:[i,r]}):(0,v.jsxs)("div",{className:s()(b.A.metaDataText,b.A.creatorWrapper),children:[i,r]})},_=({creators:e,onCreatorClick:t})=>(0,v.jsx)(v.Fragment,{children:e.map(((e,a)=>(0,v.jsxs)(i.Fragment,{children:[0!==a&&(0,v.jsx)("span",{className:b.A.divider}),(0,v.jsx)(A,{creator:e,onClick:t,position:a})]},e.id)))}),R=({creators:e,onPiledCreatorsClick:t,onCreatorClick:a,isTunaApplied:i})=>{const r=(0,x.y)(),s=r===(g.E.SMALL||r===g.E.XSMALL);if(1===e.length){const[t]=e;return t.isMadeFor?(0,v.jsx)(k,{creator:t,onClick:a,isSmallIcon:s}):(0,v.jsx)(C,{creator:t,onClick:a,isSmallIcon:s,prefix:i?"":void 0})}return e.length>0&&e.every((e=>(0,l.APS)(e.uri)))?(0,v.jsx)(f,{creators:e,onPiledCreatorsClick:t,isSmallIcon:s}):(0,v.jsx)(_,{creators:e,onCreatorClick:a})};function N({creators:e,onCreatorClick:t,onPiledCreatorsClick:a,isTunaApplied:r}){return(0,v.jsx)(i.Suspense,{fallback:null,children:(0,v.jsx)(R,{creators:e,onPiledCreatorsClick:a,onCreatorClick:t,isTunaApplied:r})})}},22902:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(92579);const r="rTMkDBDp47Eo12ZEQv4U";var s=a(86070);const n=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{if(e.untyped)return(0,s.jsx)(i.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let r;return r="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,s.jsx)(i.Z,{as:"p",variant:"finale",dir:"auto",children:`${r} ${a}`},t)}));return t&&a.unshift((0,s.jsx)(i.Z,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,s.jsx)("div",{className:r,children:a})}},33675:(e,t,a)=>{a.d(t,{u:()=>m});var i=a(97500),r=a.n(i),s=a(40638),n=a(20440),o=a(28475),l=a(12543),c=a(499),u=a(58089),d=a(86697),p=a(86070);const m=({uri:e,src:t,playAriaLabel:a,onClick:i,isPlaying:m,isActive:h,isLocked:y,isEpisode:g,isVideo:x,spec:b})=>{const v=(0,l.W)(),L=(0,u.s)(),j=(0,s.YQ)((t=>{let a;if(v({type:"click",intent:m?"pause":"play"}),b){const t=b.playbackButtonFactory();let i;i=h&&m?t.hitPause({itemToBePaused:e}):h&&!m?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),a=L.logInteraction(i)}i(t,a)}),c.d,{leading:!0,trailing:!1});return(0,p.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,p.jsx)(o.e,{src:t,isEpisode:g,isVideo:x}),(0,p.jsx)(n.x,{className:r()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:j,isPlaying:m,isLocked:y,playAriaLabel:a})]})}},47804:(e,t,a)=>{a.d(t,{R:()=>s});var i=a(24498),r=a(86070);const s=({uri:e,enabled:t,className:a,children:s,onClick:n})=>t?(0,r.jsx)(i.N,{to:e,className:a,onClick:n,children:s}):(0,r.jsx)(r.Fragment,{children:s})},55532:(e,t,a)=>{a.d(t,{J:()=>n});var i=a(24792),r=a(31491);const s=new i.l("getTrack","query","26cd58ab86ebba80196c41c3d48a4324c619e9a9d7df26ecca22417e0c50c6a4",null),n=(e,t)=>(0,r.I)(s,e,t)},80008:(e,t,a)=>{a.r(t),a.d(t,{default:()=>bi});var i=a(30758),r=a(97500),s=a.n(r),n=a(85387),o=a(25270),l=a(20953),c=a(46462);const u="music",d="2.1.0",p="default",m="12.2.0";function h(e){return new y(e)}class y{constructor(e){this._path=[{name:"desktop-track",...e.data}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}headerFactory(){return new y.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new y.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"header"}),t&&(this._parentAbsoluteLocation=t)}artistLinkFactory(t){return new e.HeaderEventFactory.ArtistLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"action_bar"}),t&&(this._parentAbsoluteLocation=t)}playButtonFactory(){return new e.ActionBarEventFactory.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.ActionBarEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextButtonFactory(){return new e.ActionBarEventFactory.ContextButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){!function(e){e.ArtistLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({...a,name:"artist_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(y||(y={})),function(e){!function(e){e.PlayButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"play_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.ContextButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"context_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:m,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={}));var g=a(12599),x=a(17640),b=a(43294),v=a(51775),L=a(80478),j=a(33860),A=a(9467),k=a(46511),C=a(80678),f=a(86422),_=a(59276),R=a(19844),N=a(25),P=a(44457),I=a(32710),w=a(58993),E=a(27498),T=a(45131),S=a(73493),U=a(24792),F=a(31491);const B=new U.l("internalLinkRecommenderTrack","query","c77098ee9d6ee8ad3eb844938722db60570d040b49f41f5ec6e7be9160a7c86b",null);var V=a(75044),M=a(99150),O=a(55405),D=a(50572),q=a(65463);var Z=a(62411),z=a(52426),$=a(92097),G=a(67843),W=a(8044),X=a(20607),H=a(7397),J=a(29471),Q=a(76260);var Y=a(47804),K=a(87017),ee=a(44363),te=a(91343),ae=a(33675),ie=a(58193),re=a(6723),se=a(75267),ne=a(68607),oe=a(42743),le=a(2959),ce=a(81315),ue=a(67037),de=a(35301),pe=a(88429),me=a(16772),he=a(60707),ye=a(78249),ge=a(76541),xe=a(88774),be=a(82232),ve=a(3754),Le=a(56838);const je="Z9Dr8PkXFtlO8KnnDcxp",Ae="Bm0LUMlhVIcF5qusgdUP",ke="GIyB7JDkRwjtVL6PSBbg",Ce="whTIka0YYAkqhqrs26Wa",fe="ulEQOyh4lZiAVbgiCfPQ";var _e=a(86070);const Re=i.memo((function({uri:e,name:t,imgUrl:a,artists:i,isExplicit:r,index:s,albumUri:n,contextUri:o,isPlayable:l,isMOGEFRestricted:c,totalMilliseconds:u,playcount:d,usePlayContextItem:p}){const{isActive:m,isPlaying:h,triggerPlay:y,togglePlay:g}=p({uri:e,index:s}),L=(0,ve.T)(e),{isPlayable:j,isAnyArtistBanned:A}=(0,he.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:i.map((e=>e.uri))}),{unBanArtists:k}=(0,me.M)(i.map((e=>e.uri))),C=i.map((e=>e.name)).join(x.Ru.getSeparator()),{badges:f,hasBadges:_}=(0,Le.b)({isMOGEFRestricted:c,downloadAvailability:L,isExplicit:r}),R=i.map((e=>e.name)).join(x.Ru.getSeparator()),N=(0,M.c)();return(0,_e.jsx)(be.pZ,{value:"row",index:s,children:(0,_e.jsx)(b.h,{menu:(0,_e.jsx)(v.P,{uri:e,albumUri:n,artists:i,contextUri:o}),children:(0,_e.jsxs)(de.w,{uri:e,contextUri:o,isPlayable:j,isAnyArtistBanned:A,handleArtistBanUndoClick:k,onTriggerPlay:(e,t)=>{y({loggingParams:t})},isActive:m,index:s,ariaRowIndex:s,dragMetadata:{name:t,createdBy:C},isExplicit:r,children:[(0,_e.jsxs)(oe.U,{ariaColIndex:0,children:[(0,_e.jsx)(ae.u,{uri:e,src:a,onClick:(e,t)=>{g({loggingParams:t})},isLocked:!1,isPlaying:h,isActive:m,playAriaLabel:x.Ru.get("tracklist.a11y.play",t,C)}),(0,_e.jsxs)(ie.l,{children:[(0,_e.jsx)(Y.R,{uri:e,enabled:N,className:ke,children:(0,_e.jsx)(ue.p,{titleText:t,children:t})}),_&&(0,_e.jsxs)(ee.P,{children:[f.download&&(0,_e.jsx)(ge._,{}),f.explicit&&(0,_e.jsx)(ye.U,{}),f.nineteen&&(0,_e.jsx)(xe.q,{className:Ce,size:16})]}),(0,_e.jsx)(ce.p,{children:(0,_e.jsx)(K.l,{artists:i})})]})]}),(0,_e.jsx)(le.o,{ariaColIndex:1,children:(0,_e.jsx)(se.Y,{playcount:d})}),(0,_e.jsxs)(ne.l,{ariaColIndex:2,children:[(0,_e.jsx)(pe.d,{uri:e}),(0,_e.jsx)(te.P,{duration:u}),(0,_e.jsx)(re.Y,{menu:(0,_e.jsx)(v.P,{uri:e,albumUri:n,contextUri:o,artists:i}),label:x.Ru.get("more.label.track",t,R)})]})]})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));var Ne=a(44483),Pe=a(50962),Ie=a(49026),we=a(42668),Ee=a(69154),Te=a(81637),Se=a(75539);const Ue=i.memo((function({subtitle:e,uri:t}){const a=(()=>{const e=(0,M.c)(),t=(0,D.o)(q.P.ExtendTrackRecommendations,(0,n.zy)()),a=(0,V.NC)(O.FtF)===O.J9B.Enabled;return!!e&&(t||a)})(),{data:r}=(s={uri:t,limit:a?10:5},(0,F.I)(B,s,c));var s,c;const[u,d]=(0,i.useState)(!1),p=function(e){return(e||[]).filter((e=>(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Track"===e.__typename;var t})(e.data))).map((e=>e.data))}(r?.seoRecommendedTrack.items),m=(0,i.useMemo)((()=>p?.slice(0,Math.min(p.length,5))),[p]),h=(0,i.useMemo)((()=>u?p:m),[m,u,p]),y=(0,i.useCallback)((e=>({uri:"uri"in e?e.uri:""})),[]),g=(0,i.useMemo)((()=>[Ie.$.TITLE_AND_ARTIST,Ie.$.ALBUM,Ie.$.DURATION]),[]),b=`${t}|[${(a?p:m).map((e=>e.uri))}]`,v=(e=>{const t=(0,V.NC)(O.FtF),a=(0,G.vh)(),i=(0,M.c)(),r=(0,W.V)(),s=(0,Z.d4)(H.F6),n=(0,Z.d4)(X.JJ),o={category:"track_ilr_exposures",action:"track_page_visit",variant:t,label:"dwp",os:(0,Q.f)(),context:e,country:s?n:"",sp_t:(0,J.v8)("sp_t")};return()=>{i&&(r?a.send((0,$.r)(o)):a.send((0,z._)(o)))}})(b);(0,i.useEffect)((()=>{v()}),[v]);const{usePlayContextItem:L}=(0,we.P)({uri:"spotify:internal:recs:track-ilr",pages:[{items:p?.map((e=>({uri:e.uri,uid:null,type:Se.c.TRACK,provider:null})))}]},{featureIdentifier:"ilr"}),j=(0,i.useCallback)(((e,a)=>(0,_e.jsx)(Re,{index:a,contextUri:t,uri:e.uri,name:e.name,totalMilliseconds:e.duration.totalMilliseconds,imgUrl:e.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:e.playability.playable,artists:e.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:e?.albumOfTrack?.uri||"",isExplicit:e.contentRating?.label===Te.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===Te.x7.NineteenPlus,playcount:parseInt(e.playcount||"0",10),usePlayContextItem:L},`${a}-${e.uri}`)),[t,L]);return p?.length?(0,_e.jsxs)("div",{className:je,children:[(0,_e.jsxs)("div",{className:Ae,children:[(0,_e.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:x.Ru.get("playlist.extender.recommended.title")}),(0,_e.jsx)(o.E,{variant:"bodySmall",paddingBottom:l.CD,children:e})]}),(0,_e.jsx)(Pe.S4,{ariaLabel:x.Ru.get("playlist.extender.recommended.title"),nrTracks:h.length,rowPlaceholder:Ne.qq,tracks:h,renderRow:j,resolveItem:y,columns:g},"internal-link-recommender-track-list"),a&&(0,_e.jsx)("button",{"aria-expanded":u,className:fe,onClick:()=>{d(!u)},"data-testid":u?"show-less-button":"see-more-button",children:(0,_e.jsx)(o.E,{as:"div",variant:"bodySmallBold",children:u?x.Ru.get("artist-page.tracks.showless"):x.Ru.get("artist-page.tracks.seemore")})})]}):null})),Fe=e=>{const{entityType:t}=e;return(0,_e.jsx)(S.s,{onError:()=>{(0,Ee.fE)({metric_type:T.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:t}})},children:(0,_e.jsx)(Ue,{...e})})};var Be=a(24498),Ve=a(83467),Me=a(62372),Oe=a(81952),De=a(37924),qe=a(6303);const Ze=({albums:e,artistName:t,artistId:a,artistUri:i,className:r})=>e?(0,_e.jsx)(be.pZ,{value:"shelf/albums",children:(0,_e.jsx)(De.$,{total:e.totalCount,title:x.Ru.get("rich-page.popular-albums-by-artist",{artist:t}),seeAllUri:`${(0,qe.Dh)(a)}:discography:${Te._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,qe.Ey)(e.items).map(((e,t)=>(0,_e.jsx)(Oe.K,{album:e,index:t,artistURI:i},e.uri)))})}):null;var ze=a(75463);const $e=({artistId:e,className:t,fansAlsoLike:a,title:i})=>(0,_e.jsx)(be.pZ,{value:"shelf/fans-also-like",children:(0,_e.jsx)(De.$,{total:a.length,title:i??x.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,qe.Dh)(e)}:related`,className:t,children:a.map(((e,t)=>(0,_e.jsx)(be.pZ,{value:"card",index:t,children:(0,_e.jsx)(ze.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Ge=a(10440);const We="ERm7dIKbVoqGwPb_lXPH",Xe=({artistName:e,artistUri:t,headerClassName:a,rowClassName:r,topTracks:s,topTracksTransformer:n,uri:l})=>{const c=(0,i.useMemo)((()=>s?.items.map((e=>n(e,l)))),[s?.items,n,l]);return c&&c.length>0?(0,_e.jsxs)("div",{className:r,children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)(o.E,{variant:"bodySmall",className:We,children:x.Ru.get("rich-page.popular-tracks")}),(0,_e.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:a,children:e})]}),(0,_e.jsx)(Ge.z,{uri:t,nrTracks:c.length,initialTracks:c})]}):null};var He=a(87983);const Je=({artistName:e,artistId:t,artistUri:a,className:r,releases:s,artistImages:n})=>{const o=(0,i.useMemo)((()=>n?{title:e,pretitle:x.Ru.get("artist-page.popular"),media:(0,He.h)(n,{desiredSize:48})||""}:null),[n,e]);return s?(0,_e.jsx)(be.pZ,{value:"shelf/releases",children:(0,_e.jsx)(De.$,{total:10,title:x.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,qe.Dh)(t)}:discography:${Te._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,...o,children:s.items.map(((e,t)=>(0,_e.jsx)(Oe.K,{album:e,index:t,artistURI:a},e.uri)))})}):null},Qe=({artistId:e,artistName:t,artistUri:a,className:i,singles:r})=>r?(0,_e.jsx)(be.pZ,{value:"shelf/singles-and-eps",children:(0,_e.jsx)(De.$,{total:r.totalCount,title:x.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:t}),seeAllUri:`${(0,qe.Dh)(e)}:discography:${Te._m.Single.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,qe.Ey)(r.items).map(((e,t)=>(0,_e.jsx)(Oe.K,{album:e,index:t,artistURI:a},e.uri)))})}):null;var Ye=a(2089),Ke=a(56691),et=a(61642),tt=a(1333),at=a(80654),it=a(16490),rt=a(87049);const st="VdIaMy6YRQX6cN5B7OVC",nt="LjkmarFarmUOq0nmv9iy",ot="VHigmLQwT1FxkKEbCs4H",lt="qX5K6LTMIuXG1gFBXzjZ",ct="fsH_X6pBkexdxtu19q5k",ut="sDbr7RxY_jjg1XXq8zU5",dt="MiWZGlZeQCy1tibDTql5",pt="uci6FedOoLZEL163ZR8k",mt="GDA6ugyRoV7ZiqIyOU4d",ht="IUBwxdZXklSkRPTZ9w_Q",yt="f7XB243E_dNMV9dkUXV6",gt="gQQC7YFmzffMUaCqbx3o",xt="QJVNM_FcLpEHhjDc_FU3",bt="Vd2oInYt1Ynz9X6KgL7o",vt="yUA20RYjsLIb7xXNRlfn",Lt="MVDvKVX1aJ05U9lmHzaz",jt=({richTrack:e})=>{const{search:t}=(0,n.zy)(),a=(0,i.useCallback)((()=>new URLSearchParams(t.slice(1)).get("highlight")||""),[t])(),{tracklistRef:r}=(0,rt.h)(),s=e.albumOfTrack,{playUri:o,playOptions:l}=(0,it.J)(s?.uri||""),{usePlayContextItem:c}=(0,we.P)({uri:o},{featureIdentifier:"album"},l),u=(0,i.useMemo)((()=>({items:[],totalCount:0})),[]),d=(0,at.t)();return s?(0,_e.jsx)("div",{ref:r,className:dt,children:(0,_e.jsx)(et.a,{columns:d,children:(0,_e.jsx)(tt.F,{albumName:s.name,nrTracks:s.tracks.totalCount,albumUri:s.uri,highlightUri:a,discs:u,usePlayContextItem:c,hasHeaderRow:!1})})}):null};var At=a(87015),kt=a(66108),Ct=a(49086),ft=a(79583),_t=a(25718),Rt=a(2565),Nt=a(52110),Pt=a(49671),It=a(25072),wt=a(92144),Et=a(81286),Tt=a(90677),St=a(11849),Ut=a(71468),Ft=a(5141);const Bt=i.memo((function({uri:e,togglePlay:t,isPlaying:a,isActive:r,spec:s,logger:n,backgroundColor:o,name:l,isPlayable:c,albumUri:u,artists:d}){const p=(0,Et.n)(),[m,h]=(0,Ut.A)(e),y=(0,It.d$)(),{spec:g,logger:b}=(0,Ft.r)(At.e,{data:{uri:e}});(0,i.useEffect)((()=>{y&&b.logImpression(g.impression())}),[y,b,g]);const L=(0,i.useCallback)((async()=>{const t=s.saveButtonFactory();n.logInteraction(m?t.hitRemoveLike({itemNoLongerLiked:e}):t.hitLike({itemToBeLiked:e})),m&&y&&b.logInteraction(g.hitAddToPlaylist({itemToBeAdded:e,playlist:St.BP}));try{await h(!m)}catch{}}),[e,m,s,n,h,y,b,g]),j=(0,i.useCallback)((()=>{const i=(0,Tt.$I)({isPlaying:a,isActive:r,spec:s.playButtonFactory(),logger:n,uri:e});t({loggingParams:i})}),[r,a,n,s,t,e]),A=(0,i.useCallback)((()=>{n.logInteraction(s.contextButtonFactory().hitUiReveal())}),[n,s]),k=(0,wt.j)();return(0,_e.jsx)(kt.E,{backgroundColor:o,children:(0,_e.jsxs)(Ct.S,{children:[(0,_e.jsx)(Pt.e,{children:(0,_e.jsx)(Me.D,{onClick:j,isPlaying:a,disabled:!c,size:k,uri:e})}),(0,_e.jsx)(Pt.e,{children:(0,_e.jsx)(ft.M,{isAdded:m,onClick:L,disabled:!p,size:k,condensed:!0})}),(0,_e.jsx)(_t.f,{uri:e,isFollowing:m,onFollow:L,size:k,condensed:!0}),(0,_e.jsx)(Nt.b,{menu:(0,_e.jsx)(v.P,{uri:e,albumUri:u,artists:d}),onShow:A,children:(0,_e.jsx)(Rt.e,{label:x.Ru.get("more.label.context",l),size:k})})]})})}));var Vt=a(92579);const Mt="OH5mnpJIVCJozYM3raMt",Ot="etw0slM6uVrCi5RR3iDi",Dt=({padded:e,providerDisplayName:t})=>t?(0,_e.jsx)(Vt.Z,{as:"p",dir:"auto",variant:"finale",className:`${Mt} ${e?Ot:""}`,children:x.Ru.get("web-player.lyrics.providedBy",t)}):null;var qt=a(91563);let Zt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const zt=(e,t)=>{switch(t.type){case"LYRICS_LOADING":return{...e,[t.uri]:{status:Zt.LOADING}};case"LYRICS_LOADED":return{...e,[t.uri]:{status:Zt.LOADED,data:t.response}};case"LYRICS_ERROR":return{...e,[t.uri]:{status:Zt.UNAVAILABLE}};default:return(0,qt.d)(t,`Unhandled lyrics action with type: ${t.type}`)}};var $t=a(43352),Gt=a(57863);var Wt=a(12878);const Xt=async({trackUri:e,api:t,imageForLyricsRequest:a,isPlayable:i})=>{if(!i)return{hasLyrics:!1};const r=(0,g.o_h)(e);try{const e=await(async(e,t,a)=>(await e.build().withHost(Gt.Hj).withPath(`/track/${encodeURIComponent(t)}/image/${encodeURIComponent(a)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(t||$t.n.getInstance(),r.id,a||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof Wt.O&&404===e.status)return{hasLyrics:!1};throw e}},Ht={status:Zt.LOADING},Jt={status:Zt.UNAVAILABLE},Qt=i.createContext(void 0),Yt=({children:e,initialState:t={}})=>{const a=i.useReducer(zt,t);return(0,_e.jsx)(Qt.Provider,{value:a,children:e})},Kt=({uri:e,isNotPermittedToFetchLyrics:t,imageForLyricsRequest:a,isPlayable:r})=>{const s=i.useContext(Qt);if(void 0===s)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[n,o]=s,l=e?n[e]:null;return(0,i.useEffect)((()=>{t||!l&&e&&(o({type:"LYRICS_LOADING",uri:e}),Xt({trackUri:e,imageForLyricsRequest:a,isPlayable:r}).then((t=>{o({type:"LYRICS_LOADED",uri:e,response:t})})).catch((()=>{o({type:"LYRICS_ERROR",uri:e})})))}),[o,a,t,r,l,e]),e&&(0,g.U_m)(e)&&!t&&r?l||Ht:Jt},ea=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const{data:i}=Kt({uri:e,imageForLyricsRequest:t,isPlayable:a});return i?.hasLyrics?(0,_e.jsx)(Dt,{providerDisplayName:i.providerDisplayName}):null};var ta=a(57221);const aa="QhDsXG1Gmo7XmQWLggAO",ia="bZgWQj7UxvK8GYKWDA7N",ra="AW61P3tnW5cKJCWtbhFh",sa=({buttonText:e,onSecondaryButtonClick:t,onPrimaryButtonClick:a,secondaryButtonText:i,text:r})=>(0,_e.jsxs)("div",{className:aa,"data-testid":"static-activation-trigger",children:[(0,_e.jsx)(o.E,{className:ia,variant:"bodyMediumBold",semanticColor:"textBase",children:r}),(0,_e.jsxs)("div",{className:ra,children:[(0,_e.jsx)(c.H,{onClick:t,semanticColor:"textBase",children:i}),(0,_e.jsx)(ta.$,{onClick:a,colorSet:"invertedLight",children:e})]})]});var na=a(62555);var oa=a(75773);const la="EaTxqhHk6J4ecKHwpY5m",ca="dUQl9yd5x_1oWk4L0Ntm",ua="xt5C47eHPYNiriMJxGnC";var da=a(80780);const pa=({words:e,onObserve:t,lyricsInView:a,...r})=>{const{ref:s,inView:n}=(0,oa.Wx)({threshold:0}),l=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{a||(l.current=!1)}),[a]),(0,i.useEffect)((()=>{l.current||n&&(t({text:e,outOfView:!1}),l.current=!0)}),[n,t,e]),(0,_e.jsx)(o.E,{ref:s,as:"p",dir:"auto",variant:"bodyMedium",className:ua,"data-testid":r["data-testid"],children:e})},ma="q1JbsdMqX7OImgIFWa6J",ha="hAGejMh7SncdbJ5wcfUi",ya="IaG9Zc3xGxeYjsn73RAz",ga="zgSEYVU2gMYxihFVEJPn",xa="expandable-lyrics-container";const ba=({lyrics:e,lyricsInView:t,onObserve:a,previewCount:r})=>{const[n,l]=(0,i.useState)(!1),{visibleLyrics:c,collapsibleLyrics:u}=function(e,t){let a=0,i=-1;const r=e.filter((e=>!!e.words));for(const[e,s]of r.entries())if(a+=s.words.length,a>t){i=e;break}if(i>-1)return{visibleLyrics:r.slice(0,i),collapsibleLyrics:r.slice(i)};return{visibleLyrics:r,collapsibleLyrics:[]}}(e,r),d=u.length>0,p=n?x.Ru.get("show_less"):`…${x.Ru.get("show_more")}`;return(0,_e.jsxs)(_e.Fragment,{children:[c.map((({words:e},i)=>(0,_e.jsx)(pa,{onObserve:a,words:e,lyricsInView:t,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${i}`))),(0,_e.jsx)("span",{"aria-hidden":!n,className:s()(ya,{[ga]:n}),children:u.map((({words:e},i)=>(0,_e.jsx)(pa,{onObserve:n?a:()=>{},words:e,lyricsInView:n&&t},`lyrics-seo-line-${i}`)))}),d&&(0,_e.jsx)("button",{className:ma,onClick:()=>{l(!n)},"aria-controls":xa,"aria-owns":xa,"aria-label":p,children:(0,_e.jsx)(o.E,{variant:"bodyMediumBold",className:ha,children:p})})]})},va=({data:e,eventSender:t,playbackId:a,previewCount:r,uri:s})=>{const{lyrics:n=[],provider:l,providerLyricsId:c,syncType:u}=e,{ref:d,inView:p}=(0,oa.Wx)({threshold:0}),m=function(e){const{trackUri:t,provider:a,providerLyricsId:r,syncType:s,eventSender:n,playbackId:o,isSnippet:l}=e,c=(0,i.useRef)(null),[u,d]=(0,i.useState)(!1),[p,m]=(0,i.useState)(0),[h,y]=(0,i.useState)(!1),g=(0,i.useMemo)((()=>(0,da.W)({lyrics_format:"track-page",track_uri:t,provider:a,provider_lyrics_id:r,sync_type:s,playback_id:o,is_snippet:l})),[t,a,r,s,o,l]);return(0,i.useEffect)((()=>{d(!1),m(0),y(!1),c.current=null}),[t]),(0,i.useEffect)((()=>{u&&o&&d(!1)}),[o]),(0,i.useEffect)((()=>{u||p>=140&&h&&(n?.send(g),d(!0))}),[p,u,g,n,h]),(0,i.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>1&&(m((e=>e+t.length)),u||null!==c.current||(c.current=setTimeout((()=>{y(!0)}),1500))),a&&(c.current&&clearTimeout(c.current),c.current=null,m(0))}),[m,u])}({trackUri:s,provider:l,providerLyricsId:c,syncType:u,eventSender:t,playbackId:a});return(0,i.useEffect)((()=>{p||m({outOfView:!0})}),[p,m]),(0,_e.jsxs)("div",{className:la,ref:d,children:[(0,_e.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:ca,children:x.Ru.get("web-player.lyrics.title")}),(0,_e.jsx)(ba,{lyrics:n,lyricsInView:p,onObserve:m,previewCount:r})]})};var La=a(22838),ja=a(11957),Aa=a(12434);const ka=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const[r,s]=(0,i.useState)(420),{data:n}=Kt({uri:e,imageForLyricsRequest:t,isPlayable:a}),o=(0,G.vh)(),{isPaused:l,currentTrackUri:c,playbackId:u}=(0,ja.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),Aa.a),d=!l&&c===e,p=(0,i.useCallback)((()=>{window.innerWidth<=768?s(280):window.innerWidth>768&&280===r&&s(420)}),[r]);return(0,i.useEffect)((()=>{p()}),[p]),(0,La.s)(p),n&&n?.hasLyrics?(0,_e.jsx)(va,{data:n,uri:e,eventSender:o,playbackId:d?u:void 0,previewCount:r}):null},Ca=e=>{const t=(e=>{const t=(0,G.vh)(),a=(0,Z.d4)(H.F6),i=(0,Z.d4)(X.JJ),r=(0,Z.d4)(H.oo),s=(0,W.V)();return()=>{if(s)return;(0,Ee.fE)({metric_type:T.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const n={category:"lyrics_render_error",label:"dwp",os:(0,na.f)(),context:JSON.stringify({uri:e,product:r}),country:a?i:"",sp_t:(0,J.v8)("sp_t")};t.send((0,z._)(n))}})(e.uri);return(0,_e.jsx)(S.s,{onError:t,children:(0,_e.jsx)(ka,{...e})})};var fa=a(2929);var _a=a(42132);const Ra="T1nqQ4HEh3heHy4RCCKa",Na="L8zjshPVgUMXyZR4FtOk",Pa="YMn1FWcFmOz9osBrNvhF",Ia="Inbyq3TnvKDOJtcKFTDQ",wa="lWk5se4WETUOJwaEb8D6",Ea="i8DyQbWCmDV_8N5XGJQT",Ta="t5WPFlGTY6GCd9UOFfLu",Sa="AGQ3wRyMVK1odq860qnT",Ua="ZX_r7uZgPgssaUplfpxT",Fa="qrqctaPu2XBpxsw23nPX",Ba="XnWidTagai3nQwMPxIMF";var Va=a(68583),Ma=a(71264),Oa=a(25960),Da=a(12942);let qa=function(e){return e.SMALL="small",e.LARGE="large",e}({});const Za=e=>{const{disabled:t,images:a,LinkComponent:i,name:r,size:o,uri:l,enableI18nRoutes:c,enableI18nAdditionalPages:u}=e,d=o===qa.SMALL,p=(0,n.Zp)(),m=(0,g.o_h)(l),h=m?.type,y=x.Ru.getLocaleForURLPath(),b=(0,Oa.p)({localeFeatureFlag:c,entityFeatureFlag:u,urlLocale:y,entity:h,type:"link"});return(0,_e.jsxs)("div",{className:s()(Na,{[Pa]:t}),"data-testid":"track-artist-link-card",children:[(0,_e.jsx)(Va.b,{shape:Va.u.CIRCLE,images:a,size:Ma.Qe.SIZE_80,title:r,type:Se.c.ARTIST}),(0,_e.jsxs)("div",{className:s()(wa,{[Ea]:d}),children:[(0,_e.jsx)(Vt.Z,{variant:"mestoBold",className:Ia,children:x.Ru.get("card.tag.artist")}),(0,_e.jsx)(i,{to:l,children:(0,_e.jsx)(Vt.Z,{as:"div",dir:"ltr",className:Ta,variant:"balladBold",children:r})})]}),(0,_e.jsx)("div",{onClick:()=>{const e=m?.toURL(`/${Da.CT}${y}/`);if(m){const t=b?e:m.toURLPath(!0);p(t)}},className:Sa})]})},za=({size:e=qa.LARGE,disabled:t=!1,enableI18nRoutes:a,enableI18nAdditionalPages:r,...n})=>{const[o,l]=(0,i.useState)(!1),u=(0,i.useCallback)((()=>{l(!o)}),[o]),d=n.artists;return(0,_e.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,_e.jsx)("div",{className:Ra,children:d.map(((i,l)=>(0,_e.jsx)("div",{className:s()({[Fa]:o&&l>5,[Ua]:l>5}),children:(0,_e.jsx)(Za,{name:i.name,uri:i.uri,images:i.images,size:e,LinkComponent:n.LinkComponent,disabled:t,enableI18nRoutes:a,enableI18nAdditionalPages:r},i.id)},`${i.uri}-${l}`)))}),d.length>6&&(0,_e.jsx)(c.H,{onClick:u,className:Ba,children:(0,_e.jsx)(Vt.Z,{as:"p",variant:"violaBold",children:o?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})})]})};var $a=a(21153);const Ga=e=>{const{albumArtists:t,columnCount:a,imageForLyricsRequest:r,isPlayable:o,uri:l}=e,c=a-2,u={"--column-count":a,"--left-column-end":c-2,"--right-column-start":c},{isAnonymous:d}=(0,Z.d4)(H.Ht),p=(0,Et.n)(),{data:m,status:h}=Kt({uri:l,isNotPermittedToFetchLyrics:d,imageForLyricsRequest:r,isPlayable:o}),y=!!m&&m.hasLyrics&&h!==Zt.UNAVAILABLE,g=(()=>{const e=(0,M.c)(),t=(0,n.zy)(),a=(0,D.o)(q.P.SeoLyricsReferrer,t),i=(0,fa.sp)(document.referrer)||a,r=(0,D.o)(q.P.SeoLyrics,t),s=(0,V.NC)(O.gAe)===O.vh7.Enabled;return!(!e||!i)&&(r||s)})(),b=y||d||g,v=(0,Z.d4)(_a.M),L=(0,Z.d4)(_a.N);return(0,_e.jsxs)(i.Suspense,{fallback:null,children:[b&&(0,_e.jsx)("div",{className:s()(ot,{[lt]:a>5}),style:{...u},"data-testid":"lyrics-container",children:d?g?(0,_e.jsx)("div",{"data-testid":"seo-lyrics-placeholder"}):(0,_e.jsx)(sa,{buttonText:x.Ru.get("sign_up"),secondaryButtonText:x.Ru.get("login"),text:x.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:$a.ie,onSecondaryButtonClick:$a.PW}):(0,_e.jsx)(Ca,{uri:l,imageForLyricsRequest:r,isPlayable:o})}),(0,_e.jsx)("div",{className:s()(st,{[nt]:a>5&&b}),style:{...u},children:(0,_e.jsx)(za,{artists:t,LinkComponent:Be.N,disabled:!p,enableI18nRoutes:v,enableI18nAdditionalPages:L})})]})};function Wa({playcount:e,durationMs:t}){return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(P.q,{children:(0,He.f)(t)}),e&&e>0?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(I.J,{}),(0,_e.jsx)(P.q,{variant:"bodySmall","data-testid":"playcount",children:x.Ru.formatNumber(e)})]}):null]})}var Xa=a(55532),Ha=a(35418),Ja=a(22902),Qa=a(21477);const Ya="o2TlnuNKxRO5RnB9BpHB",Ka="q0Ke_aAvTcc4dO4wCHQt",ei="UlKUfS_GcROZmofuafOW",ti="I5LORTI1u3A6VoUvRCBf",ai="TS85Qkpioa31wR0p4kzT",ii="yL1DLXBc05CR_ACv_NhA",ri="k5kRkUyoz9znqg_SGOVQ";var si=a(79483),ni=a(56377);let oi=function(e){return e.SMALL="small",e.LARGE="large",e}({});const li=({art:e,disabled:t=!1,LinkComponent:a,name:i,size:r=oi.SMALL,type:o,uri:l})=>{const c=e?[e]:[],u=r===oi.SMALL?(0,si.C)(o):function(e){switch(e){case ni.s.SINGLE:return x.Ru.get("track-page.from-the-single");case ni.s.EP:return x.Ru.get("track-page.from-the-ep");case ni.s.COMPILATION:return x.Ru.get("track-page.from-the-compilation");case ni.s.ALBUM:default:return x.Ru.get("track-page.from-the-album")}}(o),d=(0,n.Zp)();return(0,_e.jsxs)("div",{className:s()(Ya,{[ei]:r===oi.SMALL,[Ka]:t}),children:[(0,_e.jsx)("div",{className:ti,children:(0,_e.jsx)(Va.b,{images:c,size:Ma.Qe.SIZE_80,title:i,type:Se.c.ALBUM})}),(0,_e.jsxs)("div",{className:ai,children:[(0,_e.jsx)(Vt.Z,{variant:r===oi.SMALL?"mestoBold":"finale",children:u}),(0,_e.jsx)(a,{to:l,children:(0,_e.jsx)(Vt.Z,{as:"div",className:ii,variant:"balladBold",dir:"auto",children:i})})]}),(0,_e.jsx)("div",{onClick:()=>{d((0,g.o_h)(l).toURLPath(!0))},className:ri})]})};var ci=a(78256),ui=a(78247),di=a(16659),pi=a(44721),mi=a(68456),hi=a(23953);const yi=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),gi=e=>(e||[]).map((e=>e.profile.name)),xi=({uri:e,track:t})=>{const a=(0,Et.n)(),r=(0,W.V)(),n=(0,Ha.W)({type:"locale",uri:e}),u=x.Ru.getLocaleForTranslation(),d=parseInt(t.playcount||"0",10),{firstArtist:p,otherArtists:m,albumOfTrack:y,duration:g,name:T}=t,S=y?.coverArt,U=y?.copyright.items,F=y?.courtesyLine,B=y?.date,V=S?.extractedColors?.colorRaw.hex,M=(S?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),O=gi(p.items),D=gi(m.items),q=yi(p),Z=yi(m),z=[...q,...Z],$=p.items[0],G=t.albumOfTrack,X=G?.playability?.playable,H={artistId:$?.id,artistName:$?.profile?.name,artistUri:$?.uri},J=t.albumOfTrack?.coverArt?.sources,Q=(0,He.h)(J||void 0,{desiredLabel:"large",desiredSize:600})??J?.[0]?.url??"",[Y,K]=(0,i.useState)(!1),ee=(0,i.useCallback)((()=>{K(!Y)}),[Y]),te=m&&m.items.length>5,{spec:ae,logger:ie}=(0,Ft.r)(h,{data:{uri:e}}),re=t.playability.playable,{togglePlay:se,isPlaying:ne,isActive:oe}=(0,we.P)({uri:e},{featureIdentifier:"track"}),le=(0,i.useCallback)((()=>(0,mi.rO)({i18n:x.Ru,trackArtistsList:[...O,...D].join(x.Ru.getSeparator()),trackName:t.name,shouldLocalize:n})),[O,D,n,t.name]),ce=(0,i.useCallback)(((e,t)=>{ie.logInteraction(ae.headerFactory().artistLinkFactory({position:t.position,uri:t.creator.uri}).hitUiNavigate({destination:t.creator.uri}))}),[ie,ae]),ue=(0,i.useCallback)((()=>{const t=(0,Tt.$I)({isPlaying:ne,isActive:oe,spec:ae.actionBarFactory().playButtonFactory(),logger:ie,uri:e});se({loggingParams:t})}),[oe,ne,ie,ae,se,e]),de=G?.uri,pe=(0,i.useMemo)((()=>[...p.items,...m.items].map((e=>({uri:e.uri,name:e.profile.name})))),[p.items,m.items]),me=(0,_e.jsx)(v.P,{uri:e,albumUri:de,artists:pe});return(0,_e.jsxs)("section",{"data-testid":"track-page",children:[(0,_e.jsx)(L.Q,{children:le()}),(0,_e.jsx)(Ke.c,{artistOrShow:pe.map((e=>e.name)).join(x.Ru.getSeparator()),title:T,uri:e,entityType:Ke.p.TRACK}),(0,_e.jsxs)(j.z,{backgroundColor:V,children:[(0,_e.jsxs)(C.h,{children:[(0,_e.jsx)(Me.D,{size:"medium",onClick:ue,disabled:!re,isPlaying:ne,uri:e}),(0,_e.jsx)(b.h,{menu:me,children:(0,_e.jsx)(f.X,{text:T,dragUri:e,dragLabel:T})})]}),(0,_e.jsx)(b.h,{menu:me,children:(0,_e.jsx)(A.K,{dragUri:e,images:M,name:T,placeholderType:"album"})}),(0,_e.jsxs)(k.Y,{children:[(0,_e.jsx)(o.E,{variant:"bodySmallBold",children:x.Ru.get("song")}),(0,_e.jsx)(b.h,{menu:me,children:(0,_e.jsx)(w.mm,{dragUri:e,dragLabel:T,children:T})}),(0,_e.jsxs)(_.X,{children:[(0,_e.jsx)(R.j,{creators:q,onCreatorClick:ce}),G&&(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(I.J,{}),(0,_e.jsx)(P.q,{children:(0,_e.jsx)(Be.N,{to:G.uri,children:G.name})})]}),(0,_e.jsx)(I.J,{}),(0,_e.jsx)(N.H,{releaseDate:B}),(0,_e.jsx)(I.J,{}),(0,_e.jsx)(Wa,{playcount:d,durationMs:g.totalMilliseconds})]})]})]}),(0,_e.jsx)(Bt,{uri:e,togglePlay:se,isPlaying:ne,isActive:oe,spec:(0,i.useMemo)((()=>ae.actionBarFactory()),[ae]),logger:ie,backgroundColor:V,name:T,isPlayable:re,albumUri:de,artists:pe}),(0,_e.jsxs)(Yt,{children:[(0,_e.jsxs)("div",{className:"contentSpacing",children:[(0,_e.jsx)("div",{className:ct,children:(0,_e.jsx)(Qa.E,{render:({columnCount:t})=>(0,_e.jsx)(Ga,{imageForLyricsRequest:Q,albumArtists:z,columnCount:t,uri:e,isPlayable:re}),rowGap:l.lT})}),(0,_e.jsx)(Fe,{subtitle:x.Ru.get("internal-link-recommender.based-on-this-song"),uri:t.uri,entityType:Se.c.TRACK}),(0,_e.jsx)(Xe,{artistName:$.profile.name,artistUri:$.uri,headerClassName:mt,rowClassName:ct,topTracks:$.discography.topTracks,topTracksTransformer:Ye.fX,uri:t.uri}),(0,_e.jsx)(Je,{className:pt,releases:$?.discography?.popularReleasesAlbums,...H}),(0,_e.jsx)(Ze,{albums:$?.discography?.albums,className:pt,...H}),(0,_e.jsx)(Qe,{className:pt,singles:$?.discography?.singles,...H}),m.items.length>0&&(0,_e.jsx)("div",{className:yt,children:m.items.map(((e,t)=>(0,_e.jsx)(Je,{className:s()(ht,{[xt]:t>4,[bt]:Y&&t>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),te&&(0,_e.jsx)(c.H,{onClick:ee,className:vt,children:(0,_e.jsx)(o.E,{as:"h2",variant:"bodySmallBold",children:Y?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})}),(0,_e.jsx)(E.b,{uri:e,className:pt}),(0,_e.jsx)($e,{artistId:$.id,className:s()(pt,{[gt]:m.items.length>0}),fansAlsoLike:$.relatedContent.relatedArtists.items,title:x.Ru.get("artist-page.fansalsolike")}),G&&(0,_e.jsx)(li,{art:G.coverArt?.sources[0],disabled:!X||!a,LinkComponent:Be.N,name:G.name,type:G.type,size:oi.LARGE,uri:G.uri}),(0,_e.jsx)(jt,{richTrack:t})]}),(0,_e.jsx)("div",{className:"contentSpacing",children:(0,_e.jsxs)("div",{className:ut,children:[B?.isoString&&(0,_e.jsx)(o.E,{as:"p",variant:"bodySmall",className:Lt,children:(0,hi.rh)((0,hi.ad)(B.isoString),u,{year:"numeric",month:"long",day:"numeric"},(0,hi.rk)(B.precision))}),(0,_e.jsx)(Ja.Z,{copyrights:U||[],courtesyLine:F}),!r&&(0,_e.jsx)(ea,{uri:e,imageForLyricsRequest:Q,isPlayable:re})]})})]})]})},bi=(0,i.memo)((function(){const{trackId:e=""}=(0,n.g)(),t=(0,g.Mce)(e).toURI(),a=(0,Xa.J)({uri:t}),i="Track"===a.data?.trackUnion?.__typename&&a.data?.trackUnion?.visualIdentity?.squareCoverImage?.extractedColorSet?(0,di.V)(a.data?.trackUnion?.visualIdentity.squareCoverImage.extractedColorSet):null;return a.loading||a.error||"Track"!==a.data?.trackUnion?.__typename?(0,_e.jsx)(Ve.LoadingPage,{hasError:!a.loading,errorMessage:x.Ru.get("track-page.error")}):(0,_e.jsx)(ui.P,{surface:ci.u.TRACK,uris:[t,a.data.trackUnion.albumOfTrack?.uri??null],children:(0,_e.jsx)(pi.d,{dynamicColors:i,children:(0,_e.jsx)(xi,{uri:t,track:a.data.trackUnion})})})}))},80780:(e,t,a)=>{function i(e){return{name:"MinimumLyricsCharactersSeen",environments:["device","desktop","browser"],data:e}}a.d(t,{W:()=>i})}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map