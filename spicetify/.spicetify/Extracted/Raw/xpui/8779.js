"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8779],{88779:(e,s,t)=>{t.d(s,{DebugPanelEsperanto:()=>he});var n=t(30758),a=t(77812),l=t(33160),r=t(99149),c=t(94783),i=t(9853),o=t(83462),u=t(50629),d=t(91822),m=t(75887),h=t(72137),p=t(51959),v=t(78460),f=t(79215),S=t(37593),b=t(20318),y=t(44877),g=t(7364),C=t(65949),N=t(20952),x=t(81348),k=t(37026),E=t(25142),j=t(17820),M=t(60066),I=t(78989),R=t(12581),O=t(44436),_=t(3383),A=t(54706),D=t(76253),z=t(54659),B=t(47255),J=t(90948),P=t(43964),w=t(68345),q=t(34697),V=t(3105),F=t(53120),G=t(2193),H=t(7182),L=t(75708),W=t(33181),X=t(56627),U=t(18785),Y=t(53508),Z=t(40395),$=t(34986),T=t(46105),K=t(38234),Q=t(48347);const ee=[o.B,u.ve,d.Pc,m.BM,b.CJ,b.NB,b.uC,b.RI,b.UF,b.FY,b.B3,b.Dt,b.s,b.Xk,b.Yl,h.r,p.pt,v.MI,f.J1,S.di,y.BO,g.Pm,C._w,N.rM,N.A5,N.qM,x.hN,k.NI,E.lb,j.xo,M.IU,I.EW,R.oW,O.Gy,_.LN,A.HG,Q._4,D.Ag,z._,B.y9,J.A,P.J4,w.tx,q.ZN,V.xV,F._q,G.hA,H.f_,L.Ms,W.NH,X.$A,U.sp,Y.GD,Z.to1,Z.hm7,Z.hb0,Z.Bl$,Z.ZxE,T.aA,K.FZ,$.zW];var se=t(72829);function te(e){return JSON.parse(e,((e,s)=>null===s?void 0:s))}function ne(e){return JSON.stringify(e,((e,s)=>void 0===s?null:"bigint"==typeof s?s.toString():s),2)}function ae(){const{serviceMap:e,serviceNames:s}=(0,n.useMemo)((()=>{const e=function(e){return ee.sort(((e,s)=>e.SERVICE_ID.localeCompare(s.SERVICE_ID))).reduce(((s,t)=>(s[t.SERVICE_ID]={methods:t.METHODS,client:new t(e)},s)),{})}((0,se.X)());return{serviceMap:e,serviceNames:Object.keys(e)}}),[]),[t,a]=(0,n.useState)((()=>{const e=sessionStorage.getItem("esperantoServiceName");return e&&s.includes(e)?e:s[0]})),l=e[t].methods,r=e[t].client,c=Object.keys(l),[o,u]=(0,n.useState)((()=>{const e=sessionStorage.getItem("esperantoServiceMethodName");return e&&c.includes(e)?e:c[0]})),d=l[o].requestType,m=l[o].isStreaming,h=r[o],p=(0,n.useCallback)(((s,t)=>{const n=s??Object.keys(e)[0],l=e[n].methods,r=t??Object.keys(l)[0];a(n),u(r)}),[e,a,u]);(0,n.useEffect)((()=>()=>{sessionStorage.setItem("esperantoServiceName",t),sessionStorage.setItem("esperantoServiceMethodName",o)}),[t,o]);const v=(0,n.useMemo)((()=>ne((0,i.S)(d,{},{cleanPolicies:!0}))),[d]),f=(0,n.useMemo)((()=>(0,i.S)(d,{})),[d]),S=(0,n.useCallback)((e=>{try{return ne((0,i.S)(d,te(e),{cleanPolicies:!0}))}catch(s){return e}}),[d]),b=(0,n.useCallback)((async(e,s)=>{const t=d.fromPartial(te(e));if(m)return h.call(r,t,(e=>{s(ne(e))}));const n=await h.call(r,t);return s(ne(n)),null}),[r,m,d,h]);return{services:s,methods:c,service:t,method:o,client:r,message:d,call:b,jsonReference:f,jsonString:v,prettify:S,update:p}}const le="k0haAXLr7hf1SVRhhDf_",re="JzYBuC4I28TFE0vRsOB2",ce="Jifrv_M5FQ_4004rxNlX",ie="ai8gaZdopia8aUEGYxks",oe="sSRpW8Sztpp8r_xEe6yQ",ue="xoLDWOSxKz7zqi5PkIS1",de="GuzyU8s8JXVn4PKEcz1o";var me=t(86070);const he=()=>{const{services:e,methods:s,service:t,method:i,call:o,jsonReference:u,jsonString:d,prettify:m,update:h}=ae(),p=(0,n.useRef)(null),[v,f]=(0,n.useState)(!1),[S,b]=(0,n.useState)([]),y=S.length>0,[g,C]=(0,n.useState)((()=>{const e=sessionStorage.getItem("esperantoRequestContentByServiceAndMethod");try{return e?JSON.parse(e):{}}catch(e){return{}}})),N=(0,n.useRef)(g);(0,n.useEffect)((()=>{N.current=g}),[g]);const{Editor:x,setContent:k,getContent:E,setReference:j}=(0,c.h)({className:de,onDiagnostics:e=>b(e),onChange:e=>{C((s=>({...s,[t]:{...s[t],[i]:e}})))}}),{Editor:M,setContent:I}=(0,c.h)({className:de,readOnly:!0}),R=(0,n.useCallback)((()=>{null!==p.current&&(p.current.cancel(),p.current=null,f(!1))}),[f]),O=(0,n.useCallback)((async()=>{R();const e=await o(E()??"{}",(e=>{I(e)}));null!==e&&(p.current=e,f(!0))}),[o,R,E,I]),_=(0,n.useCallback)((async()=>{const e=m(E()??"{}");k(e)}),[m,E,k]),A=(0,n.useCallback)((async()=>{k(m("{}"))}),[m,k]);(0,n.useEffect)((()=>{j(u),k(d),I(""),R()}),[j,u,k,d,I,R]),(0,n.useEffect)((()=>{const e=N.current?.[t]?.[i];return e&&k(e),()=>{sessionStorage.setItem("esperantoRequestContentByServiceAndMethod",JSON.stringify(N.current))}}),[t,i,k]);const D=[{label:"Core",options:e.filter((e=>-1===e.indexOf("desktop"))).map((e=>({label:e,value:e})))},{label:"Desktop",options:e.filter((e=>-1!==e.indexOf("desktop"))).map((e=>({label:e,value:e})))}],z=s.map((e=>({label:e,value:e})));return(0,me.jsxs)("div",{className:le,children:[(0,me.jsxs)("div",{className:re,children:[(0,me.jsx)(a.E,{as:"p",variant:"bodyMedium",children:"Endpoint"}),(0,me.jsx)(r.Ay,{value:{label:t,value:t},options:D,onChange:e=>{h(e?.value??void 0)},styles:{menuList:s=>({...s,minHeight:`min(60vh, ${50*e.length}px)`})}}),(0,me.jsx)(r.Ay,{value:{label:i,value:i},options:z,onChange:e=>h(t,e?.value??void 0),styles:{menuList:e=>({...e,minHeight:`min(60vh, ${50*s.length}px)`})}})]}),(0,me.jsxs)("div",{className:ce,children:[(0,me.jsxs)("div",{className:oe,children:[(0,me.jsx)(a.E,{as:"p",variant:"bodyMedium",children:"Request"}),(0,me.jsx)(l.n,{className:ue,size:"small",onClick:A,children:"Reset"}),(0,me.jsx)(l.n,{className:ue,size:"small",disabled:y,onClick:_,children:"Prettify"}),(0,me.jsx)(l.n,{className:ue,size:"small",disabled:y,onClick:v?R:O,children:v?"Cancel":"Send"})]}),x]}),(0,me.jsxs)("div",{className:ie,children:[(0,me.jsx)("div",{className:oe,children:(0,me.jsx)(a.E,{as:"p",variant:"bodyMedium",children:"Response"})}),M]})]})}}}]);
//# sourceMappingURL=8779.js.map