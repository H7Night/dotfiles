"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8378],{9954:(e,a,i)=>{i.d(a,{X:()=>t});var s=i(63043);function t(e){return[s.kw.YES,s.kw.DOWNLOADING,s.kw.WAITING].includes(e)}},15310:(e,a,i)=>{i.d(a,{C:()=>p});var s=i(30758),t=i(75044),n=i(12543),r=i(55405);const o=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,a){return e.filter((e=>e.label?e.label===a:e.width?o(e.width)===a:!!e.height&&o(e.height)===a))[0]}var d=i(43028);var c=i(4319);function u(e){const a=l(e,"standard"),i=l(e,"large"),s=l(e,"small"),t=l(e,"xlarge");return{image_url:a?.url,image_height:a?.height?.toString(),image_width:a?.width?.toString(),image_url_large:i?.url,image_height_large:i?.height?.toString(),image_width_large:i?.width?.toString(),image_url_small:s?.url,image_height_small:s?.height?.toString(),image_width_small:s?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var m=i(36838),h=i(54799),g=i(75539);function p(e,a){const i=(0,n.W)(),o=(0,m.z)(),{isPlaying:l,isActive:p}=(0,h.te)(e?.uri||""),{isActive:x}=(0,h.l_)(a?.uri||""),v=(0,t.NC)(r.pZ0);return(0,s.useCallback)((s=>{if(!a||!e)return;const t=function(e,a,i=!1){const s=(e.coverArt?.sources||[]).sort(((e,a)=>(a.width||0)-(e.width||0))),t=(0,d.QH)(e,a),n=(0,d.gf)(a)||t,r=e.mediaTypes&&e.mediaTypes.includes(c.Cx.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:a.name,type:"episode",album_uri:a.uri,album_title:a.name,artist_uri:a.uri,artist_name:a.name,...u(s),media_type:i?r:"audio",isTrailer:t,anonymousPlaybackAllowed:n}}(e,a,v);x&&!l&&p&&!s?o.resume({featureIdentifier:"anon-episode"}):x&&l&&!s?(i({type:"click",intent:"pause",targetUri:e.uri}),o.pause({featureIdentifier:"anon-episode"})):(i({type:"click",intent:"play",targetUri:e.uri}),o.play({uri:a.uri,pages:[{items:[{type:g.c.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:o.getReferrer(),featureIdentifier:"episode"},s))}),[a,e,v,x,l,p,o,i])}},17188:(e,a,i)=>{i.d(a,{g:()=>s.g});var s=i(72536)},32925:(e,a,i)=>{i.d(a,{k:()=>ce});var s=i(30758),t=i(97500),n=i.n(t),r=i(25270),o=i(20953),l=i(58837),d=i(83155),c=i(70389),u=i(29529),m=i(12599),h=i(17640),g=i(63880),p=i(57221),x=i(56706);const v="rFwxt8s8DYY8p1O7tYZW",y="sA2HogGQNi8R_zpCWei5",f="H92pPTuqDR5DcoTtjcb3";var b=i(86070);const j=({cardHeaderText:e,buttonText:a,buttonTarget:i,className:t})=>{const o=(0,s.useCallback)((e=>{e.stopPropagation()}),[]),l=(0,m.o_h)(i).toURLPath(!0);return(0,b.jsxs)("div",{className:n()(v,t),onClick:o,children:[(0,b.jsxs)("div",{className:y,children:[(0,b.jsx)(g.p,{className:f,size:"small",semanticColor:"textBase"}),(0,b.jsx)(r.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:e})]}),(0,b.jsx)(p.$,{size:"small",colorSet:"invertedLight",component:x.v,href:l,children:a})]})};var k=i(31714),N=i(52116),w=i(3880),C=i(4806),S=i(49406),_=i(52110),P=i(56952),I=i(17188),M=i(93850),T=i(41952),D=i(9954),E=i(3754),R=i(63043),B=i(5141);const z="T9iBYqbERZHdwDl0U2tC",U="DS4BYgmEO7Wy5RutUt60",L="N2Fkohxhgu1_QAWUDc4O",A="hGbRiYkIjjy4sJvor0A2",F="OgaF7O4ER8AvZfFd6JdJ",O="yajqMP67F0nOikjbvLX9",G="bdGDIiYj50H66Hx5uevz",V="kiT5NMttSzIDbtqBKc1J",W="TG1hsDPHeO5QUf4EQasO",Y="_NdByrVnM0OS7aK_GfRn",H="afJf_mGi7ghd5WYQwPLb",q="UpgTvLnGW6GFjAUfaPXH",Z="kxVuYXZ4sVWn6XuJgFhX",Q="UvdRnanMNuY384mjTf2l",X="fmu47VumZ84IoKgMK1yU",J="dUScIGoP9fWn5IVsztB7",K={intent:"share",type:"click",itemIdSuffix:"contextmenu/episode/share"},$=s.memo((function({episodeUri:e,showUri:a,sharingInfo:i,size:t,canDownload:r,requestId:o,onMarkAsPlayed:l,onMoreButtonClick:d,name:c,fullyPlayed:u,index:m}){const g=(0,E.T)(e),{spec:p,logger:x}=(0,B.r)(k.d,{data:{uri:e,reason:o||"",position:m}}),v=t===T.E.LARGE?"medium":"small",y=(0,s.useMemo)((()=>(0,b.jsx)(N.e,{uri:e,size:v,className:n()({[F]:(0,D.X)(g)}),onClick:(a,i)=>{i===R.NV.ADD?x.logInteraction(p.downloadButtonFactory().hitDownload({itemToDownload:e})):R.NV.REMOVE&&x.logInteraction(p.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},canDownload:r,condensed:!0})),[e,g,p,x,v,r]),f=(0,s.useMemo)((()=>(0,b.jsx)(S.w,{uri:e,sharingInfo:i,interactionData:K,size:v,onClick:()=>{x.logInteraction(p.copyLinkFactory().hitShare({entityToBeShared:e,shareId:i?.shareId||""}))}})),[e,i,p,x,v]),j=(0,s.useMemo)((()=>(0,b.jsx)(C.b,{uri:e,size:v,className:F,onClick:a=>{a?x.logInteraction(p.saveToLibraryButtonFactory().hitLike({itemToBeLiked:e})):x.logInteraction(p.saveToLibraryButtonFactory().hitRemoveLike({itemNoLongerLiked:e}))},condensed:!0})),[e,p,x,v]),z=(0,M.v)(e),U=(0,s.useMemo)((()=>(0,b.jsx)(I.g,{size:v,uri:e,className:F})),[e,v]),L=(0,s.useMemo)((()=>(0,b.jsx)(_.b,{menu:(0,b.jsx)(P.b,{uri:e,showUri:a,isPlayed:u,onMarkAsPlayed:l}),children:(0,b.jsx)(w.e,{size:v,label:h.Ru.get("more.label.context",c),onClick:d})})),[e,u,c,l,d,a,v]);return(0,b.jsxs)(b.Fragment,{children:[z?U:j,y,f,L]})}));var ee=i(24498),ae=i(93787),ie=i(15792),se=i(22690),te=i(7840),ne=i(68583),re=i(71264),oe=i(75539),le=i(35963),de=i(48632);const ce=s.memo(s.forwardRef((function({uri:e,name:a,showName:i,showUri:t,size:g,description:p,durationMs:x,images:v,badges:y,fullyPlayed:f,releaseDate:k,resumePositionMs:N,isCurrentlyPlaying:w,isPlaying:C,onContextMenu:S,onTouchStart:_,onTouchEnd:P,handlePlaybackClick:I,draggable:M,handleDragStart:D,handleClick:E,position:R,index:B,isPlayable:F,isPaywalled:K,isUserSubscribed:ce,isCourseLesson:ue,episodeSharingInfo:me,playButtonWrapper:he=null,highlightText:ge=e=>e,onMarkAsPlayed:pe,contentInformation:xe,requestId:ve,mediaTypes:ye,onMoreButtonClick:fe,status:be,variant:je="default"},ke){const Ne=(0,te.g)(),we=w&&C,Ce=g===T.E.LARGE,Se=(0,m.o_h)(e).toURLPath(!0),_e=(0,m.o_h)(t)?.toURLPath(!0),Pe=(0,ae.hD)(e,k?.isoString,N,f),Ie=K&&!ce,Me=ye?.includes(le.C.Video)??!1,Te=Ie||F,De=h.Ru.get("tracklist.a11y.play",a,i),Ee=h.Ru.get("tracklist.a11y.pause",a,i),Re=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),ue||(Ne(Se),E&&E(e))}),[ue,E,Ne,Se]),Be=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),_e&&Ne(_e)}),[_e,Ne]),ze=(0,s.useCallback)((e=>{e.stopPropagation(),Ie||I(e)}),[I,Ie]),Ue=(0,b.jsx)(ie.R,{size:"small",version:"next-best-episode"===je?ie.H.primary:ie.H.secondary,onClick:ze,isPlaying:we,disabled:!Te,locked:Ie,ariaPlayLabel:De,ariaPauseLabel:Ee}),Le=he?he(Ue):Ue,Ae=(0,b.jsx)(b.Fragment,{children:be&&(0,b.jsx)(r.E,{variant:"bodySmall",semanticColor:"textSubdued",paddingBottom:o.vw,children:be})}),Fe=(0,b.jsxs)(l.d,{className:L,href:Se,onClick:Re,lineClamp:2,children:[Pe&&(0,b.jsx)(ae.Tc,{}),ge(a)]}),Oe=(0,b.jsxs)(d.j,{lineClamp:2,paddingBottom:Ce?o.v4:void 0,children:[Me&&(0,b.jsx)(se.T,{className:H}),i&&_e&&(0,b.jsx)(ee.N,{to:_e,onClick:Be,children:(0,b.jsx)(r.E,{variant:"bodySmall",semanticColor:"textSubdued",children:ge(i)})})]}),Ge=(0,b.jsxs)("div",{className:Q,children:[(0,b.jsx)(c.v,{lineClamp:2,paddingBottom:Ce?o.vw:void 0,children:ge(p??"")}),(0,b.jsxs)("div",{className:G,children:[(0,b.jsx)("div",{className:q,children:y}),(0,b.jsx)(de.j,{isPlaying:we,fullyPlayed:f,durationMs:x,releaseDate:k,resumePositionMs:N,position:w?R:void 0})]})]}),Ve=(0,b.jsxs)("div",{className:Z,children:[(0,b.jsx)("div",{onClick:e=>{e.stopPropagation()},className:A,children:(0,b.jsx)($,{episodeUri:e,showUri:t??"",sharingInfo:me,size:g,canDownload:!K||K&&ce,requestId:ve,index:B,name:a,fullyPlayed:f,onMarkAsPlayed:pe,onMoreButtonClick:fe})}),(0,b.jsx)("div",{children:Le})]}),We="default"===je&&(0,b.jsx)("div",{className:V,children:(0,b.jsx)(ne.b,{className:n()(W,{[Y]:Ce}),type:oe.c.EPISODE,size:(e=>{switch(e){case T.E.LARGE:return re.Qe.SIZE_112;case T.E.MEDIUM:return re.Qe.SIZE_64;default:return re.Qe.SIZE_48}})(g),title:a,shape:ne.u.ROUNDED_CORNERS,images:v})});return(0,b.jsxs)("div",{className:n()(z,{[U]:w,[J]:"next-best-episode"===je,[O]:ue}),"data-testid":`episode-${B}`,draggable:M&&!!D,onDragStart:D,onClick:Re,onContextMenu:S,onTouchStart:_,onTouchEnd:P,children:[xe&&(0,b.jsx)(j,{className:X,cardHeaderText:xe.cardHeaderText,buttonText:xe.buttonText,buttonTarget:xe.buttonTarget}),(0,b.jsx)(u.v,{size:"xxl",ref:ke,media:We,title:Fe,id:`episode-${B}`,subtitle:i&&_e?Oe:Ge,pretitle:Ae,body:i&&_e?Ge:void 0,variant:"naked",footer:Ve,hoverBackgroundColor:"backgroundHighlight",layout:Ce?"wide":"regular",horizontalGap:Ce?o.lT:o.CJ,verticalGap:o.v4,paddingBlockStart:o.CD,paddingBlockEnd:o.CD})]})})))},48632:(e,a,i)=>{i.d(a,{j:()=>S});var s=i(23953);const t="wIA_5Ypq0rltNPeZQpM4",n="Swi6YtNEFCCVz8l4y75v",r="pklLPOhfigdytL9bPoth",o="sb24Y8kdMZInJ8aI8dXT";var l=i(86070);function d({ariaValueText:e,max:a,current:i}){const s=a&&i?100*Math.min(1,i/a):0,d={transform:`translateX(-${100-s}%)`},c=e||`${Math.round(s)}%`;return(0,l.jsxs)("div",{className:t,role:"progressbar",tabIndex:0,"aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":a,"aria-valuetext":c,children:[(0,l.jsx)("div",{className:n}),(0,l.jsx)("div",{className:r,children:(0,l.jsx)("div",{"data-testid":"progressBarFg",className:o,style:d})})]})}const c="qfYkuLpETFW3axnfMntO",u="_q93agegdE655O5zPz6l",m="z7Yl7CIT1AB0y91f_moh",h="iLIlkUcfIq56KncGtX7u",g="nV50yZ6BR_TIuWP3l7b1",p="qLjIx_SzBEpDRA_q7kxQ";var x=i(25270),v=i(55095),y=i(17640),f=i(97500),b=i.n(f),j=i(71840),k=i(5805),N=i(49166);const w="xWm_uA0Co4SXVxaO7wlB",C=({durationMs:e,className:a,displaySeconds:i})=>{const{hours:s,minutes:t,seconds:n}=(0,k.S)(e);i=!1!==i&&!s&&n;const r=(0,N.j)({h:s,m:t,s:i?n:0});return r?(0,l.jsx)("span",{className:b()(w,a),children:y.Ru.get("time.left",r)}):null},S=e=>{const{resumePositionMs:a=0,releaseDate:i,isPlaying:t,fullyPlayed:n,durationMs:r,position:o=a,compactVariant:f=!1,className:k,progressBarClassName:N,progressStateClassName:w,releaseDateClassName:S}=e,_=i&&i.isoString?(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:u,children:(0,s.V2)((0,s.ad)(i.isoString),i.precision)}):null,P=(()=>{if(0===r)return null;if(n&&!t)return(0,l.jsxs)("div",{className:b()(h,w),children:[(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:m,children:y.Ru.get("episode.audiobook.chapter.finished")}),(0,l.jsx)(v.i,{size:"small",className:p,"aria-hidden":"true"})]});if(o>0||t){const e=Math.ceil(Math.max(r-o,0));return(0,l.jsx)("div",{className:b()(h,w),children:(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:m,children:(0,l.jsx)(C,{durationMs:e,displaySeconds:!f&&void 0})})})}return(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:b()(u,S),"data-testid":"episode-progress-not-played",children:(0,l.jsx)(j.d,{durationMs:r,displaySeconds:!f&&void 0})})})(),I=0===r?null:!n&&o>0||t?(0,l.jsx)("div",{className:b()(g,N),children:(0,l.jsx)(d,{current:o,max:r})}):null;return _||P||I?(0,l.jsxs)("div",{className:b()(c,k),children:[_,P,I]}):null}},52116:(e,a,i)=>{i.d(a,{e:()=>d});var s=i(30758),t=i(25718),n=i(12543),r=i(71468),o=i(86070);const l=s.memo((function({uri:e,size:a=t.M.md,className:i,onClick:l,showUpsell:d,canDownload:c,condensed:u}){const[m,h]=(0,r.A)(e),g=(0,n.W)(),p=(0,s.useCallback)((()=>{g({targetUri:e,intent:m?"remove-from-library":"add-to-library",type:"click"}),h(!m)}),[g,e,m,h]);return(0,o.jsx)(t.f,{className:i,isFollowing:m,onFollow:p,onClick:l,uri:e,size:a,showUpsell:d,canDownload:c,condensed:u})})),d=s.memo((function(e){return(0,o.jsx)(l,{...e})}))},71840:(e,a,i)=>{i.d(a,{d:()=>d});var s=i(97500),t=i.n(s),n=i(5805),r=i(49166);const o="UyzJidwrGk3awngSGIwv";var l=i(86070);const d=({durationMs:e,className:a,displaySeconds:i})=>{const{hours:s,minutes:d,seconds:c}=(0,n.S)(e);return i=!1!==i&&!s&&c,(0,l.jsx)("span",{className:t()(o,a),children:(0,r.j)({h:s,m:d,s:i?c:0})})}},93850:(e,a,i)=>{i.d(a,{v:()=>s.v});var s=i(74931)}}]);
//# sourceMappingURL=8378.js.map